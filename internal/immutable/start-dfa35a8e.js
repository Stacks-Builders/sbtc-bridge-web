import{S as Ct,i as qt,s as Vt,a as Bt,e as B,c as Ft,b as H,g as ue,t as F,d as de,f as J,h as M,j as Jt,o as Ae,k as Mt,l as Gt,m as Ht,n as Ue,p as D,q as Kt,r as Wt,u as zt,v as K,w as W,x as Re,y as z,z as Y,A as fe}from"./chunks/index-936b3cba.js";import{S as ze,I as T,g as Ye,f as Qe,a as je,b as pe,s as G,i as Xe,c as he,P as Ze,d as Yt,e as Qt,h as Xt}from"./chunks/singletons-48d936cb.js";import{_ as Pe}from"./chunks/preload-helper-41c905a7.js";let et,Zt=(async()=>{function tt(a,e){return a==="/"||e==="ignore"?a:e==="never"?a.endsWith("/")?a.slice(0,-1):a:e==="always"&&!a.endsWith("/")?a+"/":a}function rt(a){return a.split("%25").map(decodeURI).join("%25")}function at(a){for(const e in a)a[e]=decodeURIComponent(a[e]);return a}const nt=["href","pathname","search","searchParams","toString","toJSON"];function ot(a,e){const r=new URL(a);for(const l of nt){let s=r[l];Object.defineProperty(r,l,{get(){return e(),s},enumerable:!0,configurable:!0})}return st(r),r}function st(a){Object.defineProperty(a,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}const it="/__data.json";function lt(a){return a.replace(/\/$/,"")+it}function ct(a){let e=5381;if(typeof a=="string"){let r=a.length;for(;r;)e=e*33^a.charCodeAt(--r)}else if(ArrayBuffer.isView(a)){const r=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);let l=r.length;for(;l;)e=e*33^r[--l]}else throw new TypeError("value must be a string or TypedArray");return(e>>>0).toString(36)}const ae=window.fetch;window.fetch=(a,e)=>((a instanceof Request?a.method:(e==null?void 0:e.method)||"GET")!=="GET"&&Q.delete(me(a)),ae(a,e));const Q=new Map;function ut(a,e){const r=me(a,e),l=document.querySelector(r);if(l!=null&&l.textContent){const{body:s,...g}=JSON.parse(l.textContent),t=l.getAttribute("data-ttl");return t&&Q.set(r,{body:s,init:g,ttl:1e3*Number(t)}),Promise.resolve(new Response(s,g))}return ae(a,e)}function dt(a,e,r){if(Q.size>0){const l=me(a,r),s=Q.get(l);if(s){if(performance.now()<s.ttl&&["default","force-cache","only-if-cached",void 0].includes(r==null?void 0:r.cache))return new Response(s.body,s.init);Q.delete(l)}}return ae(e,r)}function me(a,e){let r=`script[data-sveltekit-fetched][data-url=${JSON.stringify(a instanceof Request?a.url:a)}]`;return e!=null&&e.body&&(typeof e.body=="string"||ArrayBuffer.isView(e.body))&&(r+=`[data-hash="${ct(e.body)}"]`),r}const ft=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function pt(a){const e=[];return{pattern:a==="/"?/^\/$/:new RegExp(`^${mt(a).map(r=>{const l=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(r);if(l)return e.push({name:l[1],matcher:l[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const s=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(r);if(s)return e.push({name:s[1],matcher:s[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!r)return;const g=r.split(/\[(.+?)\](?!\])/);return"/"+g.map((t,u)=>{if(u%2){if(t.startsWith("x+"))return ge(String.fromCharCode(parseInt(t.slice(2),16)));if(t.startsWith("u+"))return ge(String.fromCharCode(...t.slice(2).split("-").map(N=>parseInt(N,16))));const y=ft.exec(t);if(!y)throw new Error(`Invalid param: ${t}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,m,f,x,E]=y;return e.push({name:x,matcher:E,optional:!!m,rest:!!f,chained:f?u===1&&g[0]==="":!1}),f?"(.*?)":m?"([^/]*)?":"([^/]+?)"}return ge(t)}).join("")}).join("")}/?$`),params:e}}function ht(a){return!/^\([^)]+\)$/.test(a)}function mt(a){return a.slice(1).split("/").filter(ht)}function gt(a,e,r){const l={},s=a.slice(1);let g="";for(let t=0;t<e.length;t+=1){const u=e[t];let y=s[t];if(u.chained&&u.rest&&g&&(y=y?g+"/"+y:g),g="",y===void 0)u.rest&&(l[u.name]="");else{if(u.matcher&&!r[u.matcher](y)){if(u.optional&&u.chained){let m=s.indexOf(void 0,t);if(m===-1){const f=e[t+1];if(f!=null&&f.rest&&f.chained)g=y;else return}for(;m>=t;)s[m]=s[m-1],m-=1;continue}return}l[u.name]=y}}if(!g)return l}function ge(a){return a.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function yt(a,e,r,l){const s=new Set(e);return Object.entries(r).map(([u,[y,m,f]])=>{const{pattern:x,params:E}=pt(u),N={id:u,exec:C=>{const j=x.exec(C);if(j)return gt(j,E,l)},errors:[1,...f||[]].map(C=>a[C]),layouts:[0,...m||[]].map(t),leaf:g(y)};return N.errors.length=N.layouts.length=Math.max(N.errors.length,N.layouts.length),N});function g(u){const y=u<0;return y&&(u=~u),[y,a[u]]}function t(u){return u===void 0?u:[s.has(u),a[u]]}}function vt(a){let e,r,l;var s=a[0][0];function g(t){return{props:{data:t[2],form:t[1]}}}return s&&(e=K(s,g(a))),{c(){e&&W(e.$$.fragment),r=B()},l(t){e&&Re(e.$$.fragment,t),r=B()},m(t,u){e&&z(e,t,u),H(t,r,u),l=!0},p(t,u){const y={};if(u&4&&(y.data=t[2]),u&2&&(y.form=t[1]),s!==(s=t[0][0])){if(e){ue();const m=e;F(m.$$.fragment,1,0,()=>{Y(m,1)}),de()}s?(e=K(s,g(t)),W(e.$$.fragment),J(e.$$.fragment,1),z(e,r.parentNode,r)):e=null}else s&&e.$set(y)},i(t){l||(e&&J(e.$$.fragment,t),l=!0)},o(t){e&&F(e.$$.fragment,t),l=!1},d(t){t&&M(r),e&&Y(e,t)}}}function wt(a){let e,r,l;var s=a[0][0];function g(t){return{props:{data:t[2],$$slots:{default:[bt]},$$scope:{ctx:t}}}}return s&&(e=K(s,g(a))),{c(){e&&W(e.$$.fragment),r=B()},l(t){e&&Re(e.$$.fragment,t),r=B()},m(t,u){e&&z(e,t,u),H(t,r,u),l=!0},p(t,u){const y={};if(u&4&&(y.data=t[2]),u&523&&(y.$$scope={dirty:u,ctx:t}),s!==(s=t[0][0])){if(e){ue();const m=e;F(m.$$.fragment,1,0,()=>{Y(m,1)}),de()}s?(e=K(s,g(t)),W(e.$$.fragment),J(e.$$.fragment,1),z(e,r.parentNode,r)):e=null}else s&&e.$set(y)},i(t){l||(e&&J(e.$$.fragment,t),l=!0)},o(t){e&&F(e.$$.fragment,t),l=!1},d(t){t&&M(r),e&&Y(e,t)}}}function bt(a){let e,r,l;var s=a[0][1];function g(t){return{props:{data:t[3],form:t[1]}}}return s&&(e=K(s,g(a))),{c(){e&&W(e.$$.fragment),r=B()},l(t){e&&Re(e.$$.fragment,t),r=B()},m(t,u){e&&z(e,t,u),H(t,r,u),l=!0},p(t,u){const y={};if(u&8&&(y.data=t[3]),u&2&&(y.form=t[1]),s!==(s=t[0][1])){if(e){ue();const m=e;F(m.$$.fragment,1,0,()=>{Y(m,1)}),de()}s?(e=K(s,g(t)),W(e.$$.fragment),J(e.$$.fragment,1),z(e,r.parentNode,r)):e=null}else s&&e.$set(y)},i(t){l||(e&&J(e.$$.fragment,t),l=!0)},o(t){e&&F(e.$$.fragment,t),l=!1},d(t){t&&M(r),e&&Y(e,t)}}}function Oe(a){let e,r=a[5]&&Ie(a);return{c(){e=Mt("div"),r&&r.c(),this.h()},l(l){e=Gt(l,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var s=Ht(e);r&&r.l(s),s.forEach(M),this.h()},h(){Ue(e,"id","svelte-announcer"),Ue(e,"aria-live","assertive"),Ue(e,"aria-atomic","true"),D(e,"position","absolute"),D(e,"left","0"),D(e,"top","0"),D(e,"clip","rect(0 0 0 0)"),D(e,"clip-path","inset(50%)"),D(e,"overflow","hidden"),D(e,"white-space","nowrap"),D(e,"width","1px"),D(e,"height","1px")},m(l,s){H(l,e,s),r&&r.m(e,null)},p(l,s){l[5]?r?r.p(l,s):(r=Ie(l),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(l){l&&M(e),r&&r.d()}}}function Ie(a){let e;return{c(){e=Kt(a[6])},l(r){e=Wt(r,a[6])},m(r,l){H(r,e,l)},p(r,l){l&64&&zt(e,r[6])},d(r){r&&M(e)}}}function _t(a){let e,r,l,s,g;const t=[wt,vt],u=[];function y(f,x){return f[0][1]?0:1}e=y(a),r=u[e]=t[e](a);let m=a[4]&&Oe(a);return{c(){r.c(),l=Bt(),m&&m.c(),s=B()},l(f){r.l(f),l=Ft(f),m&&m.l(f),s=B()},m(f,x){u[e].m(f,x),H(f,l,x),m&&m.m(f,x),H(f,s,x),g=!0},p(f,[x]){let E=e;e=y(f),e===E?u[e].p(f,x):(ue(),F(u[E],1,1,()=>{u[E]=null}),de(),r=u[e],r?r.p(f,x):(r=u[e]=t[e](f),r.c()),J(r,1),r.m(l.parentNode,l)),f[4]?m?m.p(f,x):(m=Oe(f),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},i(f){g||(J(r),g=!0)},o(f){F(r),g=!1},d(f){u[e].d(f),f&&M(l),m&&m.d(f),f&&M(s)}}}function $t(a,e,r){let{stores:l}=e,{page:s}=e,{components:g}=e,{form:t}=e,{data_0:u=null}=e,{data_1:y=null}=e;Jt(l.page.notify);let m=!1,f=!1,x=null;return Ae(()=>{const E=l.page.subscribe(()=>{m&&(r(5,f=!0),r(6,x=document.title||"untitled page"))});return r(4,m=!0),E}),a.$$set=E=>{"stores"in E&&r(7,l=E.stores),"page"in E&&r(8,s=E.page),"components"in E&&r(0,g=E.components),"form"in E&&r(1,t=E.form),"data_0"in E&&r(2,u=E.data_0),"data_1"in E&&r(3,y=E.data_1)},a.$$.update=()=>{a.$$.dirty&384&&l.page.set(s)},[g,t,u,y,m,f,x,l,s]}class Et extends Ct{constructor(e){super(),qt(this,e,$t,_t,Vt,{stores:7,page:8,components:0,form:1,data_0:2,data_1:3})}}const St={},ne=[()=>Pe(()=>import("./chunks/0-1a2441ec.js"),["./chunks/0-1a2441ec.js","./components/pages/_layout.svelte-bf66b720.js","./chunks/preload-helper-41c905a7.js","./chunks/index-936b3cba.js","./chunks/sbtc-c71ab281.js","./assets/_layout-1c216903.css"],import.meta.url),()=>Pe(()=>import("./chunks/1-aa8150ad.js"),["./chunks/1-aa8150ad.js","./components/error.svelte-d0126066.js","./chunks/index-936b3cba.js","./chunks/singletons-48d936cb.js"],import.meta.url),()=>Pe(()=>import("./chunks/2-a1c159f6.js"),["./chunks/2-a1c159f6.js","./chunks/_page-4039aba4.js","./components/pages/_page.svelte-c4ea0029.js","./chunks/index-936b3cba.js","./chunks/sbtc-c71ab281.js","./assets/_page-2efd82b2.css"],import.meta.url)],Lt=[],xt={"/":[2]},kt={handleError:({error:a})=>{console.error(a)}};let ye=class{constructor(a,e){this.status=a,typeof e=="string"?this.body={message:e}:e?this.body=e:this.body={message:`Error: ${a}`}}toString(){return JSON.stringify(this.body)}},Ne=class{constructor(a,e){this.status=a,this.location=e}};async function At(a){var e;for(const r in a)if(typeof((e=a[r])==null?void 0:e.then)=="function")return Object.fromEntries(await Promise.all(Object.entries(a).map(async([l,s])=>[l,await s])));return a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");const Ut=-1,Rt=-2,jt=-3,Pt=-4,Ot=-5,It=-6;function Nt(a){if(typeof a=="number")return l(a,!0);if(!Array.isArray(a)||a.length===0)throw new Error("Invalid input");const e=a,r=Array(e.length);function l(s,g=!1){if(s===Ut)return;if(s===jt)return NaN;if(s===Pt)return 1/0;if(s===Ot)return-1/0;if(s===It)return-0;if(g)throw new Error("Invalid input");if(s in r)return r[s];const t=e[s];if(!t||typeof t!="object")r[s]=t;else if(Array.isArray(t))if(typeof t[0]=="string")switch(t[0]){case"Date":r[s]=new Date(t[1]);break;case"Set":const u=new Set;r[s]=u;for(let f=1;f<t.length;f+=1)u.add(l(t[f]));break;case"Map":const y=new Map;r[s]=y;for(let f=1;f<t.length;f+=2)y.set(l(t[f]),l(t[f+1]));break;case"RegExp":r[s]=new RegExp(t[1],t[2]);break;case"Object":r[s]=Object(t[1]);break;case"BigInt":r[s]=BigInt(t[1]);break;case"null":const m=Object.create(null);r[s]=m;for(let f=1;f<t.length;f+=2)m[t[f]]=l(t[f+1]);break}else{const u=new Array(t.length);r[s]=u;for(let y=0;y<t.length;y+=1){const m=t[y];m!==Rt&&(u[y]=l(m))}}else{const u={};r[s]=u;for(const y in t){const m=t[y];u[y]=l(m)}}return r[s]}return l(0)}const ve=yt(ne,Lt,xt,St),we=ne[0],be=ne[1];we(),be();let X={};try{X=JSON.parse(sessionStorage[ze])}catch{}function _e(a){X[a]=he()}function Dt({target:a,base:e}){var Ke;const r=document.documentElement,l=[];let s=null;const g={before_navigate:[],after_navigate:[]};let t={branch:[],error:null,url:null},u=!1,y=!1,m=!0,f=!1,x=!1,E=!1,N=!1,C,j=(Ke=history.state)==null?void 0:Ke[T];j||(j=Date.now(),history.replaceState({...history.state,[T]:j},"",location.href));const Ee=X[j];Ee&&(history.scrollRestoration="manual",scrollTo(Ee.x,Ee.y));let q,Te,oe;async function Ce(){oe=oe||Promise.resolve(),await oe,oe=null;const n=new URL(location.href),o=le(n,!0);s=null,await Ve(o,n,[])}async function Se(n,{noScroll:o=!1,replaceState:c=!1,keepFocus:i=!1,state:p={},invalidateAll:d=!1},h,w){return typeof n=="string"&&(n=new URL(n,Ye(document))),ce({url:n,scroll:o?he():null,keepfocus:i,redirect_chain:h,details:{state:p,replaceState:c},nav_token:w,accepted:()=>{d&&(N=!0)},blocked:()=>{},type:"goto"})}async function qe(n){const o=le(n,!1);if(!o)throw new Error(`Attempted to preload a URL that does not belong to this app: ${n}`);return s={id:o.id,promise:Je(o).then(c=>(c.type==="loaded"&&c.state.error&&(s=null),c))},s.promise}async function se(...n){const o=ve.filter(c=>n.some(i=>c.exec(i))).map(c=>Promise.all([...c.layouts,c.leaf].map(i=>i==null?void 0:i[1]())));await Promise.all(o)}async function Ve(n,o,c,i,p={},d){var w,b;Te=p;let h=n&&await Je(n);if(h||(h=await He(o,{id:null},await Z(new Error(`Not found: ${o.pathname}`),{url:o,params:{},route:{id:null}}),404)),o=(n==null?void 0:n.url)||o,Te!==p)return!1;if(h.type==="redirect")if(c.length>10||c.includes(o.pathname))h=await ie({status:500,error:await Z(new Error("Redirect loop"),{url:o,params:{},route:{id:null}}),url:o,route:{id:null}});else return Se(new URL(h.location,o).href,{},[...c,o.pathname],p),!1;else((b=(w=h.props)==null?void 0:w.page)==null?void 0:b.status)>=400&&await G.updated.check()&&await te(o);if(l.length=0,N=!1,f=!0,i&&i.details){const{details:v}=i,S=v.replaceState?0:1;v.state[T]=j+=S,history[v.replaceState?"replaceState":"pushState"](v.state,"",o)}if(s=null,y?(t=h.state,h.props.page&&(h.props.page.url=o),C.$set(h.props)):Be(h),i){const{scroll:v,keepfocus:S}=i;if(S||$e(),await fe(),m){const L=o.hash&&document.getElementById(o.hash.slice(1));v?scrollTo(v.x,v.y):L?L.scrollIntoView():scrollTo(0,0)}}else await fe();m=!0,h.props.page&&(q=h.props.page),d&&d(),f=!1}function Be(n){var i;t=n.state;const o=document.querySelector("style[data-sveltekit]");o&&o.remove(),q=n.props.page,C=new Et({target:a,props:{...n.props,stores:G},hydrate:!0});const c={from:null,to:{params:t.params,route:{id:((i=t.route)==null?void 0:i.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter"};g.after_navigate.forEach(p=>p(c)),y=!0}async function ee({url:n,params:o,branch:c,status:i,error:p,route:d,form:h}){const w=c.filter(Boolean);let b="never";for(const k of c)(k==null?void 0:k.slash)!==void 0&&(b=k.slash);n.pathname=tt(n.pathname,b),n.search=n.search;const v={type:"loaded",state:{url:n,params:o,branch:c,error:p,route:d},props:{components:w.map(k=>k.node.component)}};h!==void 0&&(v.props.form=h);let S={},L=!q;for(let k=0;k<w.length;k+=1){const P=w[k];S={...S,...P.data},(L||!t.branch.some(_=>_===P))&&(v.props[`data_${k}`]=S,L=L||Object.keys(P.data??{}).length>0)}return L||(L=Object.keys(q.data).length!==Object.keys(S).length),(!t.url||n.href!==t.url.href||t.error!==p||h!==void 0&&h!==q.form||L)&&(v.props.page={error:p,params:o,route:{id:(d==null?void 0:d.id)??null},status:i,url:new URL(n),form:h??null,data:L?S:q.data}),v}async function Le({loader:n,parent:o,url:c,params:i,route:p,server_data_node:d}){var v,S,L;let h=null;const w={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},b=await n();if((v=b.universal)!=null&&v.load){let k=function(..._){for(const O of _){const{href:I}=new URL(O,c);w.dependencies.add(I)}};const P={route:{get id(){return w.route=!0,p.id}},params:new Proxy(i,{get:(_,O)=>(w.params.add(O),_[O])}),data:(d==null?void 0:d.data)??null,url:ot(c,()=>{w.url=!0}),async fetch(_,O){let I;_ instanceof Request?(I=_.url,O={body:_.method==="GET"||_.method==="HEAD"?void 0:await _.blob(),cache:_.cache,credentials:_.credentials,headers:_.headers,integrity:_.integrity,keepalive:_.keepalive,method:_.method,mode:_.mode,redirect:_.redirect,referrer:_.referrer,referrerPolicy:_.referrerPolicy,signal:_.signal,...O}):I=_;const $=new URL(I,c).href;return k($),y?dt(I,$,O):ut(I,O)},setHeaders:()=>{},depends:k,parent(){return w.parent=!0,o()}};h=await b.universal.load.call(null,P)??null,h=h?await At(h):null}return{node:b,loader:n,server:d,universal:(S=b.universal)!=null&&S.load?{type:"data",data:h,uses:w}:null,data:h??(d==null?void 0:d.data)??null,slash:((L=b.universal)==null?void 0:L.trailingSlash)??(d==null?void 0:d.slash)}}function Fe(n,o,c,i,p){if(N)return!0;if(!i)return!1;if(i.parent&&n||i.route&&o||i.url&&c)return!0;for(const d of i.params)if(p[d]!==t.params[d])return!0;for(const d of i.dependencies)if(l.some(h=>h(new URL(d))))return!0;return!1}function xe(n,o){return(n==null?void 0:n.type)==="data"?{type:"data",data:n.data,uses:{dependencies:new Set(n.uses.dependencies??[]),params:new Set(n.uses.params??[]),parent:!!n.uses.parent,route:!!n.uses.route,url:!!n.uses.url},slash:n.slash}:(n==null?void 0:n.type)==="skip"?o??null:null}async function Je({id:n,invalidating:o,url:c,params:i,route:p}){if((s==null?void 0:s.id)===n)return s.promise;const{errors:d,layouts:h,leaf:w}=p,b=[...h,w];d.forEach($=>$==null?void 0:$().catch(()=>{})),b.forEach($=>$==null?void 0:$[1]().catch(()=>{}));let v=null;const S=t.url?n!==t.url.pathname+t.url.search:!1,L=t.route?p.id!==t.route.id:!1,k=b.reduce(($,U,R)=>{var re;const A=t.branch[R],V=!!(U!=null&&U[0])&&((A==null?void 0:A.loader)!==U[1]||Fe($.some(Boolean),L,S,(re=A.server)==null?void 0:re.uses,i));return $.push(V),$},[]);if(k.some(Boolean)){try{v=await De(c,k)}catch($){return ie({status:500,error:await Z($,{url:c,params:i,route:{id:p.id}}),url:c,route:p})}if(v.type==="redirect")return v}const P=v==null?void 0:v.nodes;let _=!1;const O=b.map(async($,U)=>{var V;if(!$)return;const R=t.branch[U],A=P==null?void 0:P[U];if((!A||A.type==="skip")&&$[1]===(R==null?void 0:R.loader)&&!Fe(_,L,S,(V=R.universal)==null?void 0:V.uses,i))return R;if(_=!0,(A==null?void 0:A.type)==="error")throw A;return Le({loader:$[1],url:c,params:i,route:p,parent:async()=>{var We;const re={};for(let ke=0;ke<U;ke+=1)Object.assign(re,(We=await O[ke])==null?void 0:We.data);return re},server_data_node:xe(A===void 0&&$[0]?{type:"skip"}:A??null,R==null?void 0:R.server)})});for(const $ of O)$.catch(()=>{});const I=[];for(let $=0;$<b.length;$+=1)if(b[$])try{I.push(await O[$])}catch(U){if(U instanceof Ne)return{type:"redirect",location:U.location};let R=500,A;if(P!=null&&P.includes(U))R=U.status??R,A=U.error;else if(U instanceof ye)R=U.status,A=U.body;else{if(await G.updated.check())return await te(c);A=await Z(U,{params:i,url:c,route:{id:p.id}})}const V=await Me($,I,d);return V?await ee({url:c,params:i,branch:I.slice(0,V.idx).concat(V.node),status:R,error:A,route:p}):await He(c,{id:p.id},A,R)}else I.push(void 0);return await ee({url:c,params:i,branch:I,status:200,error:null,route:p,form:o?void 0:null})}async function Me(n,o,c){for(;n--;)if(c[n]){let i=n;for(;!o[i];)i-=1;try{return{idx:i+1,node:{node:await c[n](),loader:c[n],data:{},server:null,universal:null}}}catch{continue}}}async function ie({status:n,error:o,url:c,route:i}){const p={},d=await we();let h=null;if(d.has_server_load)try{const v=await De(c,[!0]);if(v.type!=="data"||v.nodes[0]&&v.nodes[0].type!=="data")throw 0;h=v.nodes[0]??null}catch{(c.origin!==location.origin||c.pathname!==location.pathname||u)&&await te(c)}const w=await Le({loader:we,url:c,params:p,route:i,parent:()=>Promise.resolve({}),server_data_node:xe(h)}),b={node:await be(),loader:be,universal:null,server:null,data:null};return await ee({url:c,params:p,branch:[w,b],status:n,error:o,route:null})}function le(n,o){if(Xe(n,e))return;const c=rt(n.pathname.slice(e.length)||"/");for(const i of ve){const p=i.exec(c);if(p)return{id:n.pathname+n.search,invalidating:o,route:i,params:at(p),url:n}}}function Ge({url:n,type:o,intent:c,delta:i}){var w,b;let p=!1;const d={from:{params:t.params,route:{id:((w=t.route)==null?void 0:w.id)??null},url:t.url},to:{params:(c==null?void 0:c.params)??null,route:{id:((b=c==null?void 0:c.route)==null?void 0:b.id)??null},url:n},willUnload:!c,type:o};i!==void 0&&(d.delta=i);const h={...d,cancel:()=>{p=!0}};return x||g.before_navigate.forEach(v=>v(h)),p?null:d}async function ce({url:n,scroll:o,keepfocus:c,redirect_chain:i,details:p,type:d,delta:h,nav_token:w,accepted:b,blocked:v}){const S=le(n,!1),L=Ge({url:n,type:d,delta:h,intent:S});if(!L){v();return}_e(j),b(),x=!0,y&&G.navigating.set(L),await Ve(S,n,i,{scroll:o,keepfocus:c,details:p},w,()=>{x=!1,g.after_navigate.forEach(k=>k(L)),G.navigating.set(null)})}async function He(n,o,c,i){return n.origin===location.origin&&n.pathname===location.pathname&&!u?await ie({status:i,error:c,url:n,route:o}):await te(n)}function te(n){return location.href=n.href,new Promise(()=>{})}function Tt(){let n;r.addEventListener("mousemove",d=>{const h=d.target;clearTimeout(n),n=setTimeout(()=>{i(h,2)},20)});function o(d){i(d.composedPath()[0],1)}r.addEventListener("mousedown",o),r.addEventListener("touchstart",o,{passive:!0});const c=new IntersectionObserver(d=>{for(const h of d)h.isIntersecting&&(se(new URL(h.target.href).pathname),c.unobserve(h.target))},{threshold:0});function i(d,h){const w=Qe(d,r);if(!w)return;const{url:b,external:v}=je(w,e);if(v)return;const S=pe(w);S.reload||(h<=S.preload_data?qe(b):h<=S.preload_code&&se(b.pathname))}function p(){c.disconnect();for(const d of r.querySelectorAll("a")){const{url:h,external:w}=je(d,e);if(w)continue;const b=pe(d);b.reload||(b.preload_code===Ze.viewport&&c.observe(d),b.preload_code===Ze.eager&&se(h.pathname))}}g.after_navigate.push(p),p()}return{after_navigate:n=>{Ae(()=>(g.after_navigate.push(n),()=>{const o=g.after_navigate.indexOf(n);g.after_navigate.splice(o,1)}))},before_navigate:n=>{Ae(()=>(g.before_navigate.push(n),()=>{const o=g.before_navigate.indexOf(n);g.before_navigate.splice(o,1)}))},disable_scroll_handling:()=>{(f||!y)&&(m=!1)},goto:(n,o={})=>Se(n,o,[]),invalidate:n=>{if(typeof n=="function")l.push(n);else{const{href:o}=new URL(n,location.href);l.push(c=>c.href===o)}return Ce()},invalidateAll:()=>(N=!0,Ce()),preload_data:async n=>{const o=new URL(n,Ye(document));await qe(o)},preload_code:se,apply_action:async n=>{if(n.type==="error"){const o=new URL(location.href),{branch:c,route:i}=t;if(!i)return;const p=await Me(t.branch.length,c,i.errors);if(p){const d=await ee({url:o,params:t.params,branch:c.slice(0,p.idx).concat(p.node),status:n.status??500,error:n.error,route:i});t=d.state,C.$set(d.props),fe().then($e)}}else if(n.type==="redirect")Se(n.location,{invalidateAll:!0},[]);else{const o={form:n.data,page:{...q,form:n.data,status:n.status}};C.$set(o),n.type==="success"&&fe().then($e)}},_start_router:()=>{var n;history.scrollRestoration="manual",addEventListener("beforeunload",o=>{var i;let c=!1;if(!x){const p={from:{params:t.params,route:{id:((i=t.route)==null?void 0:i.id)??null},url:t.url},to:null,willUnload:!0,type:"leave",cancel:()=>c=!0};g.before_navigate.forEach(d=>d(p))}c?(o.preventDefault(),o.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){_e(j);try{sessionStorage[ze]=JSON.stringify(X)}catch{}}}),(n=navigator.connection)!=null&&n.saveData||Tt(),r.addEventListener("click",o=>{if(o.button||o.which!==1||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey||o.defaultPrevented)return;const c=Qe(o.composedPath()[0],r);if(!c)return;const{url:i,external:p,has:d}=je(c,e),h=pe(c);if(!i||!(c instanceof SVGAElement)&&i.protocol!==location.protocol&&!(i.protocol==="https:"||i.protocol==="http:")||d.download)return;if(p||h.reload){Ge({url:i,type:"link"})||o.preventDefault(),x=!0;return}const[w,b]=i.href.split("#");if(b!==void 0&&w===location.href.split("#")[0]){E=!0,_e(j),t.url=i,G.page.set({...q,url:i}),G.page.notify();return}ce({url:i,scroll:h.noscroll?he():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:i.href===location.href},accepted:()=>o.preventDefault(),blocked:()=>o.preventDefault(),type:"link"})}),r.addEventListener("submit",o=>{if(o.defaultPrevented)return;const c=HTMLFormElement.prototype.cloneNode.call(o.target),i=o.submitter;if(((i==null?void 0:i.formMethod)||c.method)!=="get")return;const p=new URL((i==null?void 0:i.hasAttribute("formaction"))&&(i==null?void 0:i.formAction)||c.action);if(Xe(p,e))return;const d=o.target,{noscroll:h,reload:w}=pe(d);if(w)return;o.preventDefault(),o.stopPropagation();const b=new FormData(d),v=i==null?void 0:i.getAttribute("name");v&&b.append(v,(i==null?void 0:i.getAttribute("value"))??""),p.search=new URLSearchParams(b).toString(),ce({url:p,scroll:h?he():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:!1},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"})}),addEventListener("popstate",o=>{var c;if((c=o.state)!=null&&c[T]){if(o.state[T]===j)return;const i=o.state[T]-j;ce({url:new URL(location.href),scroll:X[o.state[T]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{j=o.state[T]},blocked:()=>{history.go(-i)},type:"popstate",delta:i})}}),addEventListener("hashchange",()=>{E&&(E=!1,history.replaceState({...history.state,[T]:++j},"",location.href))});for(const o of document.querySelectorAll("link"))o.rel==="icon"&&(o.href=o.href);addEventListener("pageshow",o=>{o.persisted&&G.navigating.set(null)})},_hydrate:async({status:n=200,error:o,node_ids:c,params:i,route:p,data:d,form:h})=>{u=!0;const w=new URL(location.href);({params:i={},route:p={id:null}}=le(w,!1)||{});let b;try{const v=c.map(async(S,L)=>{const k=d[L];return Le({loader:ne[S],url:w,params:i,route:p,parent:async()=>{const P={};for(let _=0;_<L;_+=1)Object.assign(P,(await v[_]).data);return P},server_data_node:xe(k)})});b=await ee({url:w,params:i,branch:await Promise.all(v),status:n,error:o,form:h,route:ve.find(({id:S})=>S===p.id)??null})}catch(v){if(v instanceof Ne){await te(new URL(v.location,location.href));return}b=await ie({status:v instanceof ye?v.status:500,error:await Z(v,{url:w,params:i,route:p}),url:w,route:p})}Be(b)}}}async function De(a,e){var g;const r=new URL(a);r.pathname=lt(a.pathname),r.searchParams.append("x-sveltekit-invalidated",e.map(t=>t?"1":"").join("_"));const l=await ae(r.href),s=await l.json();if(!l.ok)throw new Error(s);return(g=s.nodes)==null||g.forEach(t=>{(t==null?void 0:t.type)==="data"&&(t.data=Nt(t.data),t.uses={dependencies:new Set(t.uses.dependencies??[]),params:new Set(t.uses.params??[]),parent:!!t.uses.parent,route:!!t.uses.route,url:!!t.uses.url})}),s}function Z(a,e){return a instanceof ye?a.body:kt.handleError({error:a,event:e})??{message:e.route.id!=null?"Internal Error":"Not Found"}}function $e(){const a=document.querySelector("[autofocus]");if(a)a.focus();else{const e=document.body,r=e.getAttribute("tabindex");e.tabIndex=-1,e.focus({preventScroll:!0}),setTimeout(()=>{var l;(l=getSelection())==null||l.removeAllRanges()}),r!==null?e.setAttribute("tabindex",r):e.removeAttribute("tabindex")}}et=async function({env:e,hydrate:r,paths:l,target:s,version:g}){Yt(l),Xt(g);const t=Dt({target:s,base:l.base});Qt({client:t}),r?await t._hydrate(r):t.goto(location.href,{replaceState:!0}),t._start_router()}})();export{Zt as __tla,et as start};
