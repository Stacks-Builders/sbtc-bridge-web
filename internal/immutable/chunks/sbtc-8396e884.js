import{X as jn,F as Dn}from"./index-23d2e92a.js";var Fe={};function bt(e){return e==="local"?localStorage:sessionStorage}function Rn(e,t,n){const r=n?.serializer??JSON,i=n?.storage??"local",s=typeof window<"u"&&typeof document<"u";function o(c,a){s&&bt(i).setItem(c,r.stringify(a))}if(!Fe[e]){const c=Dn(t,h=>{const l=s?bt(i).getItem(e):null;if(l&&h(r.parse(l)),s){const d=u=>{u.key===e&&h(u.newValue?r.parse(u.newValue):null)};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)}}),{subscribe:a,set:f}=c;Fe[e]={set(h){o(e,h),f(h)},update(h){const l=h(jn(c));o(e,l),f(l)},subscribe:a}}return Fe[e]}const Ts=Rn("sbtcConfig",{network:"testnet"});function Kn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unexpected runtime environment - no supported global scope (`window`, `self`, `global`) available")}function Mt(e){if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Non array buffer passed to arrayBufferToUint8")}function Mn(e,t,n){return n?`Use of '${n}' requires \`${t}\` which is unavailable on the '${e}' object within the currently executing environment.`:`\`${t}\` is unavailable on the '${e}' object within the currently executing environment.`}function Us(e,{throwIfUnavailable:t,usageDesc:n,returnEmptyObject:r}={}){let i;try{if(i=Kn(),i){let s=i[e];if(s)return s}}catch(s){console.error(`Error getting object '${e}' from global scope '${i}': ${s}`)}if(t){let s=Mn(i,e.toString(),n);throw console.error(s),new Error(s)}if(r)return{}}function V(e){let t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t),r=0;for(let i=0;i<e.length;i++)n.set(e[i],r),r+=e[i].length;return n}function we(e){return typeof e=="object"&&(e=Uint8Array.from(e)),e}function zn(e){var t;return e!==null&&typeof e=="object"&&((t=e?.constructor)==null?void 0:t.wordSize)===26&&Array.isArray(e?.words)}function j(e){return new TextEncoder().encode(e)}function Vn(e){return new TextDecoder().decode(e)}var zt=new Array(255);for(let e=0;e<=255;++e)zt[e]=e.toString(16).padStart(2,"0");function _(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error(`hexToBytes: received invalid unpadded hex, got: ${e.length}`);let t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){let r=n*2;t[n]=Number.parseInt(e.slice(r,r+2),16)}return t}function L(e){let t=new Array(e.length);for(let n=0;n<e.length;++n)t[n]=zt[e[n]];return t.join("")}function xt(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}var ve=(e,t=8)=>(typeof e=="bigint"?e:ot(e,!1)).toString(16).padStart(t*2,"0"),$s=e=>JSON.parse(Vn(_(e))),Fn=e=>typeof e=="string"?_(e):e,Cs=e=>e.startsWith("0x")?e.replace("0x",""):e,Vt=BigInt(0),M=BigInt(1);function Wn(e,t=128){if(e<-(M<<BigInt(t)-M)||e>(M<<BigInt(t)-M)-M)throw`Integer out of range given ${t} bits to represent.`;return e>=Vt?e:~(-e-M|~((M<<BigInt(t))-M))}function Zn(e,t=128){return(e&M<<BigInt(t)-M)>Vt&&(e=e-(M<<BigInt(t))),e}function Hs(e,t=!1,n=8){return _(ve(ot(e,t),n))}function ot(e,t=!1){if(typeof e=="number"){if(!Number.isInteger(e))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");return BigInt(e)}if(typeof e=="string")if(e.toLowerCase().startsWith("0x")){let n=e.slice(2);n=n.padStart(n.length+n.length%2,"0"),e=_(n)}else try{return BigInt(e)}catch(n){if(n instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${e}' is not finite.`)}if(typeof e=="bigint")return e;if(e instanceof Uint8Array)return t?Zn(xt(L(e))):xt(L(e));if(zn(e))return BigInt(e.toString());throw new TypeError(`Invalid value type. Must be a number, bigint, integer-string, hex-string, BN.js instance, or Buffer, got: ${typeof e}.`)}function Gn(e){return`[micro-stacks] ${e}`}var qn=class extends Error{constructor(t){super(t),this.message=Gn(t),this.name=this.constructor.name}},Jn=typeof window<"u",Xn=Jn?{referrer:"no-referrer",referrerPolicy:"no-referrer"}:{};async function ks(e,t={}){return fetch(e,{...Xn,...t})}var Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function Qn(e){let t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");let n=e.indexOf("=");n===-1&&(n=t);let r=n===t?0:4-n%4;return[n,r]}function er(e,t,n){return(t+n)*3/4-n}function tr(e,t){let{revLookup:n}=ct(t),r,i=Qn(e),s=i[0],o=i[1],c=new Uint8Array(er(e,s,o)),a=0,f=o>0?s-4:s,h;for(h=0;h<f;h+=4)r=n[e.charCodeAt(h)]<<18|n[e.charCodeAt(h+1)]<<12|n[e.charCodeAt(h+2)]<<6|n[e.charCodeAt(h+3)],c[a++]=r>>16&255,c[a++]=r>>8&255,c[a++]=r&255;return o===2&&(r=n[e.charCodeAt(h)]<<2|n[e.charCodeAt(h+1)]>>4,c[a++]=r&255),o===1&&(r=n[e.charCodeAt(h)]<<10|n[e.charCodeAt(h+1)]<<4|n[e.charCodeAt(h+2)]>>2,c[a++]=r>>8&255,c[a++]=r&255),c}function nr(e){let t=e.length,n=t%4;if(!n)return e;let r=4-n,i=t+r;return e.padEnd(i,"=")}function be(e){return tr(nr(e),Ft)}function rr(e,t){let{lookup:n}=ct(t);return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[e&63]}function ir(e,t,n,r){let i,s=[];for(let o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),s.push(rr(i,r));return s.join("")}var We=new Map;function ct(e){if(We.has(e))return We.get(e);let t=[],n=[];for(let r=0,i=e.length;r<i;++r)t[r]=e[r],n[e.charCodeAt(r)]=r;return n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63,We.set(e,{lookup:t,revLookup:n}),{lookup:t,revLookup:n}}function Wt(e,t){let{lookup:n}=ct(t),r,i=e.length,s=i%3,o=[],c=16383;for(let a=0,f=i-s;a<f;a+=c)o.push(ir(e,a,a+c>f?f:a+c,t));return s===1?(r=e[i-1],o.push(n[r>>2]+n[r<<4&63]+"==")):s===2&&(r=(e[i-2]<<8)+e[i-1],o.push(n[r>>10]+n[r>>4&63]+n[r<<2&63]+"=")),o.join("")}function Xe(e){return Wt(e,Ft)}function Zt(e){return Wt(e,Yn)}var mt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",vt=BigInt(58);function sr(e){if(e.length===0)return"";typeof e=="string"&&(typeof TextEncoder<"u"?e=new TextEncoder().encode(e):e=new Uint8Array(e.split("").map(r=>r.charCodeAt(0))));let t=BigInt("0x"+L(e)),n=[];for(;t>0;){let r=Number(t%vt);t=t/vt,n.push(mt[r])}for(let r=0;e[r]===0;r++)n.push(mt[0]);return n.reverse().join("")}function Gt(e){let t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}function Ue(e,t,n,r,i){if(r||(r=0),!i&&i!==0&&(i=e.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r||t.length===0||e.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>e.length&&(i=e.length),t.length-n<i-r&&(i=t.length-n+r);let s=i-r;return e===t&&typeof Uint8Array.prototype.copyWithin=="function"?e.copyWithin(n,r,i):Uint8Array.prototype.set.call(t,e.subarray(r,i),n),s}var Ee=class{_value=[];get value(){return this._value}appendHexString(e){this.value.push(_(e))}push(e){return this._value.push(e)}appendByte(e){if(!Number.isInteger(e)||e<0||e>255)throw new Error(`Value ${e} is not a valid byte`);this.value.push(Uint8Array.from([e]))}concatBuffer(){return V(this.value)}};function Os(e,t,n){return t=+t,n=n>>>0,e[n]=t&255,n+1}function Ls(e,t,n){return t=+t,n=n>>>0,e[n]=t&255,e[n+1]=t>>>8,n+2}function Ps(e,t,n){return t=+t,n>>>=0,e[n+3]=t>>>24,e[n+2]=t>>>16,e[n+1]=t>>>8,e[n]=t&255,n+4}function or(e,t,n){return t=+t,n>>>=0,e[n]=t>>>24,e[n+1]=t>>>16,e[n+2]=t>>>8,e[n+3]=t&255,n+4}function Et(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function cr(e,t){if(!Et(e,Uint8Array)||!Et(t,Uint8Array))throw new TypeError('The "buf1", "buf2" arguments must be one of type Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}var ar=(e=>(e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet",e))(ar||{}),fr=(e=>(e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet",e))(fr||{});/*! micro-base58 - MIT License (c) 2021, Paul Miller (https://paulmillr.com) */function Ye(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function hr(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function qt(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function ur(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ye(e.outputLen),Ye(e.blockLen)}function lr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dr(e,t){qt(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ne={number:Ye,bool:hr,bytes:qt,hash:ur,exists:lr,output:dr};var De={};Object.defineProperty(De,"__esModule",{value:!0});De.crypto=void 0;De.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ze=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),yr=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!yr)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function pr(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function at(e){if(typeof e=="string"&&(e=pr(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class Qe{clone(){return this._cloneInto()}}function Re(e){const t=r=>e().update(at(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function gr(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),c=Number(n&s),a=r?4:0,f=r?0:4;e.setUint32(t+a,o,r),e.setUint32(t+f,c,r)}let Jt=class extends Qe{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ze(this.buffer)}update(t){ne.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=at(t);const s=t.length;for(let o=0;o<s;){const c=Math.min(i-this.pos,s-o);if(c===i){const a=Ze(t);for(;i<=s-o;o+=i)this.process(a,o);continue}r.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ne.exists(this),ne.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let a=o;a<i;a++)n[a]=0;gr(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=Ze(t);this.get().forEach((a,f)=>c.setUint32(4*f,a,s))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:c}=this;return t.length=i,t.pos=c,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}};const wr=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Xt=Uint8Array.from({length:16},(e,t)=>t),br=Xt.map(e=>(9*e+5)%16);let ft=[Xt],ht=[br];for(let e=0;e<4;e++)for(let t of[ft,ht])t.push(t[e].map(n=>wr[n]));const Yt=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),xr=ft.map((e,t)=>e.map(n=>Yt[t][n])),mr=ht.map((e,t)=>e.map(n=>Yt[t][n])),vr=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Er=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),$e=(e,t)=>e<<t|e>>>32-t;function At(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const Ce=new Uint32Array(16);class Ar extends Jt{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:i,h4:s}=this;return[t,n,r,i,s]}set(t,n,r,i,s){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=i|0,this.h4=s|0}process(t,n){for(let u=0;u<16;u++,n+=4)Ce[u]=t.getUint32(n,!0);let r=this.h0|0,i=r,s=this.h1|0,o=s,c=this.h2|0,a=c,f=this.h3|0,h=f,l=this.h4|0,d=l;for(let u=0;u<5;u++){const p=4-u,g=vr[u],m=Er[u],B=ft[u],T=ht[u],x=xr[u],y=mr[u];for(let b=0;b<16;b++){const v=$e(r+At(u,s,c,f)+Ce[B[b]]+g,x[b])+l|0;r=l,l=f,f=$e(c,10)|0,c=s,s=v}for(let b=0;b<16;b++){const v=$e(i+At(p,o,a,h)+Ce[T[b]]+m,y[b])+d|0;i=d,d=h,h=$e(a,10)|0,a=o,o=v}}this.set(this.h1+c+h|0,this.h2+f+d|0,this.h3+l+i|0,this.h4+r+o|0,this.h0+s+a|0)}roundClean(){Ce.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const St=Re(()=>new Ar);var Ae={},Ke={},P={};Object.defineProperty(P,"__esModule",{value:!0});P.output=P.exists=P.hash=P.bytes=P.bool=P.number=void 0;function Le(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}P.number=Le;function Qt(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}P.bool=Qt;function ut(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}P.bytes=ut;function en(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Le(e.outputLen),Le(e.blockLen)}P.hash=en;function tn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}P.exists=tn;function nn(e,t){ut(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}P.output=nn;const Sr={number:Le,bool:Qt,bytes:ut,hash:en,exists:tn,output:nn};P.default=Sr;var oe={};(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=De,n=y=>new Uint8Array(y.buffer,y.byteOffset,y.byteLength);e.u8=n;const r=y=>new Uint32Array(y.buffer,y.byteOffset,Math.floor(y.byteLength/4));e.u32=r;const i=y=>new DataView(y.buffer,y.byteOffset,y.byteLength);e.createView=i;const s=(y,b)=>y<<32-b|y>>>b;if(e.rotr=s,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(y,b)=>b.toString(16).padStart(2,"0"));function c(y){if(!(y instanceof Uint8Array))throw new Error("Uint8Array expected");let b="";for(let v=0;v<y.length;v++)b+=o[y[v]];return b}e.bytesToHex=c;function a(y){if(typeof y!="string")throw new TypeError("hexToBytes: expected string, got "+typeof y);if(y.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const b=new Uint8Array(y.length/2);for(let v=0;v<b.length;v++){const A=v*2,C=y.slice(A,A+2),O=Number.parseInt(C,16);if(Number.isNaN(O)||O<0)throw new Error("Invalid byte sequence");b[v]=O}return b}e.hexToBytes=a;const f=async()=>{};e.nextTick=f;async function h(y,b,v){let A=Date.now();for(let C=0;C<y;C++){v(C);const O=Date.now()-A;O>=0&&O<b||(await(0,e.nextTick)(),A+=O)}}e.asyncLoop=h;function l(y){if(typeof y!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof y}`);return new TextEncoder().encode(y)}e.utf8ToBytes=l;function d(y){if(typeof y=="string"&&(y=l(y)),!(y instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof y})`);return y}e.toBytes=d;function u(...y){if(!y.every(A=>A instanceof Uint8Array))throw new Error("Uint8Array list expected");if(y.length===1)return y[0];const b=y.reduce((A,C)=>A+C.length,0),v=new Uint8Array(b);for(let A=0,C=0;A<y.length;A++){const O=y[A];v.set(O,C),C+=O.length}return v}e.concatBytes=u;class p{clone(){return this._cloneInto()}}e.Hash=p;const g=y=>Object.prototype.toString.call(y)==="[object Object]"&&y.constructor===Object;function m(y,b){if(b!==void 0&&(typeof b!="object"||!g(b)))throw new TypeError("Options should be object or undefined");return Object.assign(y,b)}e.checkOpts=m;function B(y){const b=A=>y().update(d(A)).digest(),v=y();return b.outputLen=v.outputLen,b.blockLen=v.blockLen,b.create=()=>y(),b}e.wrapConstructor=B;function T(y){const b=(A,C)=>y(C).update(d(A)).digest(),v=y({});return b.outputLen=v.outputLen,b.blockLen=v.blockLen,b.create=A=>y(A),b}e.wrapConstructorWithOpts=T;function x(y=32){if(t.crypto.web)return t.crypto.web.getRandomValues(new Uint8Array(y));if(t.crypto.node)return new Uint8Array(t.crypto.node.randomBytes(y).buffer);throw new Error("The environment doesn't have randomBytes function")}e.randomBytes=x})(oe);Object.defineProperty(Ke,"__esModule",{value:!0});Ke.SHA2=void 0;const Ge=P,le=oe;function Br(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),c=Number(n&s),a=r?4:0,f=r?0:4;e.setUint32(t+a,o,r),e.setUint32(t+f,c,r)}class Tr extends le.Hash{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,le.createView)(this.buffer)}update(t){Ge.default.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=(0,le.toBytes)(t);const s=t.length;for(let o=0;o<s;){const c=Math.min(i-this.pos,s-o);if(c===i){const a=(0,le.createView)(t);for(;i<=s-o;o+=i)this.process(a,o);continue}r.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ge.default.exists(this),Ge.default.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let a=o;a<i;a++)n[a]=0;Br(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=(0,le.createView)(t);this.get().forEach((a,f)=>c.setUint32(4*f,a,s))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:c}=this;return t.length=i,t.pos=c,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}}Ke.SHA2=Tr;Object.defineProperty(Ae,"__esModule",{value:!0});var lt=Ae.sha256=void 0;const Ur=Ke,K=oe,$r=(e,t,n)=>e&t^~e&n,Cr=(e,t,n)=>e&t^e&n^t&n,Hr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Z=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),G=new Uint32Array(64);class Ir extends Ur.SHA2{constructor(){super(64,32,8,!1),this.A=Z[0]|0,this.B=Z[1]|0,this.C=Z[2]|0,this.D=Z[3]|0,this.E=Z[4]|0,this.F=Z[5]|0,this.G=Z[6]|0,this.H=Z[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:c,H:a}=this;return[t,n,r,i,s,o,c,a]}set(t,n,r,i,s,o,c,a){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=c|0,this.H=a|0}process(t,n){for(let l=0;l<16;l++,n+=4)G[l]=t.getUint32(n,!1);for(let l=16;l<64;l++){const d=G[l-15],u=G[l-2],p=(0,K.rotr)(d,7)^(0,K.rotr)(d,18)^d>>>3,g=(0,K.rotr)(u,17)^(0,K.rotr)(u,19)^u>>>10;G[l]=g+G[l-7]+p+G[l-16]|0}let{A:r,B:i,C:s,D:o,E:c,F:a,G:f,H:h}=this;for(let l=0;l<64;l++){const d=(0,K.rotr)(c,6)^(0,K.rotr)(c,11)^(0,K.rotr)(c,25),u=h+d+$r(c,a,f)+Hr[l]+G[l]|0,g=((0,K.rotr)(r,2)^(0,K.rotr)(r,13)^(0,K.rotr)(r,22))+Cr(r,i,s)|0;h=f,f=a,a=c,c=o+u|0,o=s,s=i,i=r,r=u+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,c=c+this.E|0,a=a+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(r,i,s,o,c,a,f,h)}roundClean(){G.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}lt=Ae.sha256=(0,K.wrapConstructor)(()=>new Ir);const He=BigInt(2**32-1),et=BigInt(32);function rn(e,t=!1){return t?{h:Number(e&He),l:Number(e>>et&He)}:{h:Number(e>>et&He)|0,l:Number(e&He)|0}}function kr(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=rn(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const Or=(e,t)=>BigInt(e>>>0)<<et|BigInt(t>>>0),Lr=(e,t,n)=>e>>>n,Pr=(e,t,n)=>e<<32-n|t>>>n,_r=(e,t,n)=>e>>>n|t<<32-n,Nr=(e,t,n)=>e<<32-n|t>>>n,jr=(e,t,n)=>e<<64-n|t>>>n-32,Dr=(e,t,n)=>e>>>n-32|t<<64-n,Rr=(e,t)=>t,Kr=(e,t)=>e,Mr=(e,t,n)=>e<<n|t>>>32-n,zr=(e,t,n)=>t<<n|e>>>32-n,Vr=(e,t,n)=>t<<n-32|e>>>64-n,Fr=(e,t,n)=>e<<n-32|t>>>64-n;function Wr(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const Zr=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Gr=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,qr=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Jr=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,Xr=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Yr=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,E={fromBig:rn,split:kr,toBig:Or,shrSH:Lr,shrSL:Pr,rotrSH:_r,rotrSL:Nr,rotrBH:jr,rotrBL:Dr,rotr32H:Rr,rotr32L:Kr,rotlSH:Mr,rotlSL:zr,rotlBH:Vr,rotlBL:Fr,add:Wr,add3L:Zr,add3H:Gr,add4L:qr,add4H:Jr,add5H:Yr,add5L:Xr},[Qr,ei]=E.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),q=new Uint32Array(80),J=new Uint32Array(80);class dt extends Jt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:c,Dl:a,Eh:f,El:h,Fh:l,Fl:d,Gh:u,Gl:p,Hh:g,Hl:m}=this;return[t,n,r,i,s,o,c,a,f,h,l,d,u,p,g,m]}set(t,n,r,i,s,o,c,a,f,h,l,d,u,p,g,m){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=c|0,this.Dl=a|0,this.Eh=f|0,this.El=h|0,this.Fh=l|0,this.Fl=d|0,this.Gh=u|0,this.Gl=p|0,this.Hh=g|0,this.Hl=m|0}process(t,n){for(let x=0;x<16;x++,n+=4)q[x]=t.getUint32(n),J[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const y=q[x-15]|0,b=J[x-15]|0,v=E.rotrSH(y,b,1)^E.rotrSH(y,b,8)^E.shrSH(y,b,7),A=E.rotrSL(y,b,1)^E.rotrSL(y,b,8)^E.shrSL(y,b,7),C=q[x-2]|0,O=J[x-2]|0,Be=E.rotrSH(C,O,19)^E.rotrBH(C,O,61)^E.shrSH(C,O,6),ze=E.rotrSL(C,O,19)^E.rotrBL(C,O,61)^E.shrSL(C,O,6),Te=E.add4L(A,ze,J[x-7],J[x-16]),Ve=E.add4H(Te,v,Be,q[x-7],q[x-16]);q[x]=Ve|0,J[x]=Te|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:c,Cl:a,Dh:f,Dl:h,Eh:l,El:d,Fh:u,Fl:p,Gh:g,Gl:m,Hh:B,Hl:T}=this;for(let x=0;x<80;x++){const y=E.rotrSH(l,d,14)^E.rotrSH(l,d,18)^E.rotrBH(l,d,41),b=E.rotrSL(l,d,14)^E.rotrSL(l,d,18)^E.rotrBL(l,d,41),v=l&u^~l&g,A=d&p^~d&m,C=E.add5L(T,b,A,ei[x],J[x]),O=E.add5H(C,B,y,v,Qr[x],q[x]),Be=C|0,ze=E.rotrSH(r,i,28)^E.rotrBH(r,i,34)^E.rotrBH(r,i,39),Te=E.rotrSL(r,i,28)^E.rotrBL(r,i,34)^E.rotrBL(r,i,39),Ve=r&s^r&c^s&c,Nn=i&o^i&a^o&a;B=g|0,T=m|0,g=u|0,m=p|0,u=l|0,p=d|0,{h:l,l:d}=E.add(f|0,h|0,O|0,Be|0),f=c|0,h=a|0,c=s|0,a=o|0,s=r|0,o=i|0;const wt=E.add3L(Be,Te,Nn);r=E.add3H(wt,O,ze,Ve),i=wt|0}({h:r,l:i}=E.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=E.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:c,l:a}=E.add(this.Ch|0,this.Cl|0,c|0,a|0),{h:f,l:h}=E.add(this.Dh|0,this.Dl|0,f|0,h|0),{h:l,l:d}=E.add(this.Eh|0,this.El|0,l|0,d|0),{h:u,l:p}=E.add(this.Fh|0,this.Fl|0,u|0,p|0),{h:g,l:m}=E.add(this.Gh|0,this.Gl|0,g|0,m|0),{h:B,l:T}=E.add(this.Hh|0,this.Hl|0,B|0,T|0),this.set(r,i,s,o,c,a,f,h,l,d,u,p,g,m,B,T)}roundClean(){q.fill(0),J.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class ti extends dt{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class ni extends dt{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const ri=Re(()=>new dt);Re(()=>new ti);Re(()=>new ni);function D(e){return lt.create().update(we(e)).digest()}function ii(e){return ri.create().update(we(e)).digest()}const si=new Proxy({},{get(e,t){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${t}" in client code.`)}}),oi=Object.freeze(Object.defineProperty({__proto__:null,default:si},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const S=BigInt(0),H=BigInt(1),k=BigInt(2),pe=BigInt(3),ci=BigInt(8),tt=k**BigInt(256),I={a:S,b:BigInt(7),P:tt-k**BigInt(32)-BigInt(977),n:tt-BigInt("432420386565659656852420866394968145599"),h:H,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};function Bt(e){const{a:t,b:n}=I,r=w(e*e),i=w(r*e);return w(i+t*e+n)}const Ie=I.a===S;class U{constructor(t,n,r){this.x=t,this.y=n,this.z=r}static fromAffine(t){if(!(t instanceof $))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new U(t.x,t.y,H)}static toAffineBatch(t){const n=ui(t.map(r=>r.z));return t.map((r,i)=>r.toAffine(n[i]))}static normalizeZ(t){return U.toAffineBatch(t).map(U.fromAffine)}equals(t){if(!(t instanceof U))throw new TypeError("JacobianPoint expected");const{x:n,y:r,z:i}=this,{x:s,y:o,z:c}=t,a=w(i**k),f=w(c**k),h=w(n*f),l=w(s*a),d=w(w(r*c)*f),u=w(w(o*i)*a);return h===l&&d===u}negate(){return new U(this.x,w(-this.y),this.z)}double(){const{x:t,y:n,z:r}=this,i=w(t**k),s=w(n**k),o=w(s**k),c=w(k*(w((t+s)**k)-i-o)),a=w(pe*i),f=w(a**k),h=w(f-k*c),l=w(a*(c-h)-ci*o),d=w(k*n*r);return new U(h,l,d)}add(t){if(!(t instanceof U))throw new TypeError("JacobianPoint expected");const{x:n,y:r,z:i}=this,{x:s,y:o,z:c}=t;if(s===S||o===S)return this;if(n===S||r===S)return t;const a=w(i**k),f=w(c**k),h=w(n*f),l=w(s*a),d=w(w(r*c)*f),u=w(w(o*i)*a),p=w(l-h),g=w(u-d);if(p===S)return g===S?this.double():U.ZERO;const m=w(p**k),B=w(p*m),T=w(h*m),x=w(g**k-B-k*T),y=w(g*(T-x)-d*B),b=w(i*c*p);return new U(x,y,b)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const n=U.ZERO;if(typeof t=="bigint"&&t===S)return n;let r=$t(t);if(r===H)return this;if(!Ie){let l=n,d=this;for(;r>S;)r&H&&(l=l.add(d)),d=d.double(),r>>=H;return l}let{k1neg:i,k1:s,k2neg:o,k2:c}=Ht(r),a=n,f=n,h=this;for(;s>S||c>S;)s&H&&(a=a.add(h)),c&H&&(f=f.add(h)),h=h.double(),s>>=H,c>>=H;return i&&(a=a.negate()),o&&(f=f.negate()),f=new U(w(f.x*I.beta),f.y,f.z),a.add(f)}precomputeWindow(t){const n=Ie?128/t+1:256/t+1,r=[];let i=this,s=i;for(let o=0;o<n;o++){s=i,r.push(s);for(let c=1;c<2**(t-1);c++)s=s.add(i),r.push(s);i=s.double()}return r}wNAF(t,n){!n&&this.equals(U.BASE)&&(n=$.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=n&&nt.get(n);i||(i=this.precomputeWindow(r),n&&r!==1&&(i=U.normalizeZ(i),nt.set(n,i)));let s=U.ZERO,o=U.ZERO;const c=1+(Ie?128/r:256/r),a=2**(r-1),f=BigInt(2**r-1),h=2**r,l=BigInt(r);for(let d=0;d<c;d++){const u=d*a;let p=Number(t&f);if(t>>=l,p>a&&(p-=h,t+=H),p===0){let g=i[u];d%2&&(g=g.negate()),o=o.add(g)}else{let g=i[u+Math.abs(p)-1];p<0&&(g=g.negate()),s=s.add(g)}}return{p:s,f:o}}multiply(t,n){let r=$t(t),i,s;if(Ie){const{k1neg:o,k1:c,k2neg:a,k2:f}=Ht(r);let{p:h,f:l}=this.wNAF(c,n),{p:d,f:u}=this.wNAF(f,n);o&&(h=h.negate()),a&&(d=d.negate()),d=new U(w(d.x*I.beta),d.y,d.z),i=h.add(d),s=l.add(u)}else{const{p:o,f:c}=this.wNAF(r,n);i=o,s=c}return U.normalizeZ([i,s])[0]}toAffine(t=ue(this.z)){const{x:n,y:r,z:i}=this,s=t,o=w(s*s),c=w(o*s),a=w(n*o),f=w(r*c);if(w(i*s)!==H)throw new Error("invZ was invalid");return new $(a,f)}}U.BASE=new U(I.Gx,I.Gy,H);U.ZERO=new U(S,H,S);const nt=new WeakMap;class ${constructor(t,n){this.x=t,this.y=n}_setWindowSize(t){this._WINDOW_SIZE=t,nt.delete(this)}static fromCompressedHex(t){const n=t.length===32,r=z(n?t:t.subarray(1));if(!Je(r))throw new Error("Point is not on curve");const i=Bt(r);let s=hi(i);const o=(s&H)===H;n?o&&(s=w(-s)):(t[0]&1)===1!==o&&(s=w(-s));const c=new $(r,s);return c.assertValidity(),c}static fromUncompressedHex(t){const n=z(t.subarray(1,33)),r=z(t.subarray(33,65)),i=new $(n,r);return i.assertValidity(),i}static fromHex(t){const n=ie(t),r=n.length,i=n[0];if(r===32||r===33&&(i===2||i===3))return this.fromCompressedHex(n);if(r===65&&i===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return $.BASE.multiply(X(t))}static fromSignature(t,n,r){t=ie(t);const i=sn(t),{r:s,s:o}=fn(n);if(r!==0&&r!==1)throw new Error("Cannot recover signature: invalid recovery bit");const c=r&1?"03":"02",a=$.fromHex(c+re(s)),{n:f}=I,h=ue(s,f),l=w(-i*h,f),d=w(o*h,f),u=$.BASE.multiplyAndAddUnsafe(a,l,d);if(!u)throw new Error("Cannot recover signature: point at infinify");return u.assertValidity(),u}toRawBytes(t=!1){return te(this.toHex(t))}toHex(t=!1){const n=re(this.x);return t?`${this.y&H?"03":"02"}${n}`:`04${n}${re(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:n,y:r}=this;if(!Je(n)||!Je(r))throw new Error(t);const i=w(r*r),s=Bt(n);if(w(i-s)!==S)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new $(this.x,w(-this.y))}double(){return U.fromAffine(this).double().toAffine()}add(t){return U.fromAffine(this).add(U.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return U.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,n,r){const i=U.fromAffine(this),s=n===S||n===H||this!==$.BASE?i.multiplyUnsafe(n):i.multiply(n),o=U.fromAffine(t).multiplyUnsafe(r),c=s.add(o);return c.equals(U.ZERO)?void 0:c.toAffine()}}$.BASE=new $(I.Gx,I.Gy);$.ZERO=new $(S,S);function Tt(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function Ut(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${ae(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:z(n),left:e.subarray(t+2)}}function ai(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${ae(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=Ut(e.subarray(2)),{data:r,left:i}=Ut(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${ae(i)}`);return{r:t,s:r}}class ee{constructor(t,n){this.r=t,this.s=n,this.assertValidity()}static fromCompact(t){const n=xe(t),r="Signature.fromCompact";if(typeof t!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const i=n?ae(t):t;if(i.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new ee(Pe(i.slice(0,64)),Pe(i.slice(64,128)))}static fromDER(t){const n=xe(t);if(typeof t!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:i}=ai(n?t:te(t));return new ee(r,i)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:n}=this;if(!me(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!me(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=I.n>>H;return this.s>t}normalizeS(){return this.hasHighS()?new ee(this.r,I.n-this.s):this}toDERRawBytes(t=!1){return te(this.toDERHex(t))}toDERHex(t=!1){const n=Tt(de(this.s));if(t)return n;const r=Tt(de(this.r)),i=de(r.length/2),s=de(n.length/2);return`30${de(r.length/2+n.length/2+4)}02${i}${r}02${s}${n}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return te(this.toCompactHex())}toCompactHex(){return re(this.r)+re(this.s)}}function ye(...e){if(!e.every(xe))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,i)=>r+i.length,0),n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}function xe(e){return e instanceof Uint8Array}const fi=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ae(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=fi[e[n]];return t}function re(e){if(e>tt)throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function qe(e){return te(re(e))}function de(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Pe(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function te(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,i=e.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[n]=s}return t}function z(e){return Pe(ae(e))}function ie(e){return e instanceof Uint8Array?Uint8Array.from(e):te(e)}function $t(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&me(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function w(e,t=I.P){const n=e%t;return n>=S?n:t+n}function R(e,t){const{P:n}=I;let r=e;for(;t-- >S;)r*=r,r%=n;return r}function hi(e){const{P:t}=I,n=BigInt(6),r=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),c=BigInt(88),a=e*e*e%t,f=a*a*e%t,h=R(f,pe)*f%t,l=R(h,pe)*f%t,d=R(l,k)*a%t,u=R(d,r)*d%t,p=R(u,i)*u%t,g=R(p,o)*p%t,m=R(g,c)*g%t,B=R(m,o)*p%t,T=R(B,pe)*f%t,x=R(T,s)*u%t,y=R(x,n)*a%t;return R(y,k)}function ue(e,t=I.P){if(e===S||t<=S)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=w(e,t),r=t,i=S,s=H;for(;n!==S;){const c=r/n,a=r%n,f=i-s*c;r=n,n=a,i=s,s=f}if(r!==H)throw new Error("invert: does not exist");return w(i,t)}function ui(e,t=I.P){const n=new Array(e.length),r=e.reduce((s,o,c)=>o===S?s:(n[c]=s,w(s*o,t)),H),i=ue(r,t);return e.reduceRight((s,o,c)=>o===S?s:(n[c]=w(s*n[c],t),w(s*o,t)),i),n}const Ct=(e,t)=>(e+t/k)/t,ke=k**BigInt(128);function Ht(e){const{n:t}=I,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-H*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=Ct(s*e,t),c=Ct(-r*e,t);let a=w(e-o*n-c*i,t),f=w(-o*r-c*s,t);const h=a>ke,l=f>ke;if(h&&(a=t-a),l&&(f=t-f),a>ke||f>ke)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:h,k1:a,k2neg:l,k2:f}}function sn(e){const{n:t}=I,r=e.length*8-256;let i=z(e);return r>0&&(i=i>>BigInt(r)),i>=t&&(i-=t),i}class on{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...t){return Q.hmacSha256(this.k,...t)}hmacSync(...t){throw new Error("utils.hmacSha256Sync is undefined, you need to set it")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}}function me(e){return S<e&&e<I.n}function Je(e){return S<e&&e<I.P}function cn(e,t,n){const r=z(e);if(!me(r))return;const{n:i}=I,s=$.BASE.multiply(r),o=w(s.x,i);if(o===S)return;const c=w(ue(r,i)*w(t+n*o,i),i);if(c===S)return;const a=new ee(o,c),f=(s.x===a.r?0:2)|Number(s.y&H);return{sig:a,recovery:f}}function X(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==64)throw new Error("Expected 32 bytes of private key");t=Pe(e)}else if(xe(e)){if(e.length!==32)throw new Error("Expected 32 bytes of private key");t=z(e)}else throw new TypeError("Expected valid private key");if(!me(t))throw new Error("Expected private key: 0 < key < n");return t}function an(e){return e instanceof $?(e.assertValidity(),e):$.fromHex(e)}function fn(e){if(e instanceof ee)return e.assertValidity(),e;try{return ee.fromDER(e)}catch{return ee.fromCompact(e)}}function Me(e,t=!1){return $.fromPrivateKey(e).toRawBytes(t)}function Ns(e,t,n,r=!1){return $.fromSignature(e,t,n).toRawBytes(r)}function It(e){const t=xe(e),n=typeof e=="string",r=(t||n)&&e.length;return t?r===33||r===65:n?r===66||r===130:e instanceof $}function hn(e,t,n=!1){if(It(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!It(t))throw new TypeError("getSharedSecret: second arg must be public key");const r=an(t);return r.assertValidity(),r.multiply(X(e)).toRawBytes(n)}function un(e){const t=e.length>32?e.slice(0,32):e;return z(t)}function li(e){const t=un(e),n=w(t,I.n);return ln(n<S?t:n)}function ln(e){if(typeof e!="bigint")throw new Error("Expected bigint");const t=re(e);return te(t)}function dn(e,t,n){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);const r=ie(e),i=X(t),s=[ln(i),li(r)];if(n!=null){n===!0&&(n=Q.randomBytes(32));const a=ie(n);if(a.length!==32)throw new Error("sign: Expected 32 bytes of extra data");s.push(a)}const o=ye(...s),c=un(r);return{seed:o,m:c,d:i}}function yn(e,t){let{sig:n,recovery:r}=e;const{canonical:i,der:s,recovered:o}=Object.assign({canonical:!0,der:!0},t);i&&n.hasHighS()&&(n=n.normalizeS(),r^=1);const c=s?n.toDERRawBytes():n.toCompactRawBytes();return o?[c,r]:c}async function pn(e,t,n={}){const{seed:r,m:i,d:s}=dn(e,t,n.extraEntropy);let o;const c=new on;for(await c.reseed(r);!(o=cn(await c.generate(),i,s));)await c.reseed();return yn(o,n)}function di(e,t,n={}){const{seed:r,m:i,d:s}=dn(e,t,n.extraEntropy);let o;const c=new on;for(c.reseedSync(r);!(o=cn(c.generateSync(),i,s));)c.reseedSync();return yn(o,n)}const yi={strict:!0};function rt(e,t,n,r=yi){let i;try{i=fn(e),t=ie(t)}catch{return!1}const{r:s,s:o}=i;if(r.strict&&i.hasHighS())return!1;const c=sn(t);let a;try{a=an(n)}catch{return!1}const{n:f}=I,h=ue(o,f),l=w(c*h,f),d=w(s*h,f),u=$.BASE.multiplyAndAddUnsafe(a,l,d);return u?w(u.x,f)===s:!1}$.BASE._setWindowSize(8);const N={node:oi,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},kt={},Q={isValidPrivateKey(e){try{return X(e),!0}catch{return!1}},privateAdd:(e,t)=>{const n=X(e),r=X(t);return qe(w(n+r,I.n))},privateNegate:e=>{const t=X(e);return qe(I.n-t)},pointAddScalar:(e,t,n)=>{const r=$.fromHex(e),i=X(t),s=$.BASE.multiplyAndAddUnsafe(r,i,H);if(!s)throw new Error("Tweaked point at infinity");return s.toRawBytes(n)},pointMultiply:(e,t,n)=>{const r=$.fromHex(e),i=z(ie(t));return r.multiply(i).toRawBytes(n)},hashToPrivateKey:e=>{if(e=ie(e),e.length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const t=w(z(e),I.n-H)+H;return qe(t)},randomBytes:(e=32)=>{if(N.web)return N.web.getRandomValues(new Uint8Array(e));if(N.node){const{randomBytes:t}=N.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Q.hashToPrivateKey(Q.randomBytes(40)),bytesToHex:ae,hexToBytes:te,concatBytes:ye,mod:w,invert:ue,sha256:async(...e)=>{if(N.web){const t=await N.web.subtle.digest("SHA-256",ye(...e));return new Uint8Array(t)}else if(N.node){const{createHash:t}=N.node,n=t("sha256");return e.forEach(r=>n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(N.web){const n=await N.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=ye(...t),i=await N.web.subtle.sign("HMAC",n,r);return new Uint8Array(i)}else if(N.node){const{createHmac:n}=N.node,r=n("sha256",e);return t.forEach(i=>r.update(i)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let n=kt[e];if(n===void 0){const r=await Q.sha256(Uint8Array.from(e,i=>i.charCodeAt(0)));n=ye(r,r),kt[e]=n}return Q.sha256(n,...t)},taggedHashSync:(e,...t)=>{throw new Error("utils.sha256Sync is undefined, you need to set it")},precompute(e=8,t=$.BASE){const n=t===$.BASE?t:new $(t.x,t.y);return n._setWindowSize(e),n.multiply(pe),n}};var pi=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),gi=class{webCrypto;constructor(t){this.webCrypto=t}async encrypt(t,n,r,i){let s,o;if(t==="aes-128-cbc")s="AES-CBC",o=128;else if(t==="aes-256-cbc")s="AES-CBC",o=256;else throw new Error(`Unsupported cipher algorithm "${t}"`);let c=await this.webCrypto.subtle.importKey("raw",n,{name:s,length:o},!1,["encrypt"]),a=await this.webCrypto.subtle.encrypt({name:s,iv:r},c,i);return new Uint8Array(a)}async decrypt(t,n,r,i){let s,o;if(t==="aes-128-cbc")s="AES-CBC",o=128;else if(t==="aes-256-cbc")s="AES-CBC",o=256;else throw new Error(`Unsupported cipher algorithm "${t}"`);let c=await this.webCrypto.subtle.importKey("raw",n,{name:s,length:o},!1,["decrypt"]),a=await this.webCrypto.subtle.decrypt({name:s,iv:r},c,i);return new Uint8Array(a)}},wi=class{createCipher;createDecipher;constructor(e,t){this.createCipher=e,this.createDecipher=t}async encrypt(e,t,n,r){if(e!=="aes-128-cbc"&&e!=="aes-256-cbc")throw new Error(`Unsupported cipher algorithm "${e}"`);let i=this.createCipher(e,t,n),s=V([i.update(r),i.final()]);return Promise.resolve(s)}async decrypt(e,t,n,r){if(e!=="aes-128-cbc"&&e!=="aes-256-cbc")throw new Error(`Unsupported cipher algorithm "${e}"`);let i=this.createDecipher(e,t,n),s=V([i.update(r),i.final()]);return Promise.resolve(s)}};function bi(){return typeof crypto<"u"&&typeof crypto.subtle<"u"}var xi='Crypto lib not found. Either the WebCrypto "crypto.subtle" or Node.js "crypto" module must be available.';async function mi(){if(bi())return{lib:crypto,name:"webCrypto"};try{return{lib:pi("crypto"),name:"nodeCrypto"}}catch{throw new Error(xi)}}async function gn(){let e=await mi();return e.name==="webCrypto"?new gi(e.lib):new wi(e.lib.createCipheriv,e.lib.createDecipheriv)}async function vi(e,t,n){return(await gn()).encrypt("aes-256-cbc",t,e,n)}async function Ei(e,t,n){return(await gn()).decrypt("aes-256-cbc",t,e,n)}class wn extends Qe{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,ne.hash(t);const r=at(n);if(this.iHash=t.create(),!(this.iHash instanceof Qe))throw new TypeError("Expected instance of class which extends utils.Hash");const i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(i);s.set(r.length>this.iHash.blockLen?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return ne.exists(this),this.iHash.update(t),this}digestInto(t){ne.exists(this),ne.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:c}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const bn=(e,t,n)=>new wn(e,t).update(n).digest();bn.create=(e,t)=>new wn(e,t);function xn(e,...t){let n=bn.create(lt,we(e));for(let r of t)n.update(we(r));return Uint8Array.from(n.digest())}function Ai(e){return(Math.floor(e/16)+1)*16}function Si(e){return Math.ceil(e/3)*4}function Bi(e){let t={iv:"",ephemeralPK:"",mac:"",cipherText:"",wasString:!!e.wasString};e.cipherTextEncoding==="base64"&&(t.cipherTextEncoding="base64");let n=32,r=66,i=64;return{payloadValuesLength:n+r+i,payloadShell:JSON.stringify(t)}}function Ti(e){let t={signature:"",publicKey:"",cipherText:e};return{signedPayloadValuesLength:144+66,signedPayloadShell:JSON.stringify(t)}}function Ds(e){let{payloadShell:t,payloadValuesLength:n}=Bi(e),r=Ai(e.contentLength),i;if(!e.cipherTextEncoding||e.cipherTextEncoding==="hex")i=r*2;else if(e.cipherTextEncoding==="base64")i=Si(r);else throw new Error(`Unexpected cipherTextEncoding "${e.cipherTextEncoding}"`);if(e.sign){let{signedPayloadShell:s,signedPayloadValuesLength:o}=Ti(t);return s.length+o+n+i}else return t.length+n+i}function Ui(e){return typeof e=="string"?St(e):St.create().update(we(e)).digest()}var $i=class{digest(e){return Ui(e)}};function Ci(){return new $i}function yt(e){return Ci().digest(e)}function mn(e){let t=ii(e);return{encryptionKey:t.slice(0,32),hmacKey:t.slice(32)}}function Hi(e=32){return Q.randomBytes(e)}function vn(e,t){let n=new Uint8Array([t]),r=new Uint8Array(25),i=new Uint8Array(21);i[0]=t,i.set(e,1);let s=D(i),o=D(s).slice(0,4);return r.set(n,0),r.set(e,1),r.set(o,e.length+1),sr(r)}var Ii={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},ki={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},En={bitcoin:Ii,testnet:ki},Oi=(e=>(e[e.mainnetP2PKH=22]="mainnetP2PKH",e[e.mainnetP2SH=20]="mainnetP2SH",e[e.testnetP2PKH=26]="testnetP2PKH",e[e.testnetP2SH=21]="testnetP2SH",e))(Oi||{}),fe="0123456789ABCDEFGHJKMNPQRSTVWXYZ",pt=new Map;[...fe].forEach((e,t)=>pt.set(e,t));var Oe="0123456789abcdef",it=new Map;[...Oe].forEach((e,t)=>it.set(e,t));function An(e,t){let n=Sn(e,t),r=Li(V([t,n]));return`S${fe[e]}${r}`}function Li(e){let t=L(e),n=[],r=0;for(let c=t.length-1;c>=0;c--)if(r<4){let a=it.get(t[c])>>r,f=0;c!==0&&(f=it.get(t[c-1]));let h=1+r,l=f%(1<<h)<<5-h,d=fe[a+l];r=h,n.unshift(d)}else r=0;let i=0;for(let c=0;c<n.length&&n[c]==="0";c++)i++;n=n.slice(i);let s=/^\u0000*/.exec(new TextDecoder().decode(e)),o=s?s[0].length:0;for(let c=0;c<o;c++)n.unshift(fe[0]);return n.join("")}function Sn(e,t){let n=D(V([Uint8Array.of(e),t]));return D(n).slice(0,4)}function Pi(e){if(e.length<=5)throw new Error("Invalid c32 address: invalid length");if(e[0]!=="S")throw new Error('Invalid c32 address: must start with "S"');return _i(e.slice(1))}function _i(e){e=Bn(e);let t=Ni(e.slice(1)),n=e[0],r=pt.get(n),i=t.slice(-4),s=Sn(r,t.slice(0,-4));for(let o=0;o<i.length;o++)if(i[o]!==s[o])throw new Error("Invalid c32check string: checksum mismatch");return[r,t.slice(0,-4)]}function Bn(e){return e.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}function Ni(e){if(e=Bn(e),!RegExp(`^[${fe}]*$`).exec(e))throw new Error("Not a c32-encoded string");let t=RegExp(`^${fe[0]}*`).exec(e),n=t?t[0].length:0,r=[],i=0,s=0;for(let a=e.length-1;a>=0;a--){s===4&&(r.unshift(Oe[i]),s=0,i=0);let f=(pt.get(e[a])<<s)+i,h=Oe[f%16];if(s+=1,i=f>>4,i>1<<s)throw new Error("Panic error in decoding.");r.unshift(h)}r.unshift(Oe[i]),r.length%2===1&&r.unshift("0");let o=0;for(let a=0;a<r.length&&r[a]==="0";a++)o++;r=r.slice(o-o%2);let c=r.join("");for(let a=0;a<n;a++)c=`00${c}`;return _(c)}function Rs(e){try{return Pi(e),!0}catch{return!1}}function Ks(e,t=22){return An(t,ji(Fn(e)))}function Ms(e){let t=Me(e,!0),n=D(t),r=yt(n);return vn(r,En.bitcoin.pubKeyHash)}function zs(e){let t=typeof e=="string"?e:L(e),n=D(_(t)),r=yt(n);return vn(r,En.bitcoin.pubKeyHash)}function ji(e){let t=D(e);return yt(t)}async function Di(e){let{contents:t,privateKey:n}=e,r=t instanceof ArrayBuffer?Mt(t):typeof t=="string"?j(t):t,i=L(Me(n,!0)),s=D(r),o=await pn(s,n,{canonical:!1});return{signature:L(o),publicKey:i}}function Vs(e,t=!1){let{contents:n,publicKey:r,signature:i}=e,s=n instanceof ArrayBuffer?Mt(n):typeof n=="string"?j(n):n,o=D(s);return rt(i,o,r,{strict:t})}async function Ri(e){let{publicKey:t,content:n,cipherTextEncoding:r="hex",wasString:i}=e,s=Q.randomPrivateKey(),o=Me(s,!0),c=hn(s,t,!0);c=c.slice(1);let a=mn(c),f=Hi(16),h=await vi(f,a.encryptionKey,n),l=V([f,o,h]),d=xn(a.hmacKey,l),u;if(!r||r==="hex")u=L(h);else if(r==="base64")u=Xe(h);else throw new Error(`Unexpected cipherTextEncoding "${r}"`);let p={iv:L(f),ephemeralPK:L(o),cipherText:u,mac:L(d),wasString:i};return r&&r!=="hex"&&(p.cipherTextEncoding=r),p}function Ki(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}async function Mi(e){let{privateKey:t,cipherObject:n}=e;if(!n.ephemeralPK)throw Error("No ephemeralPK found in cipher object");let r=n.ephemeralPK,i=hn(t,r,!0);i=i.slice(1);let s=mn(i),o=_(n.iv),c;if(!n.cipherTextEncoding||n.cipherTextEncoding==="hex")c=_(n.cipherText);else if(n.cipherTextEncoding==="base64")c=be(n.cipherText);else throw new Error(`Unexpected cipherTextEncoding "${n.cipherText}"`);let a=V([o,_(r),c]),f=xn(s.hmacKey,a),h=_(n.mac);if(!Ki(h,f))throw new Error("Decryption failed: failure in MAC check");let l=await Ei(o,s.encryptionKey,c);return n.wasString?new TextDecoder().decode(l):l}function Fs(e,t){if(!t.privateKey)throw new Error("Private key is required for decryption.");try{let n=JSON.parse(e);return Mi({privateKey:t.privateKey,cipherObject:n})}catch(n){throw n instanceof SyntaxError?new Error("Failed to parse encrypted content JSON. The content may not be encrypted. If using getFile, try passing { decrypt: false }."):n}}async function Ws(e,t){let{publicKey:n,privateKey:r,wasString:i}=t,{cipherTextEncoding:s,sign:o}=t;if(!r&&!n)throw new Error("Either public key or private key must be supplied for encryption.");if(!n&&r&&(n=L(Me(r,!0))),typeof i!="boolean"&&(i=typeof e=="string"),!n)throw new Error("micro-stacks/crypto - no public key found to encrypt content");let c=typeof e=="string"?j(e):e,a=await Ri({publicKey:n,content:c,wasString:i,cipherTextEncoding:s});if(!o)return JSON.stringify(a);if(typeof o=="string"&&(r=o),!r)throw new Error("micro-stacks/crypto - need private key to sign contents");let f=await Di({contents:JSON.stringify(a),privateKey:r});return JSON.stringify({...f,cipherText:JSON.stringify(a)})}function zi(e){let t=e.length,n=t%4;if(!n)return e;let r=4-n,i=t+r;return e.padEnd(i,"=")}function Vi(e){return e instanceof Uint8Array?Ot(Xe(e)):Ot(Xe(new TextEncoder().encode(e)))}function Fi(e){let t=be(Wi(e));return new TextDecoder().decode(t)}function Wi(e){let t;return e instanceof Uint8Array?t=new TextDecoder().decode(e):t=e,zi(t).replace(/\-/g,"+").replace(/_/g,"/")}function Ot(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var W={encode:Vi,decode:Fi},_e=128,Tn=0,Zi=32,Gi=16,qi=2,Un=Gi|Zi|Tn<<6,Ne=qi|Tn<<6;function $n(e){return typeof e=="string"?be(e):e}function Lt(e){let t=$n(e),n=32,r=n+1,i=t.length,s=0;if(t[s++]!==Un)throw new Error('Could not find expected "seq"');let o=t[s++];if(o===(_e|1)&&(o=t[s++]),i-s<o)throw new Error('"seq" specified length of "'+o+'", only "'+(i-s)+'" remaining');if(t[s++]!==Ne)throw new Error('Could not find expected "int" for "r"');let c=t[s++];if(i-s-2<c)throw new Error('"r" specified length of "'+c+'", only "'+(i-s-2)+'" available');if(r<c)throw new Error('"r" specified length of "'+c+'", max of "'+r+'" is acceptable');let a=s;if(s+=c,t[s++]!==Ne)throw new Error('Could not find expected "int" for "s"');let f=t[s++];if(i-s!==f)throw new Error('"s" specified length of "'+f+'", expected "'+(i-s)+'"');if(r<f)throw new Error('"s" specified length of "'+f+'", max of "'+r+'" is acceptable');let h=s;if(s+=f,s!==i)throw new Error('Expected to consume entire buffer, but "'+(i-s)+'" bytes remain');let l=n-c,d=n-f,u=new Uint8Array(l+c+d+f);for(s=0;s<l;++s)u[s]=0;u.set(t.slice(a+Math.max(-l,0),a+c),s),s=n;for(let p=s;s<p+d;++s)u[s]=0;return u.set(t.slice(h+Math.max(-d,0),h+f),s),Zt(u).replace(/=/g,"")}function Pt(e,t,n){let r=0;for(;t+r<n&&e[t+r]===0;)++r;return e[t+r]>=_e&&--r,r}function _t(e){let t=$n(e),n=32,r=Pt(t,0,n),i=Pt(t,n,t.length),s=n-r,o=n-i,c=1+1+s+1+1+o,a=c<_e,f=new Uint8Array((a?2:3)+c),h=0;return f[h++]=Un,a?f[h++]=c:(f[h++]=_e|1,f[h++]=c&255),f[h++]=Ne,f[h++]=s,r<0?(f[h++]=0,h+=Ue(t,f,h,0,n)):h+=Ue(t,f,h,r,n),f[h++]=Ne,f[h++]=o,i<0?(f[h++]=0,Ue(t,f,h,n)):Ue(t,f,h,n+i),Zt(f).replace(/=/g,"")}function st(e,t){let n=[],r=W.encode(JSON.stringify(t));n.push(r);let i=W.encode(JSON.stringify(e));return n.push(i),n.join(".")}var Zs=class{tokenType;rawPrivateKey;constructor(e="ES256K",t){if(!t)throw new qn("TokenSigner: rawPrivateKey is required to sign a token");this.tokenType="JWT",this.rawPrivateKey=t}header(e={}){return{typ:this.tokenType,alg:"ES256K",...e}}async sign(e,t=!1,n={}){let r=this.header(n),i=st(e,r),s=D(j(i));return this.createWithSignedHash(e,t,r,i,s)}signSync(e,t=!1,n={}){let r=this.header(n),i=st(e,r),s=D(j(i));return this.createWithSignedHashSync(e,t,r,i,s)}async createWithSignedHash(e,t,n,r,i){let s=await pn(i,this.rawPrivateKey,{canonical:!1}),o=Lt(s);return t?{header:[W.encode(JSON.stringify(n))],payload:JSON.stringify(e),signature:[o]}:[r,o].join(".")}createWithSignedHashSync(e,t,n,r,i){let s=di(i,this.rawPrivateKey,{canonical:!1}),o=Lt(s);return t?{header:[W.encode(JSON.stringify(n))],payload:JSON.stringify(e),signature:[o]}:[r,o].join(".")}},Gs=class{tokenType;rawPublicKey;constructor(e,t){this.tokenType="JWT",this.rawPublicKey=t}verify(e,t=!1){return typeof e=="string"?this.verifyCompact(e,t):typeof e=="object"?this.verifyExpanded(e,t):!1}verifyCompact(e,t){let n=e.split("."),r=n[0]+"."+n[1],i=o=>{let c=n[2],a=_t(c);return rt(L(be(a)),L(o),this.rawPublicKey,{strict:t})},s=D(j(r));return i(s)}verifyExpanded(e,t){let n=[e.header.join("."),W.encode(e.payload)].join("."),r=!0,i=o=>(e.signature.map(c=>{let a=_t(c);rt(L(be(a)),L(o),this.rawPublicKey,{strict:t})||(r=!1)}),r),s=D(j(n));return i(s)}};function qs(e){if(typeof e=="string"){let t=e.split("."),n=JSON.parse(W.decode(t[0])),r=JSON.parse(W.decode(t[1])),i=t[2];return{header:n,payload:r,signature:i}}else if(typeof e=="object"){if(typeof e.payload!="string")throw new Error("Expected token payload to be a base64 or json string");let t=e.payload;e.payload[0]!=="{"&&(t=W.decode(t));let n=[];return e.header.map(r=>{let i=JSON.parse(W.decode(r));n.push(i)}),{header:n,payload:JSON.parse(t),signature:e.signature}}}function Js(e){return st(e,{typ:"JWT",alg:"none"})+"."}var Nt=BigInt("0xffffffffffffffffffffffffffffffff"),Ji=BigInt(0);BigInt("0x7fffffffffffffffffffffffffffffff");BigInt("-170141183460469231731687303715884105728");var Xi=(e=>(e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract",e))(Xi||{}),Yi=(e=>(e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8",e))(Yi||{}),Xs=e=>{let t=ot(e);if(t<Ji)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>Nt)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${Nt.toString()}`);return{type:1,value:t}};function Qi(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}var es=(e=>(e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.TransactionAuthField=10]="TransactionAuthField",e))(es||{});function jt(e){return An(e.version,_(e.hash160))}var ts=(e,t)=>e?j(e).length>t:!1;function ns(e,t,n){let r=t||1,i=n||128;if(ts(e,i))throw new Error(`String length exceeds maximum bytes ${i.toString()}`);return{type:2,content:e,lengthPrefixBytes:r,maxLengthBytes:i}}function Cn(e){let t=new Ee;return t.appendHexString(ve(e.version,1)),t.appendHexString(e.hash160),t.concatBuffer()}function Hn(e){let t=new Ee,n=j(e.content),r=n.byteLength;return t.appendHexString(ve(r,e.lengthPrefixBytes)),t.push(n),t.concatBuffer()}function rs(e){if(e.type===5)return jt(e.address);if(e.type===6)return`${jt(e.address)}.${e.contractName.content}`;throw new Error(`Unexpected principal data: ${JSON.stringify(e)}`)}var Ys=e=>({type:13,data:e});function Qs(e){for(let t in e)if(!Qi(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:12,data:e}}var is=(e=>(e[e.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",e[e.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",e[e.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",e[e.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",e[e.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",e[e.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",e[e.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",e[e.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",e[e.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",e[e.ClarityAbiTypeList=10]="ClarityAbiTypeList",e[e.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",e[e.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",e[e.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference",e))(is||{});function Y(e){switch(e.type){case 3:case 4:return"bool";case 0:return"int";case 1:return"uint";case 2:return`(buff ${e.buffer.length})`;case 9:return"(optional none)";case 10:return`(optional ${Y(e.value)})`;case 8:return`(response UnknownType ${Y(e.value)})`;case 7:return`(response ${Y(e.value)} UnknownType)`;case 5:case 6:return"principal";case 11:return`(list ${e.list.length} ${e.list.length?Y(e.list[0]):"UnknownType"})`;case 12:return`(tuple ${Object.keys(e.data).map(t=>`(${t} ${Y(e.data[t])})`).join(" ")})`;case 13:return`(string-ascii ${Gt(e.data).length})`;case 14:return`(string-utf8 ${j(e.data).length})`}}function ce(e){let t=ss(e,!0);switch(e.type){case 8:return{type:Y(e),value:t,success:!1};case 7:return{type:Y(e),value:t,success:!0};default:return{type:Y(e),value:t}}}function ss(e,t=!1){switch(e.type){case 3:return!0;case 4:return!1;case 0:case 1:return t?e.value.toString():e.value;case 2:return`0x${L(e.buffer)}`;case 9:return null;case 10:return ce(e.value);case 8:return ce(e.value);case 7:return ce(e.value);case 5:case 6:return rs(e);case 11:return e.list.map(r=>ce(r));case 12:let n={};return Object.keys(e.data).map(r=>[r,ce(e.data[r])]).forEach(([r,i])=>{n[r]=i}),n;case 13:return e.data;case 14:return e.data}}function F(e,t){let n=new Ee,r=Uint8Array.from([e]);return n.push(r),n.push(t),n.concatBuffer()}function os(e){return Uint8Array.from([e.type])}function cs(e){return e.type===9?new Uint8Array([e.type]):F(e.type,Se(e.value))}function as(e){let t=new Uint8Array(4);return new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(t.byteOffset,e.buffer.length),F(e.type,V([t,Uint8Array.from(e.buffer)]))}function fs(e){let t=ve(Wn(e.value),16),n=_(t);return F(e.type,n)}function hs(e){let t=ve(e.value,16),n=_(t);return F(e.type,n)}function us(e){return F(e.type,Cn(e.address))}function ls(e){return F(e.type,V([Cn(e.address),Hn(e.contractName)]))}function ds(e){return F(e.type,Se(e.value))}function ys(e){let t=new Ee,n=new Uint8Array(4);or(n,e.list.length,0),t.push(n);for(let r of e.list){let i=Se(r);t.push(i)}return F(e.type,t.concatBuffer())}function ps(e){let t=[],n=new Uint8Array(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(n.byteOffset,Object.keys(e.data).length),t.push(n);let r=Object.keys(e.data).sort((i,s)=>{let o=j(i),c=j(s);return cr(o,c)});for(let i of r){let s=ns(i);t.push(Hn(s));let o=Se(e.data[i]);t.push(o)}return F(e.type,V(t))}function In(e,t){let n=new Ee,r=(t==="ascii"?Gt:j)(e.data),i=new Uint8Array(4);return new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(i.byteOffset,r.length),n.push(i),n.push(r),F(e.type,n.concatBuffer())}function gs(e){return In(e,"ascii")}function ws(e){return In(e,"utf8")}function Se(e){switch(e.type){case 3:case 4:return os(e);case 9:case 10:return cs(e);case 2:return as(e);case 0:return fs(e);case 1:return hs(e);case 5:return us(e);case 6:return ls(e);case 7:case 8:return ds(e);case 11:return ys(e);case 12:return ps(e);case 13:return gs(e);case 14:return ws(e);default:throw new Error("Unable to serialize. Invalid Clarity Value.")}}function eo(e){return`0x${L(Se(e))}`}var kn={},gt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.c32decode=e.c32normalize=e.c32encode=e.c32=void 0;const t=oe;e.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";const n="0123456789abcdef";function r(o,c){if(!o.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");o.length%2!==0&&(o=`0${o}`),o=o.toLowerCase();let a=[],f=0;for(let u=o.length-1;u>=0;u--)if(f<4){const p=n.indexOf(o[u])>>f;let g=0;u!==0&&(g=n.indexOf(o[u-1]));const m=1+f,B=g%(1<<m)<<5-m,T=e.c32[p+B];f=m,a.unshift(T)}else f=0;let h=0;for(let u=0;u<a.length&&a[u]==="0";u++)h++;a=a.slice(h);const l=new TextDecoder().decode((0,t.hexToBytes)(o)).match(/^\u0000*/),d=l?l[0].length:0;for(let u=0;u<d;u++)a.unshift(e.c32[0]);if(c){const u=c-a.length;for(let p=0;p<u;p++)a.unshift(e.c32[0])}return a.join("")}e.c32encode=r;function i(o){return o.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}e.c32normalize=i;function s(o,c){if(o=i(o),!o.match(`^[${e.c32}]*$`))throw new Error("Not a c32-encoded string");const a=o.match(`^${e.c32[0]}*`),f=a?a[0].length:0;let h=[],l=0,d=0;for(let g=o.length-1;g>=0;g--){d===4&&(h.unshift(n[l]),d=0,l=0);const B=(e.c32.indexOf(o[g])<<d)+l,T=n[B%16];if(d+=1,l=B>>4,l>1<<d)throw new Error("Panic error in decoding.");h.unshift(T)}h.unshift(n[l]),h.length%2===1&&h.unshift("0");let u=0;for(let g=0;g<h.length&&h[g]==="0";g++)u++;h=h.slice(u-u%2);let p=h.join("");for(let g=0;g<f;g++)p=`00${p}`;if(c){const g=c*2-p.length;for(let m=0;m<g;m+=2)p=`00${p}`}return p}e.c32decode=s})(gt);var se={};Object.defineProperty(se,"__esModule",{value:!0});se.c32checkDecode=se.c32checkEncode=void 0;const Dt=Ae,Rt=oe,ge=gt;function On(e){const t=(0,Dt.sha256)((0,Dt.sha256)((0,Rt.hexToBytes)(e)));return(0,Rt.bytesToHex)(t.slice(0,4))}function bs(e,t){if(e<0||e>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");t=t.toLowerCase(),t.length%2!==0&&(t=`0${t}`);let n=e.toString(16);n.length===1&&(n=`0${n}`);const r=On(`${n}${t}`),i=(0,ge.c32encode)(`${t}${r}`);return`${ge.c32[e]}${i}`}se.c32checkEncode=bs;function xs(e){e=(0,ge.c32normalize)(e);const t=(0,ge.c32decode)(e.slice(1)),n=e[0],r=ge.c32.indexOf(n),i=t.slice(-8);let s=r.toString(16);if(s.length===1&&(s=`0${s}`),On(`${s}${t.substring(0,t.length-8)}`)!==i)throw new Error("Invalid c32check string: checksum mismatch");return[r,t.substring(0,t.length-8)]}se.c32checkDecode=xs;var Ln={},he={};function ms(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=r}var o=e.length,c=e.charAt(0),a=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,g=0,m=0,B=u.length;m!==B&&u[m]===0;)m++,p++;for(var T=(B-m)*f+1>>>0,x=new Uint8Array(T);m!==B;){for(var y=u[m],b=0,v=T-1;(y!==0||b<g)&&v!==-1;v--,b++)y+=256*x[v]>>>0,x[v]=y%o>>>0,y=y/o>>>0;if(y!==0)throw new Error("Non-zero carry");g=b,m++}for(var A=T-g;A!==T&&x[A]===0;)A++;for(var C=c.repeat(p);A<T;++A)C+=e.charAt(x[A]);return C}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;for(var p=0,g=0,m=0;u[p]===c;)g++,p++;for(var B=(u.length-p)*a+1>>>0,T=new Uint8Array(B);u[p];){var x=t[u.charCodeAt(p)];if(x===255)return;for(var y=0,b=B-1;(x!==0||y<m)&&b!==-1;b--,y++)x+=o*T[b]>>>0,T[b]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");m=y,p++}for(var v=B-m;v!==B&&T[v]===0;)v++;for(var A=new Uint8Array(g+(B-v)),C=g;v!==B;)A[C++]=T[v++];return A}function d(u){var p=l(u);if(p)return p;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:l,decode:d}}var vs=ms;Object.defineProperty(he,"__esModule",{value:!0});he.decode=he.encode=void 0;const je=Ae,Kt=oe,Pn=vs,_n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function Es(e,t="00"){const n=typeof e=="string"?(0,Kt.hexToBytes)(e):e,r=typeof t=="string"?(0,Kt.hexToBytes)(t):e;if(!(n instanceof Uint8Array)||!(r instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");const i=(0,je.sha256)((0,je.sha256)(new Uint8Array([...r,...n])));return Pn(_n).encode([...r,...n,...i.slice(0,4)])}he.encode=Es;function As(e){const t=Pn(_n).decode(e),n=t.slice(0,1),r=t.slice(1,-4),i=(0,je.sha256)((0,je.sha256)(new Uint8Array([...n,...r])));return t.slice(-4).forEach((s,o)=>{if(s!==i[o])throw new Error("Invalid checksum")}),{prefix:n,data:r}}he.decode=As;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.c32ToB58=e.b58ToC32=e.c32addressDecode=e.c32address=e.versions=void 0;const t=se,n=he,r=oe;e.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};const i={};i[0]=e.versions.mainnet.p2pkh,i[5]=e.versions.mainnet.p2sh,i[111]=e.versions.testnet.p2pkh,i[196]=e.versions.testnet.p2sh;const s={};s[e.versions.mainnet.p2pkh]=0,s[e.versions.mainnet.p2sh]=5,s[e.versions.testnet.p2pkh]=111,s[e.versions.testnet.p2sh]=196;function o(h,l){if(!l.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,t.c32checkEncode)(h,l)}`}e.c32address=o;function c(h){if(h.length<=5)throw new Error("Invalid c32 address: invalid length");if(h[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,t.c32checkDecode)(h.slice(1))}e.c32addressDecode=c;function a(h,l=-1){const d=n.decode(h),u=(0,r.bytesToHex)(d.data),p=parseInt((0,r.bytesToHex)(d.prefix),16);let g;return l<0?(g=p,i[p]!==void 0&&(g=i[p])):g=l,o(g,u)}e.b58ToC32=a;function f(h,l=-1){const d=c(h),u=d[0],p=d[1];let g;l<0?(g=u,s[u]!==void 0&&(g=s[u])):g=l;let m=g.toString(16);return m.length===1&&(m=`0${m}`),n.encode(p,m)}e.c32ToB58=f})(Ln);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.b58ToC32=e.c32ToB58=e.versions=e.c32normalize=e.c32addressDecode=e.c32address=e.c32checkDecode=e.c32checkEncode=e.c32decode=e.c32encode=void 0;const t=gt;Object.defineProperty(e,"c32encode",{enumerable:!0,get:function(){return t.c32encode}}),Object.defineProperty(e,"c32decode",{enumerable:!0,get:function(){return t.c32decode}}),Object.defineProperty(e,"c32normalize",{enumerable:!0,get:function(){return t.c32normalize}});const n=se;Object.defineProperty(e,"c32checkEncode",{enumerable:!0,get:function(){return n.c32checkEncode}}),Object.defineProperty(e,"c32checkDecode",{enumerable:!0,get:function(){return n.c32checkDecode}});const r=Ln;Object.defineProperty(e,"c32address",{enumerable:!0,get:function(){return r.c32address}}),Object.defineProperty(e,"c32addressDecode",{enumerable:!0,get:function(){return r.c32addressDecode}}),Object.defineProperty(e,"c32ToB58",{enumerable:!0,get:function(){return r.c32ToB58}}),Object.defineProperty(e,"b58ToC32",{enumerable:!0,get:function(){return r.b58ToC32}}),Object.defineProperty(e,"versions",{enumerable:!0,get:function(){return r.versions}})})(kn);function to(e){if(!e)throw new Error("Needs a stacks address");return kn.c32addressDecode(e)}async function no(e){const t=e==="mainnet"?"SP000000000000000000002Q6VF78.pox":"ST000000000000000000002AMW42H.pox",n={contractAddress:t.split(".")[0],contractName:t.split(".")[1],functionName:"get-pox-info",functionArgs:[],network:e},r=await Ss(n);return console.log("pox: ",r),e==="testnet"?"tb1qasu5x7dllnejmx0dtd5j42quk4q03dl56caqss":"bc1q0pcvvu8ewfqw3p270cwxtsd5pe7us3s8kznftnrhs74w4nfl4rtqjt6hp6"}async function Ss(e){const n=(e.network==="mainnet","https://stacks-node-api.mainnet.stacks.co")+"/v2/contracts/call-read/"+e.contractAddress+"/"+e.contractName+"/"+e.functionName,i=await(await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({arguments:e.functionArgs,sender:e.contractAddress})})).json();return ce(i)}export{Hn as $,Js as A,Ks as B,rt as C,Ms as D,$s as E,Ds as F,Di as G,ks as H,Ws as I,Fs as J,Xs as K,Mt as L,zs as M,j as N,Vs as O,Gs as P,An as Q,Hs as R,ee as S,_ as T,Cs as U,eo as V,Rs as W,Oi as X,oi as Y,to as Z,Cn as _,Hi as a,oe as b,fr as c,Me as d,Mi as e,no as f,Xi as g,Us as h,D as i,V as j,xt as k,Zs as l,Se as m,Qs as n,Ys as o,L as p,Ee as q,Ns as r,Ts as s,we as t,ar as u,Os as v,qs as w,Ls as x,Ps as y,Pi as z};
