import{X as Cn,F as $n}from"./index-23d2e92a.js";var _e={};function lt(e){return e==="local"?localStorage:sessionStorage}function Hn(e,t,n){const r=n?.serializer??JSON,i=n?.storage??"local",o=typeof window<"u"&&typeof document<"u";function s(c,a){o&&lt(i).setItem(c,r.stringify(a))}if(!_e[e]){const c=$n(t,u=>{const h=o?lt(i).getItem(e):null;if(h&&u(r.parse(h)),o){const d=l=>{l.key===e&&u(l.newValue?r.parse(l.newValue):null)};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)}}),{subscribe:a,set:f}=c;_e[e]={set(u){s(e,u),f(u)},update(u){const h=u(Cn(c));s(e,h),f(h)},subscribe:a}}return _e[e]}const wo=Hn("sbtcConfig",{network:"testnet"});function In(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unexpected runtime environment - no supported global scope (`window`, `self`, `global`) available")}function Pt(e){if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Non array buffer passed to arrayBufferToUint8")}function kn(e,t,n){return n?`Use of '${n}' requires \`${t}\` which is unavailable on the '${e}' object within the currently executing environment.`:`\`${t}\` is unavailable on the '${e}' object within the currently executing environment.`}function bo(e,{throwIfUnavailable:t,usageDesc:n,returnEmptyObject:r}={}){let i;try{if(i=In(),i){let o=i[e];if(o)return o}}catch(o){console.error(`Error getting object '${e}' from global scope '${i}': ${o}`)}if(t){let o=kn(i,e.toString(),n);throw console.error(o),new Error(o)}if(r)return{}}function z(e){let t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t),r=0;for(let i=0;i<e.length;i++)n.set(e[i],r),r+=e[i].length;return n}function ye(e){return typeof e=="object"&&(e=Uint8Array.from(e)),e}function On(e){var t;return e!==null&&typeof e=="object"&&((t=e?.constructor)==null?void 0:t.wordSize)===26&&Array.isArray(e?.words)}function j(e){return new TextEncoder().encode(e)}function Ln(e){return new TextDecoder().decode(e)}var Nt=new Array(255);for(let e=0;e<=255;++e)Nt[e]=e.toString(16).padStart(2,"0");function P(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error(`hexToBytes: received invalid unpadded hex, got: ${e.length}`);let t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){let r=n*2;t[n]=Number.parseInt(e.slice(r,r+2),16)}return t}function L(e){let t=new Array(e.length);for(let n=0;n<e.length;++n)t[n]=Nt[e[n]];return t.join("")}function ht(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}var be=(e,t=8)=>(typeof e=="bigint"?e:Qe(e,!1)).toString(16).padStart(t*2,"0"),xo=e=>JSON.parse(Ln(P(e))),Pn=e=>typeof e=="string"?P(e):e,mo=e=>e.startsWith("0x")?e.replace("0x",""):e,jt=BigInt(0),R=BigInt(1);function Nn(e,t=128){if(e<-(R<<BigInt(t)-R)||e>(R<<BigInt(t)-R)-R)throw`Integer out of range given ${t} bits to represent.`;return e>=jt?e:~(-e-R|~((R<<BigInt(t))-R))}function jn(e,t=128){return(e&R<<BigInt(t)-R)>jt&&(e=e-(R<<BigInt(t))),e}function vo(e,t=!1,n=8){return P(be(Qe(e,t),n))}function Qe(e,t=!1){if(typeof e=="number"){if(!Number.isInteger(e))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");return BigInt(e)}if(typeof e=="string")if(e.toLowerCase().startsWith("0x")){let n=e.slice(2);n=n.padStart(n.length+n.length%2,"0"),e=P(n)}else try{return BigInt(e)}catch(n){if(n instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${e}' is not finite.`)}if(typeof e=="bigint")return e;if(e instanceof Uint8Array)return t?jn(ht(L(e))):ht(L(e));if(On(e))return BigInt(e.toString());throw new TypeError(`Invalid value type. Must be a number, bigint, integer-string, hex-string, BN.js instance, or Buffer, got: ${typeof e}.`)}function Dn(e){return`[micro-stacks] ${e}`}var _n=class extends Error{constructor(t){super(t),this.message=Dn(t),this.name=this.constructor.name}},Rn=typeof window<"u",Kn=Rn?{referrer:"no-referrer",referrerPolicy:"no-referrer"}:{};async function Ao(e,t={}){return fetch(e,{...Kn,...t})}var Dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function zn(e){let t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");let n=e.indexOf("=");n===-1&&(n=t);let r=n===t?0:4-n%4;return[n,r]}function Fn(e,t,n){return(t+n)*3/4-n}function Vn(e,t){let{revLookup:n}=et(t),r,i=zn(e),o=i[0],s=i[1],c=new Uint8Array(Fn(e,o,s)),a=0,f=s>0?o-4:o,u;for(u=0;u<f;u+=4)r=n[e.charCodeAt(u)]<<18|n[e.charCodeAt(u+1)]<<12|n[e.charCodeAt(u+2)]<<6|n[e.charCodeAt(u+3)],c[a++]=r>>16&255,c[a++]=r>>8&255,c[a++]=r&255;return s===2&&(r=n[e.charCodeAt(u)]<<2|n[e.charCodeAt(u+1)]>>4,c[a++]=r&255),s===1&&(r=n[e.charCodeAt(u)]<<10|n[e.charCodeAt(u+1)]<<4|n[e.charCodeAt(u+2)]>>2,c[a++]=r>>8&255,c[a++]=r&255),c}function Wn(e){let t=e.length,n=t%4;if(!n)return e;let r=4-n,i=t+r;return e.padEnd(i,"=")}function pe(e){return Vn(Wn(e),Dt)}function Zn(e,t){let{lookup:n}=et(t);return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[e&63]}function Gn(e,t,n,r){let i,o=[];for(let s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),o.push(Zn(i,r));return o.join("")}var Re=new Map;function et(e){if(Re.has(e))return Re.get(e);let t=[],n=[];for(let r=0,i=e.length;r<i;++r)t[r]=e[r],n[e.charCodeAt(r)]=r;return n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63,Re.set(e,{lookup:t,revLookup:n}),{lookup:t,revLookup:n}}function _t(e,t){let{lookup:n}=et(t),r,i=e.length,o=i%3,s=[],c=16383;for(let a=0,f=i-o;a<f;a+=c)s.push(Gn(e,a,a+c>f?f:a+c,t));return o===1?(r=e[i-1],s.push(n[r>>2]+n[r<<4&63]+"==")):o===2&&(r=(e[i-2]<<8)+e[i-1],s.push(n[r>>10]+n[r>>4&63]+n[r<<2&63]+"=")),s.join("")}function Fe(e){return _t(e,Dt)}function Rt(e){return _t(e,Mn)}var dt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",yt=BigInt(58);function qn(e){if(e.length===0)return"";typeof e=="string"&&(typeof TextEncoder<"u"?e=new TextEncoder().encode(e):e=new Uint8Array(e.split("").map(r=>r.charCodeAt(0))));let t=BigInt("0x"+L(e)),n=[];for(;t>0;){let r=Number(t%yt);t=t/yt,n.push(dt[r])}for(let r=0;e[r]===0;r++)n.push(dt[0]);return n.reverse().join("")}function Kt(e){let t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}function Be(e,t,n,r,i){if(r||(r=0),!i&&i!==0&&(i=e.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r||t.length===0||e.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>e.length&&(i=e.length),t.length-n<i-r&&(i=t.length-n+r);let o=i-r;return e===t&&typeof Uint8Array.prototype.copyWithin=="function"?e.copyWithin(n,r,i):Uint8Array.prototype.set.call(t,e.subarray(r,i),n),o}var xe=class{_value=[];get value(){return this._value}appendHexString(e){this.value.push(P(e))}push(e){return this._value.push(e)}appendByte(e){if(!Number.isInteger(e)||e<0||e>255)throw new Error(`Value ${e} is not a valid byte`);this.value.push(Uint8Array.from([e]))}concatBuffer(){return z(this.value)}};function So(e,t,n){return t=+t,n=n>>>0,e[n]=t&255,n+1}function Bo(e,t,n){return t=+t,n=n>>>0,e[n]=t&255,e[n+1]=t>>>8,n+2}function To(e,t,n){return t=+t,n>>>=0,e[n+3]=t>>>24,e[n+2]=t>>>16,e[n+1]=t>>>8,e[n]=t&255,n+4}function Jn(e,t,n){return t=+t,n>>>=0,e[n]=t>>>24,e[n+1]=t>>>16,e[n+2]=t>>>8,e[n+3]=t&255,n+4}function pt(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function Xn(e,t){if(!pt(e,Uint8Array)||!pt(t,Uint8Array))throw new TypeError('The "buf1", "buf2" arguments must be one of type Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}var Yn=(e=>(e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet",e))(Yn||{}),Qn=(e=>(e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet",e))(Qn||{});/*! micro-base58 - MIT License (c) 2021, Paul Miller (https://paulmillr.com) */function Ve(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function er(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Mt(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function tr(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ve(e.outputLen),Ve(e.blockLen)}function nr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function rr(e,t){Mt(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const te={number:Ve,bool:er,bytes:Mt,hash:tr,exists:nr,output:rr},ir={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},or=Object.freeze(Object.defineProperty({__proto__:null,crypto:ir},Symbol.toStringTag,{value:"Module"}));/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ke=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),K=(e,t)=>e<<32-t|e>>>t,sr=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!sr)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function cr(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function tt(e){if(typeof e=="string"&&(e=cr(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class We{clone(){return this._cloneInto()}}function me(e){const t=r=>e().update(tt(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ar(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),c=Number(n&o),a=r?4:0,f=r?0:4;e.setUint32(t+a,s,r),e.setUint32(t+f,c,r)}class nt extends We{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ke(this.buffer)}update(t){te.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=tt(t);const o=t.length;for(let s=0;s<o;){const c=Math.min(i-this.pos,o-s);if(c===i){const a=Ke(t);for(;i<=o-s;s+=i)this.process(a,s);continue}r.set(t.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){te.exists(this),te.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let a=s;a<i;a++)n[a]=0;ar(r,i-8,BigInt(this.length*8),o),this.process(r,0);const c=Ke(t);this.get().forEach((a,f)=>c.setUint32(4*f,a,o))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:c}=this;return t.length=i,t.pos=c,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}}const fr=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),zt=Uint8Array.from({length:16},(e,t)=>t),ur=zt.map(e=>(9*e+5)%16);let rt=[zt],it=[ur];for(let e=0;e<4;e++)for(let t of[rt,it])t.push(t[e].map(n=>fr[n]));const Ft=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),lr=rt.map((e,t)=>e.map(n=>Ft[t][n])),hr=it.map((e,t)=>e.map(n=>Ft[t][n])),dr=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),yr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Te=(e,t)=>e<<t|e>>>32-t;function gt(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const Ue=new Uint32Array(16);class pr extends nt{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:i,h4:o}=this;return[t,n,r,i,o]}set(t,n,r,i,o){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=i|0,this.h4=o|0}process(t,n){for(let l=0;l<16;l++,n+=4)Ue[l]=t.getUint32(n,!0);let r=this.h0|0,i=r,o=this.h1|0,s=o,c=this.h2|0,a=c,f=this.h3|0,u=f,h=this.h4|0,d=h;for(let l=0;l<5;l++){const p=4-l,g=dr[l],m=yr[l],B=rt[l],T=it[l],x=lr[l],y=hr[l];for(let b=0;b<16;b++){const v=Te(r+gt(l,o,c,f)+Ue[B[b]]+g,x[b])+h|0;r=h,h=f,f=Te(c,10)|0,c=o,o=v}for(let b=0;b<16;b++){const v=Te(i+gt(p,s,a,u)+Ue[T[b]]+m,y[b])+d|0;i=d,d=u,u=Te(a,10)|0,a=s,s=v}}this.set(this.h1+c+u|0,this.h2+f+d|0,this.h3+h+i|0,this.h4+r+s|0,this.h0+o+a|0)}roundClean(){Ue.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const wt=me(()=>new pr),gr=(e,t,n)=>e&t^~e&n,wr=(e,t,n)=>e&t^e&n^t&n,br=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),W=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Z=new Uint32Array(64);class xr extends nt{constructor(){super(64,32,8,!1),this.A=W[0]|0,this.B=W[1]|0,this.C=W[2]|0,this.D=W[3]|0,this.E=W[4]|0,this.F=W[5]|0,this.G=W[6]|0,this.H=W[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:c,H:a}=this;return[t,n,r,i,o,s,c,a]}set(t,n,r,i,o,s,c,a){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=a|0}process(t,n){for(let h=0;h<16;h++,n+=4)Z[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const d=Z[h-15],l=Z[h-2],p=K(d,7)^K(d,18)^d>>>3,g=K(l,17)^K(l,19)^l>>>10;Z[h]=g+Z[h-7]+p+Z[h-16]|0}let{A:r,B:i,C:o,D:s,E:c,F:a,G:f,H:u}=this;for(let h=0;h<64;h++){const d=K(c,6)^K(c,11)^K(c,25),l=u+d+gr(c,a,f)+br[h]+Z[h]|0,g=(K(r,2)^K(r,13)^K(r,22))+wr(r,i,o)|0;u=f,f=a,a=c,c=s+l|0,s=o,o=i,i=r,r=l+g|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,a=a+this.F|0,f=f+this.G|0,u=u+this.H|0,this.set(r,i,o,s,c,a,f,u)}roundClean(){Z.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ot=me(()=>new xr),mr=Object.freeze(Object.defineProperty({__proto__:null,sha256:ot},Symbol.toStringTag,{value:"Module"})),Ce=BigInt(2**32-1),Ze=BigInt(32);function Vt(e,t=!1){return t?{h:Number(e&Ce),l:Number(e>>Ze&Ce)}:{h:Number(e>>Ze&Ce)|0,l:Number(e&Ce)|0}}function vr(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=Vt(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const Er=(e,t)=>BigInt(e>>>0)<<Ze|BigInt(t>>>0),Ar=(e,t,n)=>e>>>n,Sr=(e,t,n)=>e<<32-n|t>>>n,Br=(e,t,n)=>e>>>n|t<<32-n,Tr=(e,t,n)=>e<<32-n|t>>>n,Ur=(e,t,n)=>e<<64-n|t>>>n-32,Cr=(e,t,n)=>e>>>n-32|t<<64-n,$r=(e,t)=>t,Hr=(e,t)=>e,Ir=(e,t,n)=>e<<n|t>>>32-n,kr=(e,t,n)=>t<<n|e>>>32-n,Or=(e,t,n)=>t<<n-32|e>>>64-n,Lr=(e,t,n)=>e<<n-32|t>>>64-n;function Pr(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const Nr=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),jr=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Dr=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),_r=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,Rr=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Kr=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,E={fromBig:Vt,split:vr,toBig:Er,shrSH:Ar,shrSL:Sr,rotrSH:Br,rotrSL:Tr,rotrBH:Ur,rotrBL:Cr,rotr32H:$r,rotr32L:Hr,rotlSH:Ir,rotlSL:kr,rotlBH:Or,rotlBL:Lr,add:Pr,add3L:Nr,add3H:jr,add4L:Dr,add4H:_r,add5H:Kr,add5L:Rr},[Mr,zr]=E.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),G=new Uint32Array(80),q=new Uint32Array(80);class st extends nt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:c,Dl:a,Eh:f,El:u,Fh:h,Fl:d,Gh:l,Gl:p,Hh:g,Hl:m}=this;return[t,n,r,i,o,s,c,a,f,u,h,d,l,p,g,m]}set(t,n,r,i,o,s,c,a,f,u,h,d,l,p,g,m){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=a|0,this.Eh=f|0,this.El=u|0,this.Fh=h|0,this.Fl=d|0,this.Gh=l|0,this.Gl=p|0,this.Hh=g|0,this.Hl=m|0}process(t,n){for(let x=0;x<16;x++,n+=4)G[x]=t.getUint32(n),q[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const y=G[x-15]|0,b=q[x-15]|0,v=E.rotrSH(y,b,1)^E.rotrSH(y,b,8)^E.shrSH(y,b,7),A=E.rotrSL(y,b,1)^E.rotrSL(y,b,8)^E.shrSL(y,b,7),$=G[x-2]|0,O=q[x-2]|0,Ae=E.rotrSH($,O,19)^E.rotrBH($,O,61)^E.shrSH($,O,6),je=E.rotrSL($,O,19)^E.rotrBL($,O,61)^E.shrSL($,O,6),Se=E.add4L(A,je,q[x-7],q[x-16]),De=E.add4H(Se,v,Ae,G[x-7],G[x-16]);G[x]=De|0,q[x]=Se|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:c,Cl:a,Dh:f,Dl:u,Eh:h,El:d,Fh:l,Fl:p,Gh:g,Gl:m,Hh:B,Hl:T}=this;for(let x=0;x<80;x++){const y=E.rotrSH(h,d,14)^E.rotrSH(h,d,18)^E.rotrBH(h,d,41),b=E.rotrSL(h,d,14)^E.rotrSL(h,d,18)^E.rotrBL(h,d,41),v=h&l^~h&g,A=d&p^~d&m,$=E.add5L(T,b,A,zr[x],q[x]),O=E.add5H($,B,y,v,Mr[x],G[x]),Ae=$|0,je=E.rotrSH(r,i,28)^E.rotrBH(r,i,34)^E.rotrBH(r,i,39),Se=E.rotrSL(r,i,28)^E.rotrBL(r,i,34)^E.rotrBL(r,i,39),De=r&o^r&c^o&c,Un=i&s^i&a^s&a;B=g|0,T=m|0,g=l|0,m=p|0,l=h|0,p=d|0,{h,l:d}=E.add(f|0,u|0,O|0,Ae|0),f=c|0,u=a|0,c=o|0,a=s|0,o=r|0,s=i|0;const ut=E.add3L(Ae,Se,Un);r=E.add3H(ut,O,je,De),i=ut|0}({h:r,l:i}=E.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=E.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l:a}=E.add(this.Ch|0,this.Cl|0,c|0,a|0),{h:f,l:u}=E.add(this.Dh|0,this.Dl|0,f|0,u|0),{h,l:d}=E.add(this.Eh|0,this.El|0,h|0,d|0),{h:l,l:p}=E.add(this.Fh|0,this.Fl|0,l|0,p|0),{h:g,l:m}=E.add(this.Gh|0,this.Gl|0,g|0,m|0),{h:B,l:T}=E.add(this.Hh|0,this.Hl|0,B|0,T|0),this.set(r,i,o,s,c,a,f,u,h,d,l,p,g,m,B,T)}roundClean(){G.fill(0),q.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Fr extends st{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Vr extends st{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Wr=me(()=>new st);me(()=>new Fr);me(()=>new Vr);function D(e){return ot.create().update(ye(e)).digest()}function Zr(e){return Wr.create().update(ye(e)).digest()}const Gr=new Proxy({},{get(e,t){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${t}" in client code.`)}}),qr=Object.freeze(Object.defineProperty({__proto__:null,default:Gr},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const S=BigInt(0),H=BigInt(1),k=BigInt(2),he=BigInt(3),Jr=BigInt(8),Ge=k**BigInt(256),I={a:S,b:BigInt(7),P:Ge-k**BigInt(32)-BigInt(977),n:Ge-BigInt("432420386565659656852420866394968145599"),h:H,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};function bt(e){const{a:t,b:n}=I,r=w(e*e),i=w(r*e);return w(i+t*e+n)}const $e=I.a===S;class U{constructor(t,n,r){this.x=t,this.y=n,this.z=r}static fromAffine(t){if(!(t instanceof C))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new U(t.x,t.y,H)}static toAffineBatch(t){const n=ei(t.map(r=>r.z));return t.map((r,i)=>r.toAffine(n[i]))}static normalizeZ(t){return U.toAffineBatch(t).map(U.fromAffine)}equals(t){if(!(t instanceof U))throw new TypeError("JacobianPoint expected");const{x:n,y:r,z:i}=this,{x:o,y:s,z:c}=t,a=w(i**k),f=w(c**k),u=w(n*f),h=w(o*a),d=w(w(r*c)*f),l=w(w(s*i)*a);return u===h&&d===l}negate(){return new U(this.x,w(-this.y),this.z)}double(){const{x:t,y:n,z:r}=this,i=w(t**k),o=w(n**k),s=w(o**k),c=w(k*(w((t+o)**k)-i-s)),a=w(he*i),f=w(a**k),u=w(f-k*c),h=w(a*(c-u)-Jr*s),d=w(k*n*r);return new U(u,h,d)}add(t){if(!(t instanceof U))throw new TypeError("JacobianPoint expected");const{x:n,y:r,z:i}=this,{x:o,y:s,z:c}=t;if(o===S||s===S)return this;if(n===S||r===S)return t;const a=w(i**k),f=w(c**k),u=w(n*f),h=w(o*a),d=w(w(r*c)*f),l=w(w(s*i)*a),p=w(h-u),g=w(l-d);if(p===S)return g===S?this.double():U.ZERO;const m=w(p**k),B=w(p*m),T=w(u*m),x=w(g**k-B-k*T),y=w(g*(T-x)-d*B),b=w(i*c*p);return new U(x,y,b)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const n=U.ZERO;if(typeof t=="bigint"&&t===S)return n;let r=vt(t);if(r===H)return this;if(!$e){let h=n,d=this;for(;r>S;)r&H&&(h=h.add(d)),d=d.double(),r>>=H;return h}let{k1neg:i,k1:o,k2neg:s,k2:c}=At(r),a=n,f=n,u=this;for(;o>S||c>S;)o&H&&(a=a.add(u)),c&H&&(f=f.add(u)),u=u.double(),o>>=H,c>>=H;return i&&(a=a.negate()),s&&(f=f.negate()),f=new U(w(f.x*I.beta),f.y,f.z),a.add(f)}precomputeWindow(t){const n=$e?128/t+1:256/t+1,r=[];let i=this,o=i;for(let s=0;s<n;s++){o=i,r.push(o);for(let c=1;c<2**(t-1);c++)o=o.add(i),r.push(o);i=o.double()}return r}wNAF(t,n){!n&&this.equals(U.BASE)&&(n=C.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=n&&qe.get(n);i||(i=this.precomputeWindow(r),n&&r!==1&&(i=U.normalizeZ(i),qe.set(n,i)));let o=U.ZERO,s=U.ZERO;const c=1+($e?128/r:256/r),a=2**(r-1),f=BigInt(2**r-1),u=2**r,h=BigInt(r);for(let d=0;d<c;d++){const l=d*a;let p=Number(t&f);if(t>>=h,p>a&&(p-=u,t+=H),p===0){let g=i[l];d%2&&(g=g.negate()),s=s.add(g)}else{let g=i[l+Math.abs(p)-1];p<0&&(g=g.negate()),o=o.add(g)}}return{p:o,f:s}}multiply(t,n){let r=vt(t),i,o;if($e){const{k1neg:s,k1:c,k2neg:a,k2:f}=At(r);let{p:u,f:h}=this.wNAF(c,n),{p:d,f:l}=this.wNAF(f,n);s&&(u=u.negate()),a&&(d=d.negate()),d=new U(w(d.x*I.beta),d.y,d.z),i=u.add(d),o=h.add(l)}else{const{p:s,f:c}=this.wNAF(r,n);i=s,o=c}return U.normalizeZ([i,o])[0]}toAffine(t=fe(this.z)){const{x:n,y:r,z:i}=this,o=t,s=w(o*o),c=w(s*o),a=w(n*s),f=w(r*c);if(w(i*o)!==H)throw new Error("invZ was invalid");return new C(a,f)}}U.BASE=new U(I.Gx,I.Gy,H);U.ZERO=new U(S,H,S);const qe=new WeakMap;class C{constructor(t,n){this.x=t,this.y=n}_setWindowSize(t){this._WINDOW_SIZE=t,qe.delete(this)}static fromCompressedHex(t){const n=t.length===32,r=M(n?t:t.subarray(1));if(!ze(r))throw new Error("Point is not on curve");const i=bt(r);let o=Qr(i);const s=(o&H)===H;n?s&&(o=w(-o)):(t[0]&1)===1!==s&&(o=w(-o));const c=new C(r,o);return c.assertValidity(),c}static fromUncompressedHex(t){const n=M(t.subarray(1,33)),r=M(t.subarray(33,65)),i=new C(n,r);return i.assertValidity(),i}static fromHex(t){const n=re(t),r=n.length,i=n[0];if(r===32||r===33&&(i===2||i===3))return this.fromCompressedHex(n);if(r===65&&i===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return C.BASE.multiply(J(t))}static fromSignature(t,n,r){t=re(t);const i=Wt(t),{r:o,s}=Jt(n);if(r!==0&&r!==1)throw new Error("Cannot recover signature: invalid recovery bit");const c=r&1?"03":"02",a=C.fromHex(c+ne(o)),{n:f}=I,u=fe(o,f),h=w(-i*u,f),d=w(s*u,f),l=C.BASE.multiplyAndAddUnsafe(a,h,d);if(!l)throw new Error("Cannot recover signature: point at infinify");return l.assertValidity(),l}toRawBytes(t=!1){return ee(this.toHex(t))}toHex(t=!1){const n=ne(this.x);return t?`${this.y&H?"03":"02"}${n}`:`04${n}${ne(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:n,y:r}=this;if(!ze(n)||!ze(r))throw new Error(t);const i=w(r*r),o=bt(n);if(w(i-o)!==S)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new C(this.x,w(-this.y))}double(){return U.fromAffine(this).double().toAffine()}add(t){return U.fromAffine(this).add(U.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return U.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,n,r){const i=U.fromAffine(this),o=n===S||n===H||this!==C.BASE?i.multiplyUnsafe(n):i.multiply(n),s=U.fromAffine(t).multiplyUnsafe(r),c=o.add(s);return c.equals(U.ZERO)?void 0:c.toAffine()}}C.BASE=new C(I.Gx,I.Gy);C.ZERO=new C(S,S);function xt(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function mt(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${se(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:M(n),left:e.subarray(t+2)}}function Xr(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${se(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=mt(e.subarray(2)),{data:r,left:i}=mt(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${se(i)}`);return{r:t,s:r}}class Q{constructor(t,n){this.r=t,this.s=n,this.assertValidity()}static fromCompact(t){const n=ge(t),r="Signature.fromCompact";if(typeof t!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const i=n?se(t):t;if(i.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new Q(ke(i.slice(0,64)),ke(i.slice(64,128)))}static fromDER(t){const n=ge(t);if(typeof t!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:i}=Xr(n?t:ee(t));return new Q(r,i)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:n}=this;if(!we(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!we(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=I.n>>H;return this.s>t}normalizeS(){return this.hasHighS()?new Q(this.r,I.n-this.s):this}toDERRawBytes(t=!1){return ee(this.toDERHex(t))}toDERHex(t=!1){const n=xt(ue(this.s));if(t)return n;const r=xt(ue(this.r)),i=ue(r.length/2),o=ue(n.length/2);return`30${ue(r.length/2+n.length/2+4)}02${i}${r}02${o}${n}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return ee(this.toCompactHex())}toCompactHex(){return ne(this.r)+ne(this.s)}}function le(...e){if(!e.every(ge))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,i)=>r+i.length,0),n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}function ge(e){return e instanceof Uint8Array}const Yr=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function se(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=Yr[e[n]];return t}function ne(e){if(e>Ge)throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function Me(e){return ee(ne(e))}function ue(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function ke(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function ee(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function M(e){return ke(se(e))}function re(e){return e instanceof Uint8Array?Uint8Array.from(e):ee(e)}function vt(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&we(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function w(e,t=I.P){const n=e%t;return n>=S?n:t+n}function _(e,t){const{P:n}=I;let r=e;for(;t-- >S;)r*=r,r%=n;return r}function Qr(e){const{P:t}=I,n=BigInt(6),r=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),a=e*e*e%t,f=a*a*e%t,u=_(f,he)*f%t,h=_(u,he)*f%t,d=_(h,k)*a%t,l=_(d,r)*d%t,p=_(l,i)*l%t,g=_(p,s)*p%t,m=_(g,c)*g%t,B=_(m,s)*p%t,T=_(B,he)*f%t,x=_(T,o)*l%t,y=_(x,n)*a%t;return _(y,k)}function fe(e,t=I.P){if(e===S||t<=S)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=w(e,t),r=t,i=S,o=H;for(;n!==S;){const c=r/n,a=r%n,f=i-o*c;r=n,n=a,i=o,o=f}if(r!==H)throw new Error("invert: does not exist");return w(i,t)}function ei(e,t=I.P){const n=new Array(e.length),r=e.reduce((o,s,c)=>s===S?o:(n[c]=o,w(o*s,t)),H),i=fe(r,t);return e.reduceRight((o,s,c)=>s===S?o:(n[c]=w(o*n[c],t),w(o*s,t)),i),n}const Et=(e,t)=>(e+t/k)/t,He=k**BigInt(128);function At(e){const{n:t}=I,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-H*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=Et(o*e,t),c=Et(-r*e,t);let a=w(e-s*n-c*i,t),f=w(-s*r-c*o,t);const u=a>He,h=f>He;if(u&&(a=t-a),h&&(f=t-f),a>He||f>He)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:u,k1:a,k2neg:h,k2:f}}function Wt(e){const{n:t}=I,r=e.length*8-256;let i=M(e);return r>0&&(i=i>>BigInt(r)),i>=t&&(i-=t),i}class Zt{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...t){return Y.hmacSha256(this.k,...t)}hmacSync(...t){throw new Error("utils.hmacSha256Sync is undefined, you need to set it")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}}function we(e){return S<e&&e<I.n}function ze(e){return S<e&&e<I.P}function Gt(e,t,n){const r=M(e);if(!we(r))return;const{n:i}=I,o=C.BASE.multiply(r),s=w(o.x,i);if(s===S)return;const c=w(fe(r,i)*w(t+n*s,i),i);if(c===S)return;const a=new Q(s,c),f=(o.x===a.r?0:2)|Number(o.y&H);return{sig:a,recovery:f}}function J(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==64)throw new Error("Expected 32 bytes of private key");t=ke(e)}else if(ge(e)){if(e.length!==32)throw new Error("Expected 32 bytes of private key");t=M(e)}else throw new TypeError("Expected valid private key");if(!we(t))throw new Error("Expected private key: 0 < key < n");return t}function qt(e){return e instanceof C?(e.assertValidity(),e):C.fromHex(e)}function Jt(e){if(e instanceof Q)return e.assertValidity(),e;try{return Q.fromDER(e)}catch{return Q.fromCompact(e)}}function Ne(e,t=!1){return C.fromPrivateKey(e).toRawBytes(t)}function Uo(e,t,n,r=!1){return C.fromSignature(e,t,n).toRawBytes(r)}function St(e){const t=ge(e),n=typeof e=="string",r=(t||n)&&e.length;return t?r===33||r===65:n?r===66||r===130:e instanceof C}function Xt(e,t,n=!1){if(St(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!St(t))throw new TypeError("getSharedSecret: second arg must be public key");const r=qt(t);return r.assertValidity(),r.multiply(J(e)).toRawBytes(n)}function Yt(e){const t=e.length>32?e.slice(0,32):e;return M(t)}function ti(e){const t=Yt(e),n=w(t,I.n);return Qt(n<S?t:n)}function Qt(e){if(typeof e!="bigint")throw new Error("Expected bigint");const t=ne(e);return ee(t)}function en(e,t,n){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);const r=re(e),i=J(t),o=[Qt(i),ti(r)];if(n!=null){n===!0&&(n=Y.randomBytes(32));const a=re(n);if(a.length!==32)throw new Error("sign: Expected 32 bytes of extra data");o.push(a)}const s=le(...o),c=Yt(r);return{seed:s,m:c,d:i}}function tn(e,t){let{sig:n,recovery:r}=e;const{canonical:i,der:o,recovered:s}=Object.assign({canonical:!0,der:!0},t);i&&n.hasHighS()&&(n=n.normalizeS(),r^=1);const c=o?n.toDERRawBytes():n.toCompactRawBytes();return s?[c,r]:c}async function nn(e,t,n={}){const{seed:r,m:i,d:o}=en(e,t,n.extraEntropy);let s;const c=new Zt;for(await c.reseed(r);!(s=Gt(await c.generate(),i,o));)await c.reseed();return tn(s,n)}function ni(e,t,n={}){const{seed:r,m:i,d:o}=en(e,t,n.extraEntropy);let s;const c=new Zt;for(c.reseedSync(r);!(s=Gt(c.generateSync(),i,o));)c.reseedSync();return tn(s,n)}const ri={strict:!0};function Je(e,t,n,r=ri){let i;try{i=Jt(e),t=re(t)}catch{return!1}const{r:o,s}=i;if(r.strict&&i.hasHighS())return!1;const c=Wt(t);let a;try{a=qt(n)}catch{return!1}const{n:f}=I,u=fe(s,f),h=w(c*u,f),d=w(o*u,f),l=C.BASE.multiplyAndAddUnsafe(a,h,d);return l?w(l.x,f)===o:!1}C.BASE._setWindowSize(8);const N={node:qr,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Bt={},Y={isValidPrivateKey(e){try{return J(e),!0}catch{return!1}},privateAdd:(e,t)=>{const n=J(e),r=J(t);return Me(w(n+r,I.n))},privateNegate:e=>{const t=J(e);return Me(I.n-t)},pointAddScalar:(e,t,n)=>{const r=C.fromHex(e),i=J(t),o=C.BASE.multiplyAndAddUnsafe(r,i,H);if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(n)},pointMultiply:(e,t,n)=>{const r=C.fromHex(e),i=M(re(t));return r.multiply(i).toRawBytes(n)},hashToPrivateKey:e=>{if(e=re(e),e.length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const t=w(M(e),I.n-H)+H;return Me(t)},randomBytes:(e=32)=>{if(N.web)return N.web.getRandomValues(new Uint8Array(e));if(N.node){const{randomBytes:t}=N.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Y.hashToPrivateKey(Y.randomBytes(40)),bytesToHex:se,hexToBytes:ee,concatBytes:le,mod:w,invert:fe,sha256:async(...e)=>{if(N.web){const t=await N.web.subtle.digest("SHA-256",le(...e));return new Uint8Array(t)}else if(N.node){const{createHash:t}=N.node,n=t("sha256");return e.forEach(r=>n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(N.web){const n=await N.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=le(...t),i=await N.web.subtle.sign("HMAC",n,r);return new Uint8Array(i)}else if(N.node){const{createHmac:n}=N.node,r=n("sha256",e);return t.forEach(i=>r.update(i)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let n=Bt[e];if(n===void 0){const r=await Y.sha256(Uint8Array.from(e,i=>i.charCodeAt(0)));n=le(r,r),Bt[e]=n}return Y.sha256(n,...t)},taggedHashSync:(e,...t)=>{throw new Error("utils.sha256Sync is undefined, you need to set it")},precompute(e=8,t=C.BASE){const n=t===C.BASE?t:new C(t.x,t.y);return n._setWindowSize(e),n.multiply(he),n}};var ii=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),oi=class{webCrypto;constructor(t){this.webCrypto=t}async encrypt(t,n,r,i){let o,s;if(t==="aes-128-cbc")o="AES-CBC",s=128;else if(t==="aes-256-cbc")o="AES-CBC",s=256;else throw new Error(`Unsupported cipher algorithm "${t}"`);let c=await this.webCrypto.subtle.importKey("raw",n,{name:o,length:s},!1,["encrypt"]),a=await this.webCrypto.subtle.encrypt({name:o,iv:r},c,i);return new Uint8Array(a)}async decrypt(t,n,r,i){let o,s;if(t==="aes-128-cbc")o="AES-CBC",s=128;else if(t==="aes-256-cbc")o="AES-CBC",s=256;else throw new Error(`Unsupported cipher algorithm "${t}"`);let c=await this.webCrypto.subtle.importKey("raw",n,{name:o,length:s},!1,["decrypt"]),a=await this.webCrypto.subtle.decrypt({name:o,iv:r},c,i);return new Uint8Array(a)}},si=class{createCipher;createDecipher;constructor(e,t){this.createCipher=e,this.createDecipher=t}async encrypt(e,t,n,r){if(e!=="aes-128-cbc"&&e!=="aes-256-cbc")throw new Error(`Unsupported cipher algorithm "${e}"`);let i=this.createCipher(e,t,n),o=z([i.update(r),i.final()]);return Promise.resolve(o)}async decrypt(e,t,n,r){if(e!=="aes-128-cbc"&&e!=="aes-256-cbc")throw new Error(`Unsupported cipher algorithm "${e}"`);let i=this.createDecipher(e,t,n),o=z([i.update(r),i.final()]);return Promise.resolve(o)}};function ci(){return typeof crypto<"u"&&typeof crypto.subtle<"u"}var ai='Crypto lib not found. Either the WebCrypto "crypto.subtle" or Node.js "crypto" module must be available.';async function fi(){if(ci())return{lib:crypto,name:"webCrypto"};try{return{lib:ii("crypto"),name:"nodeCrypto"}}catch{throw new Error(ai)}}async function rn(){let e=await fi();return e.name==="webCrypto"?new oi(e.lib):new si(e.lib.createCipheriv,e.lib.createDecipheriv)}async function ui(e,t,n){return(await rn()).encrypt("aes-256-cbc",t,e,n)}async function li(e,t,n){return(await rn()).decrypt("aes-256-cbc",t,e,n)}class on extends We{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,te.hash(t);const r=tt(n);if(this.iHash=t.create(),!(this.iHash instanceof We))throw new TypeError("Expected instance of class which extends utils.Hash");const i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const o=new Uint8Array(i);o.set(r.length>this.iHash.blockLen?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return te.exists(this),this.iHash.update(t),this}digestInto(t){te.exists(this),te.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sn=(e,t,n)=>new on(e,t).update(n).digest();sn.create=(e,t)=>new on(e,t);function cn(e,...t){let n=sn.create(ot,ye(e));for(let r of t)n.update(ye(r));return Uint8Array.from(n.digest())}function hi(e){return(Math.floor(e/16)+1)*16}function di(e){return Math.ceil(e/3)*4}function yi(e){let t={iv:"",ephemeralPK:"",mac:"",cipherText:"",wasString:!!e.wasString};e.cipherTextEncoding==="base64"&&(t.cipherTextEncoding="base64");let n=32,r=66,i=64;return{payloadValuesLength:n+r+i,payloadShell:JSON.stringify(t)}}function pi(e){let t={signature:"",publicKey:"",cipherText:e};return{signedPayloadValuesLength:144+66,signedPayloadShell:JSON.stringify(t)}}function $o(e){let{payloadShell:t,payloadValuesLength:n}=yi(e),r=hi(e.contentLength),i;if(!e.cipherTextEncoding||e.cipherTextEncoding==="hex")i=r*2;else if(e.cipherTextEncoding==="base64")i=di(r);else throw new Error(`Unexpected cipherTextEncoding "${e.cipherTextEncoding}"`);if(e.sign){let{signedPayloadShell:o,signedPayloadValuesLength:s}=pi(t);return o.length+s+n+i}else return t.length+n+i}function gi(e){return typeof e=="string"?wt(e):wt.create().update(ye(e)).digest()}var wi=class{digest(e){return gi(e)}};function bi(){return new wi}function ct(e){return bi().digest(e)}function an(e){let t=Zr(e);return{encryptionKey:t.slice(0,32),hmacKey:t.slice(32)}}function xi(e=32){return Y.randomBytes(e)}function fn(e,t){let n=new Uint8Array([t]),r=new Uint8Array(25),i=new Uint8Array(21);i[0]=t,i.set(e,1);let o=D(i),s=D(o).slice(0,4);return r.set(n,0),r.set(e,1),r.set(s,e.length+1),qn(r)}var mi={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},vi={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},un={bitcoin:mi,testnet:vi},Ei=(e=>(e[e.mainnetP2PKH=22]="mainnetP2PKH",e[e.mainnetP2SH=20]="mainnetP2SH",e[e.testnetP2PKH=26]="testnetP2PKH",e[e.testnetP2SH=21]="testnetP2SH",e))(Ei||{}),ce="0123456789ABCDEFGHJKMNPQRSTVWXYZ",at=new Map;[...ce].forEach((e,t)=>at.set(e,t));var Ie="0123456789abcdef",Xe=new Map;[...Ie].forEach((e,t)=>Xe.set(e,t));function ln(e,t){let n=hn(e,t),r=Ai(z([t,n]));return`S${ce[e]}${r}`}function Ai(e){let t=L(e),n=[],r=0;for(let c=t.length-1;c>=0;c--)if(r<4){let a=Xe.get(t[c])>>r,f=0;c!==0&&(f=Xe.get(t[c-1]));let u=1+r,h=f%(1<<u)<<5-u,d=ce[a+h];r=u,n.unshift(d)}else r=0;let i=0;for(let c=0;c<n.length&&n[c]==="0";c++)i++;n=n.slice(i);let o=/^\u0000*/.exec(new TextDecoder().decode(e)),s=o?o[0].length:0;for(let c=0;c<s;c++)n.unshift(ce[0]);return n.join("")}function hn(e,t){let n=D(z([Uint8Array.of(e),t]));return D(n).slice(0,4)}function Si(e){if(e.length<=5)throw new Error("Invalid c32 address: invalid length");if(e[0]!=="S")throw new Error('Invalid c32 address: must start with "S"');return Bi(e.slice(1))}function Bi(e){e=dn(e);let t=Ti(e.slice(1)),n=e[0],r=at.get(n),i=t.slice(-4),o=hn(r,t.slice(0,-4));for(let s=0;s<i.length;s++)if(i[s]!==o[s])throw new Error("Invalid c32check string: checksum mismatch");return[r,t.slice(0,-4)]}function dn(e){return e.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}function Ti(e){if(e=dn(e),!RegExp(`^[${ce}]*$`).exec(e))throw new Error("Not a c32-encoded string");let t=RegExp(`^${ce[0]}*`).exec(e),n=t?t[0].length:0,r=[],i=0,o=0;for(let a=e.length-1;a>=0;a--){o===4&&(r.unshift(Ie[i]),o=0,i=0);let f=(at.get(e[a])<<o)+i,u=Ie[f%16];if(o+=1,i=f>>4,i>1<<o)throw new Error("Panic error in decoding.");r.unshift(u)}r.unshift(Ie[i]),r.length%2===1&&r.unshift("0");let s=0;for(let a=0;a<r.length&&r[a]==="0";a++)s++;r=r.slice(s-s%2);let c=r.join("");for(let a=0;a<n;a++)c=`00${c}`;return P(c)}function Ho(e){try{return Si(e),!0}catch{return!1}}function Io(e,t=22){return ln(t,Ui(Pn(e)))}function ko(e){let t=Ne(e,!0),n=D(t),r=ct(n);return fn(r,un.bitcoin.pubKeyHash)}function Oo(e){let t=typeof e=="string"?e:L(e),n=D(P(t)),r=ct(n);return fn(r,un.bitcoin.pubKeyHash)}function Ui(e){let t=D(e);return ct(t)}async function Ci(e){let{contents:t,privateKey:n}=e,r=t instanceof ArrayBuffer?Pt(t):typeof t=="string"?j(t):t,i=L(Ne(n,!0)),o=D(r),s=await nn(o,n,{canonical:!1});return{signature:L(s),publicKey:i}}function Lo(e,t=!1){let{contents:n,publicKey:r,signature:i}=e,o=n instanceof ArrayBuffer?Pt(n):typeof n=="string"?j(n):n,s=D(o);return Je(i,s,r,{strict:t})}async function $i(e){let{publicKey:t,content:n,cipherTextEncoding:r="hex",wasString:i}=e,o=Y.randomPrivateKey(),s=Ne(o,!0),c=Xt(o,t,!0);c=c.slice(1);let a=an(c),f=xi(16),u=await ui(f,a.encryptionKey,n),h=z([f,s,u]),d=cn(a.hmacKey,h),l;if(!r||r==="hex")l=L(u);else if(r==="base64")l=Fe(u);else throw new Error(`Unexpected cipherTextEncoding "${r}"`);let p={iv:L(f),ephemeralPK:L(s),cipherText:l,mac:L(d),wasString:i};return r&&r!=="hex"&&(p.cipherTextEncoding=r),p}function Hi(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}async function Ii(e){let{privateKey:t,cipherObject:n}=e;if(!n.ephemeralPK)throw Error("No ephemeralPK found in cipher object");let r=n.ephemeralPK,i=Xt(t,r,!0);i=i.slice(1);let o=an(i),s=P(n.iv),c;if(!n.cipherTextEncoding||n.cipherTextEncoding==="hex")c=P(n.cipherText);else if(n.cipherTextEncoding==="base64")c=pe(n.cipherText);else throw new Error(`Unexpected cipherTextEncoding "${n.cipherText}"`);let a=z([s,P(r),c]),f=cn(o.hmacKey,a),u=P(n.mac);if(!Hi(u,f))throw new Error("Decryption failed: failure in MAC check");let h=await li(s,o.encryptionKey,c);return n.wasString?new TextDecoder().decode(h):h}function Po(e,t){if(!t.privateKey)throw new Error("Private key is required for decryption.");try{let n=JSON.parse(e);return Ii({privateKey:t.privateKey,cipherObject:n})}catch(n){throw n instanceof SyntaxError?new Error("Failed to parse encrypted content JSON. The content may not be encrypted. If using getFile, try passing { decrypt: false }."):n}}async function No(e,t){let{publicKey:n,privateKey:r,wasString:i}=t,{cipherTextEncoding:o,sign:s}=t;if(!r&&!n)throw new Error("Either public key or private key must be supplied for encryption.");if(!n&&r&&(n=L(Ne(r,!0))),typeof i!="boolean"&&(i=typeof e=="string"),!n)throw new Error("micro-stacks/crypto - no public key found to encrypt content");let c=typeof e=="string"?j(e):e,a=await $i({publicKey:n,content:c,wasString:i,cipherTextEncoding:o});if(!s)return JSON.stringify(a);if(typeof s=="string"&&(r=s),!r)throw new Error("micro-stacks/crypto - need private key to sign contents");let f=await Ci({contents:JSON.stringify(a),privateKey:r});return JSON.stringify({...f,cipherText:JSON.stringify(a)})}function ki(e){let t=e.length,n=t%4;if(!n)return e;let r=4-n,i=t+r;return e.padEnd(i,"=")}function Oi(e){return e instanceof Uint8Array?Tt(Fe(e)):Tt(Fe(new TextEncoder().encode(e)))}function Li(e){let t=pe(Pi(e));return new TextDecoder().decode(t)}function Pi(e){let t;return e instanceof Uint8Array?t=new TextDecoder().decode(e):t=e,ki(t).replace(/\-/g,"+").replace(/_/g,"/")}function Tt(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var V={encode:Oi,decode:Li},Oe=128,yn=0,Ni=32,ji=16,Di=2,pn=ji|Ni|yn<<6,Le=Di|yn<<6;function gn(e){return typeof e=="string"?pe(e):e}function Ut(e){let t=gn(e),n=32,r=n+1,i=t.length,o=0;if(t[o++]!==pn)throw new Error('Could not find expected "seq"');let s=t[o++];if(s===(Oe|1)&&(s=t[o++]),i-o<s)throw new Error('"seq" specified length of "'+s+'", only "'+(i-o)+'" remaining');if(t[o++]!==Le)throw new Error('Could not find expected "int" for "r"');let c=t[o++];if(i-o-2<c)throw new Error('"r" specified length of "'+c+'", only "'+(i-o-2)+'" available');if(r<c)throw new Error('"r" specified length of "'+c+'", max of "'+r+'" is acceptable');let a=o;if(o+=c,t[o++]!==Le)throw new Error('Could not find expected "int" for "s"');let f=t[o++];if(i-o!==f)throw new Error('"s" specified length of "'+f+'", expected "'+(i-o)+'"');if(r<f)throw new Error('"s" specified length of "'+f+'", max of "'+r+'" is acceptable');let u=o;if(o+=f,o!==i)throw new Error('Expected to consume entire buffer, but "'+(i-o)+'" bytes remain');let h=n-c,d=n-f,l=new Uint8Array(h+c+d+f);for(o=0;o<h;++o)l[o]=0;l.set(t.slice(a+Math.max(-h,0),a+c),o),o=n;for(let p=o;o<p+d;++o)l[o]=0;return l.set(t.slice(u+Math.max(-d,0),u+f),o),Rt(l).replace(/=/g,"")}function Ct(e,t,n){let r=0;for(;t+r<n&&e[t+r]===0;)++r;return e[t+r]>=Oe&&--r,r}function $t(e){let t=gn(e),n=32,r=Ct(t,0,n),i=Ct(t,n,t.length),o=n-r,s=n-i,c=1+1+o+1+1+s,a=c<Oe,f=new Uint8Array((a?2:3)+c),u=0;return f[u++]=pn,a?f[u++]=c:(f[u++]=Oe|1,f[u++]=c&255),f[u++]=Le,f[u++]=o,r<0?(f[u++]=0,u+=Be(t,f,u,0,n)):u+=Be(t,f,u,r,n),f[u++]=Le,f[u++]=s,i<0?(f[u++]=0,Be(t,f,u,n)):Be(t,f,u,n+i),Rt(f).replace(/=/g,"")}function Ye(e,t){let n=[],r=V.encode(JSON.stringify(t));n.push(r);let i=V.encode(JSON.stringify(e));return n.push(i),n.join(".")}var jo=class{tokenType;rawPrivateKey;constructor(e="ES256K",t){if(!t)throw new _n("TokenSigner: rawPrivateKey is required to sign a token");this.tokenType="JWT",this.rawPrivateKey=t}header(e={}){return{typ:this.tokenType,alg:"ES256K",...e}}async sign(e,t=!1,n={}){let r=this.header(n),i=Ye(e,r),o=D(j(i));return this.createWithSignedHash(e,t,r,i,o)}signSync(e,t=!1,n={}){let r=this.header(n),i=Ye(e,r),o=D(j(i));return this.createWithSignedHashSync(e,t,r,i,o)}async createWithSignedHash(e,t,n,r,i){let o=await nn(i,this.rawPrivateKey,{canonical:!1}),s=Ut(o);return t?{header:[V.encode(JSON.stringify(n))],payload:JSON.stringify(e),signature:[s]}:[r,s].join(".")}createWithSignedHashSync(e,t,n,r,i){let o=ni(i,this.rawPrivateKey,{canonical:!1}),s=Ut(o);return t?{header:[V.encode(JSON.stringify(n))],payload:JSON.stringify(e),signature:[s]}:[r,s].join(".")}},Do=class{tokenType;rawPublicKey;constructor(e,t){this.tokenType="JWT",this.rawPublicKey=t}verify(e,t=!1){return typeof e=="string"?this.verifyCompact(e,t):typeof e=="object"?this.verifyExpanded(e,t):!1}verifyCompact(e,t){let n=e.split("."),r=n[0]+"."+n[1],i=s=>{let c=n[2],a=$t(c);return Je(L(pe(a)),L(s),this.rawPublicKey,{strict:t})},o=D(j(r));return i(o)}verifyExpanded(e,t){let n=[e.header.join("."),V.encode(e.payload)].join("."),r=!0,i=s=>(e.signature.map(c=>{let a=$t(c);Je(L(pe(a)),L(s),this.rawPublicKey,{strict:t})||(r=!1)}),r),o=D(j(n));return i(o)}};function _o(e){if(typeof e=="string"){let t=e.split("."),n=JSON.parse(V.decode(t[0])),r=JSON.parse(V.decode(t[1])),i=t[2];return{header:n,payload:r,signature:i}}else if(typeof e=="object"){if(typeof e.payload!="string")throw new Error("Expected token payload to be a base64 or json string");let t=e.payload;e.payload[0]!=="{"&&(t=V.decode(t));let n=[];return e.header.map(r=>{let i=JSON.parse(V.decode(r));n.push(i)}),{header:n,payload:JSON.parse(t),signature:e.signature}}}function Ro(e){return Ye(e,{typ:"JWT",alg:"none"})+"."}var Ht=BigInt("0xffffffffffffffffffffffffffffffff"),_i=BigInt(0);BigInt("0x7fffffffffffffffffffffffffffffff");BigInt("-170141183460469231731687303715884105728");var Ri=(e=>(e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract",e))(Ri||{}),Ki=(e=>(e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8",e))(Ki||{}),Ko=e=>{let t=Qe(e);if(t<_i)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>Ht)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${Ht.toString()}`);return{type:1,value:t}};function Mi(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}var zi=(e=>(e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.TransactionAuthField=10]="TransactionAuthField",e))(zi||{});function It(e){return ln(e.version,P(e.hash160))}var Fi=(e,t)=>e?j(e).length>t:!1;function Vi(e,t,n){let r=t||1,i=n||128;if(Fi(e,i))throw new Error(`String length exceeds maximum bytes ${i.toString()}`);return{type:2,content:e,lengthPrefixBytes:r,maxLengthBytes:i}}function wn(e){let t=new xe;return t.appendHexString(be(e.version,1)),t.appendHexString(e.hash160),t.concatBuffer()}function bn(e){let t=new xe,n=j(e.content),r=n.byteLength;return t.appendHexString(be(r,e.lengthPrefixBytes)),t.push(n),t.concatBuffer()}function Wi(e){if(e.type===5)return It(e.address);if(e.type===6)return`${It(e.address)}.${e.contractName.content}`;throw new Error(`Unexpected principal data: ${JSON.stringify(e)}`)}var Mo=e=>({type:13,data:e});function zo(e){for(let t in e)if(!Mi(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:12,data:e}}var Zi=(e=>(e[e.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",e[e.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",e[e.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",e[e.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",e[e.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",e[e.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",e[e.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",e[e.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",e[e.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",e[e.ClarityAbiTypeList=10]="ClarityAbiTypeList",e[e.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",e[e.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",e[e.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference",e))(Zi||{});function X(e){switch(e.type){case 3:case 4:return"bool";case 0:return"int";case 1:return"uint";case 2:return`(buff ${e.buffer.length})`;case 9:return"(optional none)";case 10:return`(optional ${X(e.value)})`;case 8:return`(response UnknownType ${X(e.value)})`;case 7:return`(response ${X(e.value)} UnknownType)`;case 5:case 6:return"principal";case 11:return`(list ${e.list.length} ${e.list.length?X(e.list[0]):"UnknownType"})`;case 12:return`(tuple ${Object.keys(e.data).map(t=>`(${t} ${X(e.data[t])})`).join(" ")})`;case 13:return`(string-ascii ${Kt(e.data).length})`;case 14:return`(string-utf8 ${j(e.data).length})`}}function oe(e){let t=Gi(e,!0);switch(e.type){case 8:return{type:X(e),value:t,success:!1};case 7:return{type:X(e),value:t,success:!0};default:return{type:X(e),value:t}}}function Gi(e,t=!1){switch(e.type){case 3:return!0;case 4:return!1;case 0:case 1:return t?e.value.toString():e.value;case 2:return`0x${L(e.buffer)}`;case 9:return null;case 10:return oe(e.value);case 8:return oe(e.value);case 7:return oe(e.value);case 5:case 6:return Wi(e);case 11:return e.list.map(r=>oe(r));case 12:let n={};return Object.keys(e.data).map(r=>[r,oe(e.data[r])]).forEach(([r,i])=>{n[r]=i}),n;case 13:return e.data;case 14:return e.data}}function F(e,t){let n=new xe,r=Uint8Array.from([e]);return n.push(r),n.push(t),n.concatBuffer()}function qi(e){return Uint8Array.from([e.type])}function Ji(e){return e.type===9?new Uint8Array([e.type]):F(e.type,ve(e.value))}function Xi(e){let t=new Uint8Array(4);return new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(t.byteOffset,e.buffer.length),F(e.type,z([t,Uint8Array.from(e.buffer)]))}function Yi(e){let t=be(Nn(e.value),16),n=P(t);return F(e.type,n)}function Qi(e){let t=be(e.value,16),n=P(t);return F(e.type,n)}function eo(e){return F(e.type,wn(e.address))}function to(e){return F(e.type,z([wn(e.address),bn(e.contractName)]))}function no(e){return F(e.type,ve(e.value))}function ro(e){let t=new xe,n=new Uint8Array(4);Jn(n,e.list.length,0),t.push(n);for(let r of e.list){let i=ve(r);t.push(i)}return F(e.type,t.concatBuffer())}function io(e){let t=[],n=new Uint8Array(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(n.byteOffset,Object.keys(e.data).length),t.push(n);let r=Object.keys(e.data).sort((i,o)=>{let s=j(i),c=j(o);return Xn(s,c)});for(let i of r){let o=Vi(i);t.push(bn(o));let s=ve(e.data[i]);t.push(s)}return F(e.type,z(t))}function xn(e,t){let n=new xe,r=(t==="ascii"?Kt:j)(e.data),i=new Uint8Array(4);return new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(i.byteOffset,r.length),n.push(i),n.push(r),F(e.type,n.concatBuffer())}function oo(e){return xn(e,"ascii")}function so(e){return xn(e,"utf8")}function ve(e){switch(e.type){case 3:case 4:return qi(e);case 9:case 10:return Ji(e);case 2:return Xi(e);case 0:return Yi(e);case 1:return Qi(e);case 5:return eo(e);case 6:return to(e);case 7:case 8:return no(e);case 11:return ro(e);case 12:return io(e);case 13:return oo(e);case 14:return so(e);default:throw new Error("Unable to serialize. Invalid Clarity Value.")}}function Fo(e){return`0x${L(ve(e))}`}var Vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mn(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var vn={},ft={},Ee={};const co=mn(or);(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=co,n=y=>new Uint8Array(y.buffer,y.byteOffset,y.byteLength);e.u8=n;const r=y=>new Uint32Array(y.buffer,y.byteOffset,Math.floor(y.byteLength/4));e.u32=r;const i=y=>new DataView(y.buffer,y.byteOffset,y.byteLength);e.createView=i;const o=(y,b)=>y<<32-b|y>>>b;if(e.rotr=o,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const s=Array.from({length:256},(y,b)=>b.toString(16).padStart(2,"0"));function c(y){if(!(y instanceof Uint8Array))throw new Error("Uint8Array expected");let b="";for(let v=0;v<y.length;v++)b+=s[y[v]];return b}e.bytesToHex=c;function a(y){if(typeof y!="string")throw new TypeError("hexToBytes: expected string, got "+typeof y);if(y.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const b=new Uint8Array(y.length/2);for(let v=0;v<b.length;v++){const A=v*2,$=y.slice(A,A+2),O=Number.parseInt($,16);if(Number.isNaN(O)||O<0)throw new Error("Invalid byte sequence");b[v]=O}return b}e.hexToBytes=a;const f=async()=>{};e.nextTick=f;async function u(y,b,v){let A=Date.now();for(let $=0;$<y;$++){v($);const O=Date.now()-A;O>=0&&O<b||(await(0,e.nextTick)(),A+=O)}}e.asyncLoop=u;function h(y){if(typeof y!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof y}`);return new TextEncoder().encode(y)}e.utf8ToBytes=h;function d(y){if(typeof y=="string"&&(y=h(y)),!(y instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof y})`);return y}e.toBytes=d;function l(...y){if(!y.every(A=>A instanceof Uint8Array))throw new Error("Uint8Array list expected");if(y.length===1)return y[0];const b=y.reduce((A,$)=>A+$.length,0),v=new Uint8Array(b);for(let A=0,$=0;A<y.length;A++){const O=y[A];v.set(O,$),$+=O.length}return v}e.concatBytes=l;class p{clone(){return this._cloneInto()}}e.Hash=p;const g=y=>Object.prototype.toString.call(y)==="[object Object]"&&y.constructor===Object;function m(y,b){if(b!==void 0&&(typeof b!="object"||!g(b)))throw new TypeError("Options should be object or undefined");return Object.assign(y,b)}e.checkOpts=m;function B(y){const b=A=>y().update(d(A)).digest(),v=y();return b.outputLen=v.outputLen,b.blockLen=v.blockLen,b.create=()=>y(),b}e.wrapConstructor=B;function T(y){const b=(A,$)=>y($).update(d(A)).digest(),v=y({});return b.outputLen=v.outputLen,b.blockLen=v.blockLen,b.create=A=>y(A),b}e.wrapConstructorWithOpts=T;function x(y=32){if(t.crypto.web)return t.crypto.web.getRandomValues(new Uint8Array(y));if(t.crypto.node)return new Uint8Array(t.crypto.node.randomBytes(y).buffer);throw new Error("The environment doesn't have randomBytes function")}e.randomBytes=x})(Ee);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.c32decode=e.c32normalize=e.c32encode=e.c32=void 0;const t=Ee;e.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";const n="0123456789abcdef";function r(s,c){if(!s.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");s.length%2!==0&&(s=`0${s}`),s=s.toLowerCase();let a=[],f=0;for(let l=s.length-1;l>=0;l--)if(f<4){const p=n.indexOf(s[l])>>f;let g=0;l!==0&&(g=n.indexOf(s[l-1]));const m=1+f,B=g%(1<<m)<<5-m,T=e.c32[p+B];f=m,a.unshift(T)}else f=0;let u=0;for(let l=0;l<a.length&&a[l]==="0";l++)u++;a=a.slice(u);const h=new TextDecoder().decode((0,t.hexToBytes)(s)).match(/^\u0000*/),d=h?h[0].length:0;for(let l=0;l<d;l++)a.unshift(e.c32[0]);if(c){const l=c-a.length;for(let p=0;p<l;p++)a.unshift(e.c32[0])}return a.join("")}e.c32encode=r;function i(s){return s.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}e.c32normalize=i;function o(s,c){if(s=i(s),!s.match(`^[${e.c32}]*$`))throw new Error("Not a c32-encoded string");const a=s.match(`^${e.c32[0]}*`),f=a?a[0].length:0;let u=[],h=0,d=0;for(let g=s.length-1;g>=0;g--){d===4&&(u.unshift(n[h]),d=0,h=0);const B=(e.c32.indexOf(s[g])<<d)+h,T=n[B%16];if(d+=1,h=B>>4,h>1<<d)throw new Error("Panic error in decoding.");u.unshift(T)}u.unshift(n[h]),u.length%2===1&&u.unshift("0");let l=0;for(let g=0;g<u.length&&u[g]==="0";g++)l++;u=u.slice(l-l%2);let p=u.join("");for(let g=0;g<f;g++)p=`00${p}`;if(c){const g=c*2-p.length;for(let m=0;m<g;m+=2)p=`00${p}`}return p}e.c32decode=o})(ft);var ie={};const En=mn(mr);Object.defineProperty(ie,"__esModule",{value:!0});ie.c32checkDecode=ie.c32checkEncode=void 0;const kt=En,Ot=Ee,de=ft;function An(e){const t=(0,kt.sha256)((0,kt.sha256)((0,Ot.hexToBytes)(e)));return(0,Ot.bytesToHex)(t.slice(0,4))}function ao(e,t){if(e<0||e>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");t=t.toLowerCase(),t.length%2!==0&&(t=`0${t}`);let n=e.toString(16);n.length===1&&(n=`0${n}`);const r=An(`${n}${t}`),i=(0,de.c32encode)(`${t}${r}`);return`${de.c32[e]}${i}`}ie.c32checkEncode=ao;function fo(e){e=(0,de.c32normalize)(e);const t=(0,de.c32decode)(e.slice(1)),n=e[0],r=de.c32.indexOf(n),i=t.slice(-8);let o=r.toString(16);if(o.length===1&&(o=`0${o}`),An(`${o}${t.substring(0,t.length-8)}`)!==i)throw new Error("Invalid c32check string: checksum mismatch");return[r,t.substring(0,t.length-8)]}ie.c32checkDecode=fo;var Sn={},ae={};function uo(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,c=e.charAt(0),a=Math.log(s)/Math.log(256),f=Math.log(256)/Math.log(s);function u(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var p=0,g=0,m=0,B=l.length;m!==B&&l[m]===0;)m++,p++;for(var T=(B-m)*f+1>>>0,x=new Uint8Array(T);m!==B;){for(var y=l[m],b=0,v=T-1;(y!==0||b<g)&&v!==-1;v--,b++)y+=256*x[v]>>>0,x[v]=y%s>>>0,y=y/s>>>0;if(y!==0)throw new Error("Non-zero carry");g=b,m++}for(var A=T-g;A!==T&&x[A]===0;)A++;for(var $=c.repeat(p);A<T;++A)$+=e.charAt(x[A]);return $}function h(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;for(var p=0,g=0,m=0;l[p]===c;)g++,p++;for(var B=(l.length-p)*a+1>>>0,T=new Uint8Array(B);l[p];){var x=t[l.charCodeAt(p)];if(x===255)return;for(var y=0,b=B-1;(x!==0||y<m)&&b!==-1;b--,y++)x+=s*T[b]>>>0,T[b]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");m=y,p++}for(var v=B-m;v!==B&&T[v]===0;)v++;for(var A=new Uint8Array(g+(B-v)),$=g;v!==B;)A[$++]=T[v++];return A}function d(l){var p=h(l);if(p)return p;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:h,decode:d}}var lo=uo;Object.defineProperty(ae,"__esModule",{value:!0});ae.decode=ae.encode=void 0;const Pe=En,Lt=Ee,Bn=lo,Tn="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function ho(e,t="00"){const n=typeof e=="string"?(0,Lt.hexToBytes)(e):e,r=typeof t=="string"?(0,Lt.hexToBytes)(t):e;if(!(n instanceof Uint8Array)||!(r instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");const i=(0,Pe.sha256)((0,Pe.sha256)(new Uint8Array([...r,...n])));return Bn(Tn).encode([...r,...n,...i.slice(0,4)])}ae.encode=ho;function yo(e){const t=Bn(Tn).decode(e),n=t.slice(0,1),r=t.slice(1,-4),i=(0,Pe.sha256)((0,Pe.sha256)(new Uint8Array([...n,...r])));return t.slice(-4).forEach((o,s)=>{if(o!==i[s])throw new Error("Invalid checksum")}),{prefix:n,data:r}}ae.decode=yo;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.c32ToB58=e.b58ToC32=e.c32addressDecode=e.c32address=e.versions=void 0;const t=ie,n=ae,r=Ee;e.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};const i={};i[0]=e.versions.mainnet.p2pkh,i[5]=e.versions.mainnet.p2sh,i[111]=e.versions.testnet.p2pkh,i[196]=e.versions.testnet.p2sh;const o={};o[e.versions.mainnet.p2pkh]=0,o[e.versions.mainnet.p2sh]=5,o[e.versions.testnet.p2pkh]=111,o[e.versions.testnet.p2sh]=196;function s(u,h){if(!h.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,t.c32checkEncode)(u,h)}`}e.c32address=s;function c(u){if(u.length<=5)throw new Error("Invalid c32 address: invalid length");if(u[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,t.c32checkDecode)(u.slice(1))}e.c32addressDecode=c;function a(u,h=-1){const d=n.decode(u),l=(0,r.bytesToHex)(d.data),p=parseInt((0,r.bytesToHex)(d.prefix),16);let g;return h<0?(g=p,i[p]!==void 0&&(g=i[p])):g=h,s(g,l)}e.b58ToC32=a;function f(u,h=-1){const d=c(u),l=d[0],p=d[1];let g;h<0?(g=l,o[l]!==void 0&&(g=o[l])):g=h;let m=g.toString(16);return m.length===1&&(m=`0${m}`),n.encode(p,m)}e.c32ToB58=f})(Sn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.b58ToC32=e.c32ToB58=e.versions=e.c32normalize=e.c32addressDecode=e.c32address=e.c32checkDecode=e.c32checkEncode=e.c32decode=e.c32encode=void 0;const t=ft;Object.defineProperty(e,"c32encode",{enumerable:!0,get:function(){return t.c32encode}}),Object.defineProperty(e,"c32decode",{enumerable:!0,get:function(){return t.c32decode}}),Object.defineProperty(e,"c32normalize",{enumerable:!0,get:function(){return t.c32normalize}});const n=ie;Object.defineProperty(e,"c32checkEncode",{enumerable:!0,get:function(){return n.c32checkEncode}}),Object.defineProperty(e,"c32checkDecode",{enumerable:!0,get:function(){return n.c32checkDecode}});const r=Sn;Object.defineProperty(e,"c32address",{enumerable:!0,get:function(){return r.c32address}}),Object.defineProperty(e,"c32addressDecode",{enumerable:!0,get:function(){return r.c32addressDecode}}),Object.defineProperty(e,"c32ToB58",{enumerable:!0,get:function(){return r.c32ToB58}}),Object.defineProperty(e,"b58ToC32",{enumerable:!0,get:function(){return r.b58ToC32}}),Object.defineProperty(e,"versions",{enumerable:!0,get:function(){return r.versions}})})(vn);function Wo(e){if(!e)throw new Error("Needs a stacks address");return vn.c32addressDecode(e)}async function Zo(e){const t=e==="mainnet"?"SP000000000000000000002Q6VF78.pox":"ST000000000000000000002AMW42H.pox",n={contractAddress:t.split(".")[0],contractName:t.split(".")[1],functionName:"get-pox-info",functionArgs:[],network:e},r=await po(n);return console.log("pox: ",r),e==="testnet"?"tb1qasu5x7dllnejmx0dtd5j42quk4q03dl56caqss":"bc1q0pcvvu8ewfqw3p270cwxtsd5pe7us3s8kznftnrhs74w4nfl4rtqjt6hp6"}async function po(e){const n=(e.network==="mainnet","https://stacks-node-api.mainnet.stacks.co")+"/v2/contracts/call-read/"+e.contractAddress+"/"+e.contractName+"/"+e.functionName,i=await(await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({arguments:e.functionArgs,sender:e.contractAddress})})).json();return oe(i)}export{bn as $,Ro as A,Io as B,Je as C,ko as D,xo as E,$o as F,Ci as G,Ao as H,No as I,Po as J,Ko as K,Pt as L,Oo as M,j as N,Lo as O,Do as P,ln as Q,vo as R,Q as S,P as T,mo as U,Fo as V,Ho as W,Ei as X,mn as Y,qr as Z,wn as _,xi as a,Vo as a0,Wo as a1,Ee as b,Qn as c,Ne as d,Ii as e,Zo as f,Ri as g,bo as h,D as i,z as j,ht as k,jo as l,ve as m,zo as n,Mo as o,L as p,xe as q,Uo as r,wo as s,ye as t,Yn as u,So as v,_o as w,Bo as x,To as y,Si as z};
