var Ui=Object.defineProperty;var Ri=(wt,et,Ct)=>et in wt?Ui(wt,et,{enumerable:!0,configurable:!0,writable:!0,value:Ct}):wt[et]=Ct;var u=(wt,et,Ct)=>(Ri(wt,typeof et!="symbol"?et+"":et,Ct),Ct);import{_ as Di}from"../../chunks/preload-helper-41c905a7.js";import{S as de,i as he,s as re,k as m,a as $,q as x,l as v,m as w,h as y,c as T,r as N,n as i,C as ae,b as ne,D as l,E as Dr,F as Fr,u as Fi,G as Rt,H as Ki,I as Kr,J as Li,p as Lr,w as Ye,x as Qe,y as ts,f as yt,t as _t,z as es,K as Mi,L as zi,B as Bi,e as Mr,d as zr,M as Vi,o as Hi,A as qi,g as Br,N as ji,O as Gi,P as Wi,Q as Ji}from"../../chunks/index-936b3cba.js";import{s as ie,f as Vr,c as pe,u as Yt,H as Dt,m as Xi,R as Zi,_ as Hr,g as Yi,$ as ss,q as rs,h as Ft,U as as,V as ns,p as tt,a as qr,b as is,d as Qt,w as os,E as Qi,e as to,i as eo,j as so,r as ro,S as ao,k as cs,l as ls,A as no,n as io,o as jr,K as oo,t as co,v as fe,x as lo,y as us,z as ge,B as ds,C as uo,D as Gr,F as ho,G as Wr,I as Jr,J as hs,L as po,M as ps,N as fo,O as Xr,P as go,Q as fs,T as gs,X as ms,W as Zr}from"../../chunks/sbtc-c71ab281.js";let Yr,mo=(async()=>{const wt=""+new URL("../../assets/logo-white-68f65e57.jpeg",import.meta.url).href;function et(t){let e,s,r,a,n,o,c,d,p,g,f,E,b,S,h=t[0].network+"",k,A,I,_,U,M,z,O,C,j,K,R;return{c(){e=m("nav"),s=m("div"),r=m("a"),a=m("img"),o=$(),c=m("button"),d=m("span"),p=$(),g=m("div"),f=m("ul"),E=m("li"),b=m("span"),S=x("Network: "),k=x(h),A=$(),I=m("ul"),_=m("li"),U=m("a"),M=x("Testnet"),z=$(),O=m("li"),C=m("a"),j=x("Mainnet"),this.h()},l(B){e=v(B,"NAV",{class:!0});var q=w(e);s=v(q,"DIV",{class:!0});var F=w(s);r=v(F,"A",{class:!0,href:!0});var L=w(r);a=v(L,"IMG",{class:!0,src:!0,alt:!0}),L.forEach(y),o=T(F),c=v(F,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0,"aria-expanded":!0,"aria-label":!0});var nt=w(c);d=v(nt,"SPAN",{class:!0}),w(d).forEach(y),nt.forEach(y),p=T(F),g=v(F,"DIV",{class:!0,id:!0});var it=w(g);f=v(it,"UL",{class:!0});var P=w(f);E=v(P,"LI",{class:!0});var V=w(E);b=v(V,"SPAN",{class:!0,id:!0,role:!0,"data-bs-toggle":!0,"aria-expanded":!0});var Q=w(b);S=N(Q,"Network: "),k=N(Q,h),Q.forEach(y),A=T(V),I=v(V,"UL",{class:!0,"aria-labelledby":!0});var Y=w(I);_=v(Y,"LI",{});var G=w(_);U=v(G,"A",{class:!0,href:!0});var W=w(U);M=N(W,"Testnet"),W.forEach(y),G.forEach(y),z=T(Y),O=v(Y,"LI",{});var Lt=w(O);C=v(Lt,"A",{class:!0,href:!0});var Mt=w(C);j=N(Mt,"Mainnet"),Mt.forEach(y),Lt.forEach(y),Y.forEach(y),V.forEach(y),P.forEach(y),it.forEach(y),F.forEach(y),q.forEach(y),this.h()},h(){i(a,"class","nav-logo"),ae(a.src,n=wt)||i(a,"src",n),i(a,"alt","CityCoins Test"),i(r,"class","navbar-brand"),i(r,"href","/"),i(d,"class","navbar-toggler-icon"),i(c,"class","navbar-toggler"),i(c,"type","button"),i(c,"data-bs-toggle","collapse"),i(c,"data-bs-target","#navbarNav"),i(c,"aria-controls","navbarNav"),i(c,"aria-expanded","false"),i(c,"aria-label","Toggle navigation"),i(b,"class","nav-link dropdown-toggle text-white"),i(b,"id","navbarDropdown"),i(b,"role","button"),i(b,"data-bs-toggle","dropdown"),i(b,"aria-expanded","false"),i(U,"class","dropdown-item"),i(U,"href","/"),i(C,"class","dropdown-item"),i(C,"href","/"),i(I,"class","dropdown-menu dropdown-menu-start"),i(I,"aria-labelledby","navbarDropdown"),i(E,"class","nav-item dropdown"),i(f,"class","navbar-nav"),i(g,"class","collapse navbar-collapse"),i(g,"id","navbarNav"),i(s,"class","container-fluid mx-5"),i(e,"class","navbar navbar-expand-md transparent")},m(B,q){ne(B,e,q),l(e,s),l(s,r),l(r,a),l(s,o),l(s,c),l(c,d),l(s,p),l(s,g),l(g,f),l(f,E),l(E,b),l(b,S),l(b,k),l(E,A),l(E,I),l(I,_),l(_,U),l(U,M),l(I,z),l(I,O),l(O,C),l(C,j),K||(R=[Dr(U,"click",Fr(t[2])),Dr(C,"click",Fr(t[3]))],K=!0)},p(B,[q]){q&1&&h!==(h=B[0].network+"")&&Fi(k,h)},i:Rt,o:Rt,d(B){B&&y(e),K=!1,Ki(R)}}}function Ct(t,e,s){let r;Kr(t,ie,o=>s(0,r=o));const a=Li(),n=async o=>{if(o===r.network)return;const c=await Vr(o);let d={network:o,sbtcWalletAddress:c};ie.update(()=>d),a("network_change",{})};return[r,n,()=>n("testnet"),()=>n("mainnet")]}class Qr extends de{constructor(e){super(),he(this,e,Ct,et,re,{})}}const ta=""+new URL("../../assets/stx_eco_discord-5cc61295.png",import.meta.url).href,ea=""+new URL("../../assets/stx_eco_twitter-b58c754c.png",import.meta.url).href,sa=""+new URL("../../assets/stx_eco_github-0e15c254.png",import.meta.url).href;function ra(t){let e,s,r,a,n,o,c,d,p,g,f,E,b,S,h,k,A,I,_,U,M,z,O,C,j,K,R,B,q,F,L,nt,it,P,V,Q,Y,G,W,Lt,Mt,zt,ot,_e,Ce,Bt,ct,Oe,Pe,J,Vt,Ue,Re,Ht,lt,De,Fe,qt,ut,Ke,Le,jt,dt,Me,ze,X,Gt,Be,Ve,Wt,ht,He,qe,Jt,pt,je,Ge,Xt,ft,We,Je,Zt,bt,St,gt,kt,Gs,Xe,mt,It,Ws,Ze,Ut,vt,Et,Js;return{c(){e=m("div"),s=m("div"),r=m("p"),a=x("Standards"),n=$(),o=m("div"),c=m("a"),d=x("SIP Process"),p=$(),g=m("div"),f=m("a"),E=x("SIP Requests"),b=$(),S=m("div"),h=m("a"),k=x("SIP News"),A=$(),I=m("div"),_=m("p"),U=x("Code"),M=$(),z=m("div"),O=m("a"),C=x("Clarity Lab"),j=$(),K=m("div"),R=m("a"),B=x("Raise Issues"),q=$(),F=m("div"),L=m("a"),nt=x("Ecosystem DAO"),it=$(),P=m("div"),V=m("p"),Q=x("Videos"),Y=$(),G=m("div"),W=m("a"),Lt=x("Stacks"),Mt=$(),zt=m("div"),ot=m("a"),_e=x("Clarity"),Ce=$(),Bt=m("div"),ct=m("a"),Oe=x("PoX"),Pe=$(),J=m("div"),Vt=m("p"),Ue=x("Contact"),Re=$(),Ht=m("div"),lt=m("a"),De=x("Discord"),Fe=$(),qt=m("div"),ut=m("a"),Ke=x("Enquiries"),Le=$(),jt=m("div"),dt=m("a"),Me=x("Twitter"),ze=$(),X=m("div"),Gt=m("p"),Be=x("Partners"),Ve=$(),Wt=m("div"),ht=m("a"),He=x("Foundation"),qe=$(),Jt=m("div"),pt=m("a"),je=x("Hiro Wallet"),Ge=$(),Xt=m("div"),ft=m("a"),We=x("Trust Machines"),Je=$(),Zt=m("div"),bt=m("div"),St=m("div"),gt=m("a"),kt=m("img"),Xe=$(),mt=m("a"),It=m("img"),Ze=$(),Ut=m("div"),vt=m("a"),Et=m("img"),this.h()},l(se){e=v(se,"DIV",{class:!0});var H=w(e);s=v(H,"DIV",{class:!0});var At=w(s);r=v(At,"P",{class:!0});var Xs=w(r);a=N(Xs,"Standards"),Xs.forEach(y),n=T(At),o=v(At,"DIV",{class:!0});var Zs=w(o);c=v(Zs,"A",{href:!0,target:!0,rel:!0,class:!0});var Ys=w(c);d=N(Ys,"SIP Process"),Ys.forEach(y),Zs.forEach(y),p=T(At),g=v(At,"DIV",{class:!0});var Qs=w(g);f=v(Qs,"A",{href:!0,target:!0,rel:!0,class:!0});var tr=w(f);E=N(tr,"SIP Requests"),tr.forEach(y),Qs.forEach(y),b=T(At),S=v(At,"DIV",{class:!0});var er=w(S);h=v(er,"A",{href:!0,target:!0,rel:!0,class:!0});var sr=w(h);k=N(sr,"SIP News"),sr.forEach(y),er.forEach(y),At.forEach(y),A=T(H),I=v(H,"DIV",{class:!0});var $t=w(I);_=v($t,"P",{class:!0});var rr=w(_);U=N(rr,"Code"),rr.forEach(y),M=T($t),z=v($t,"DIV",{class:!0});var ar=w(z);O=v(ar,"A",{href:!0,target:!0,rel:!0,class:!0});var nr=w(O);C=N(nr,"Clarity Lab"),nr.forEach(y),ar.forEach(y),j=T($t),K=v($t,"DIV",{class:!0});var ir=w(K);R=v(ir,"A",{href:!0,target:!0,rel:!0,class:!0});var or=w(R);B=N(or,"Raise Issues"),or.forEach(y),ir.forEach(y),q=T($t),F=v($t,"DIV",{class:!0});var cr=w(F);L=v(cr,"A",{href:!0,target:!0,rel:!0,class:!0});var lr=w(L);nt=N(lr,"Ecosystem DAO"),lr.forEach(y),cr.forEach(y),$t.forEach(y),it=T(H),P=v(H,"DIV",{class:!0});var Tt=w(P);V=v(Tt,"P",{class:!0});var ur=w(V);Q=N(ur,"Videos"),ur.forEach(y),Y=T(Tt),G=v(Tt,"DIV",{class:!0});var dr=w(G);W=v(dr,"A",{target:!0,href:!0,rel:!0,class:!0});var hr=w(W);Lt=N(hr,"Stacks"),hr.forEach(y),dr.forEach(y),Mt=T(Tt),zt=v(Tt,"DIV",{class:!0});var pr=w(zt);ot=v(pr,"A",{target:!0,href:!0,rel:!0,class:!0});var fr=w(ot);_e=N(fr,"Clarity"),fr.forEach(y),pr.forEach(y),Ce=T(Tt),Bt=v(Tt,"DIV",{class:!0});var gr=w(Bt);ct=v(gr,"A",{target:!0,href:!0,rel:!0,class:!0});var mr=w(ct);Oe=N(mr,"PoX"),mr.forEach(y),gr.forEach(y),Tt.forEach(y),Pe=T(H),J=v(H,"DIV",{class:!0});var xt=w(J);Vt=v(xt,"P",{class:!0});var vr=w(Vt);Ue=N(vr,"Contact"),vr.forEach(y),Re=T(xt),Ht=v(xt,"DIV",{class:!0});var yr=w(Ht);lt=v(yr,"A",{href:!0,target:!0,rel:!0,class:!0});var wr=w(lt);De=N(wr,"Discord"),wr.forEach(y),yr.forEach(y),Fe=T(xt),qt=v(xt,"DIV",{class:!0});var br=w(qt);ut=v(br,"A",{href:!0,target:!0,rel:!0,class:!0});var Sr=w(ut);Ke=N(Sr,"Enquiries"),Sr.forEach(y),br.forEach(y),Le=T(xt),jt=v(xt,"DIV",{class:!0});var kr=w(jt);dt=v(kr,"A",{href:!0,target:!0,rel:!0,class:!0});var Ir=w(dt);Me=N(Ir,"Twitter"),Ir.forEach(y),kr.forEach(y),xt.forEach(y),ze=T(H),X=v(H,"DIV",{class:!0});var Nt=w(X);Gt=v(Nt,"P",{class:!0});var Er=w(Gt);Be=N(Er,"Partners"),Er.forEach(y),Ve=T(Nt),Wt=v(Nt,"DIV",{class:!0});var Ar=w(Wt);ht=v(Ar,"A",{class:!0,href:!0,target:!0,rel:!0});var $r=w(ht);He=N($r,"Foundation"),$r.forEach(y),Ar.forEach(y),qe=T(Nt),Jt=v(Nt,"DIV",{class:!0});var Tr=w(Jt);pt=v(Tr,"A",{class:!0,href:!0,target:!0,rel:!0});var xr=w(pt);je=N(xr,"Hiro Wallet"),xr.forEach(y),Tr.forEach(y),Ge=T(Nt),Xt=v(Nt,"DIV",{class:!0});var Nr=w(Xt);ft=v(Nr,"A",{class:!0,href:!0,target:!0,rel:!0});var _r=w(ft);We=N(_r,"Trust Machines"),_r.forEach(y),Nr.forEach(y),Nt.forEach(y),Je=T(H),Zt=v(H,"DIV",{class:!0});var Cr=w(Zt);bt=v(Cr,"DIV",{class:!0});var le=w(bt);St=v(le,"DIV",{class:!0});var ue=w(St);gt=v(ue,"A",{class:!0,href:!0,target:!0,rel:!0});var Or=w(gt);kt=v(Or,"IMG",{src:!0,alt:!0,width:!0,height:!0}),Or.forEach(y),Xe=T(ue),mt=v(ue,"A",{class:!0,href:!0,target:!0,rel:!0});var Pr=w(mt);It=v(Pr,"IMG",{src:!0,alt:!0,width:!0,height:!0}),Pr.forEach(y),ue.forEach(y),Ze=T(le),Ut=v(le,"DIV",{style:!0});var Ur=w(Ut);vt=v(Ur,"A",{class:!0,href:!0,target:!0,rel:!0});var Rr=w(vt);Et=v(Rr,"IMG",{src:!0,alt:!0,width:!0,height:!0}),Rr.forEach(y),Ur.forEach(y),le.forEach(y),Cr.forEach(y),H.forEach(y),this.h()},h(){i(r,"class","svelte-mmff7o"),i(c,"href","https://github.com/stacksgov/sips/blob/main/sips/sip-000/sip-000-stacks-improvement-proposal-process.md"),i(c,"target","_blank"),i(c,"rel","noreferrer"),i(c,"class","svelte-mmff7o"),i(o,"class","demo-div"),i(f,"href","https://github.com/stacksgov/sips/pulls"),i(f,"target","_blank"),i(f,"rel","noreferrer"),i(f,"class","svelte-mmff7o"),i(g,"class","demo-div"),i(h,"href","https://discord.com/channels/621759717756370964/1001471092302544936"),i(h,"target","_blank"),i(h,"rel","noreferrer"),i(h,"class","svelte-mmff7o"),i(S,"class","demo-div"),i(s,"class","col-md-2 col-sm-6 hideme"),i(_,"class","svelte-mmff7o"),i(O,"href","https://github.com/Clarity-Innovation-Lab"),i(O,"target","_blank"),i(O,"rel","noreferrer"),i(O,"class","svelte-mmff7o"),i(z,"class","demo-div"),i(R,"href","https://github.com/Clarity-Innovation-Lab/ecosystem-dao/issues"),i(R,"target","_blank"),i(R,"rel","noreferrer"),i(R,"class","svelte-mmff7o"),i(K,"class","demo-div"),i(L,"href","https://github.com/Clarity-Innovation-Lab/ecosystem-dao"),i(L,"target","_blank"),i(L,"rel","noreferrer"),i(L,"class","svelte-mmff7o"),i(F,"class","demo-div"),i(I,"class","col-md-2 col-sm-6 hideme"),i(V,"class","svelte-mmff7o"),i(W,"target","_blank"),i(W,"href","https://www.youtube.com/watch?v=fbq6L3PrKWE"),i(W,"rel","noreferrer"),i(W,"class","svelte-mmff7o"),i(G,"class","demo-div"),i(ot,"target","_blank"),i(ot,"href","https://www.youtube.com/watch?v=OAVwd6SNJVU&t=717s"),i(ot,"rel","noreferrer"),i(ot,"class","svelte-mmff7o"),i(zt,"class","demo-div"),i(ct,"target","_blank"),i(ct,"href","https://www.youtube.com/watch?v=NG081fD-PoI"),i(ct,"rel","noreferrer"),i(ct,"class","svelte-mmff7o"),i(Bt,"class","demo-div"),i(P,"class","col-md-2 col-sm-6 hideme"),i(Vt,"class","svelte-mmff7o"),i(lt,"href","https://discord.com/channels/621759717756370964/971037457661444156"),i(lt,"target","_blank"),i(lt,"rel","noreferrer"),i(lt,"class","svelte-mmff7o"),i(Ht,"class","demo-div"),i(ut,"href","mailto:mike@claritylab.dev"),i(ut,"target","_blank"),i(ut,"rel","noreferrer"),i(ut,"class","svelte-mmff7o"),i(qt,"class","demo-div"),i(dt,"href","https://mobile.twitter.com/radicleart"),i(dt,"target","_blank"),i(dt,"rel","noreferrer"),i(dt,"class","svelte-mmff7o"),i(jt,"class","demo-div"),i(J,"class","col-md-2 col-sm-6 hideme"),i(Gt,"class","svelte-mmff7o"),i(ht,"class"," svelte-mmff7o"),i(ht,"href",na),i(ht,"target","_blank"),i(ht,"rel","noreferrer"),i(Wt,"class","demo-div"),i(pt,"class"," svelte-mmff7o"),i(pt,"href",aa),i(pt,"target","_blank"),i(pt,"rel","noreferrer"),i(Jt,"class","demo-div"),i(ft,"class"," svelte-mmff7o"),i(ft,"href","https://www.trustmachines.co/"),i(ft,"target","_blank"),i(ft,"rel","noreferrer"),i(Xt,"class","demo-div"),i(X,"class","col-md-2 col-sm-6 hideme"),ae(kt.src,Gs=ta)||i(kt,"src",Gs),i(kt,"alt","discord ecosystem dao logo"),i(kt,"width","39"),i(kt,"height","auto"),i(gt,"class","mx-0 svelte-mmff7o"),i(gt,"href","https://discord.com/channels/621759717756370964/971037457661444156"),i(gt,"target","_blank"),i(gt,"rel","noreferrer"),ae(It.src,Ws=ea)||i(It,"src",Ws),i(It,"alt","twitter ecosystem dao logo"),i(It,"width","39"),i(It,"height","auto"),i(mt,"class","mx-0 svelte-mmff7o"),i(mt,"href","https://mobile.twitter.com/radicleart"),i(mt,"target","_blank"),i(mt,"rel","noreferrer"),i(St,"class","mb-0"),ae(Et.src,Js=sa)||i(Et,"src",Js),i(Et,"alt","github ecosystem dao logo"),i(Et,"width","39"),i(Et,"height","auto"),i(vt,"class"," svelte-mmff7o"),i(vt,"href","https://github.com/Clarity-Innovation-Lab/ecosystem-dao"),i(vt,"target","_blank"),i(vt,"rel","noreferrer"),Lr(Ut,"position","relative"),Lr(Ut,"left","2px"),i(bt,"class","text-center"),i(Zt,"class","col-md-2 col-sm-12 "),i(e,"class","row")},m(se,H){ne(se,e,H),l(e,s),l(s,r),l(r,a),l(s,n),l(s,o),l(o,c),l(c,d),l(s,p),l(s,g),l(g,f),l(f,E),l(s,b),l(s,S),l(S,h),l(h,k),l(e,A),l(e,I),l(I,_),l(_,U),l(I,M),l(I,z),l(z,O),l(O,C),l(I,j),l(I,K),l(K,R),l(R,B),l(I,q),l(I,F),l(F,L),l(L,nt),l(e,it),l(e,P),l(P,V),l(V,Q),l(P,Y),l(P,G),l(G,W),l(W,Lt),l(P,Mt),l(P,zt),l(zt,ot),l(ot,_e),l(P,Ce),l(P,Bt),l(Bt,ct),l(ct,Oe),l(e,Pe),l(e,J),l(J,Vt),l(Vt,Ue),l(J,Re),l(J,Ht),l(Ht,lt),l(lt,De),l(J,Fe),l(J,qt),l(qt,ut),l(ut,Ke),l(J,Le),l(J,jt),l(jt,dt),l(dt,Me),l(e,ze),l(e,X),l(X,Gt),l(Gt,Be),l(X,Ve),l(X,Wt),l(Wt,ht),l(ht,He),l(X,qe),l(X,Jt),l(Jt,pt),l(pt,je),l(X,Ge),l(X,Xt),l(Xt,ft),l(ft,We),l(e,Je),l(e,Zt),l(Zt,bt),l(bt,St),l(St,gt),l(gt,kt),l(St,Xe),l(St,mt),l(mt,It),l(bt,Ze),l(bt,Ut),l(Ut,vt),l(vt,Et)},p:Rt,i:Rt,o:Rt,d(se){se&&y(e)}}}let aa="https://www.hiro.so/wallet/install-web",na="https://stacks.org";class ia extends de{constructor(e){super(),he(this,e,null,ra,re,{})}}function oa(t){let e,s,r,a,n,o,c,d,p,g,f,E,b,S,h,k,A,I,_,U,M,z,O;return b=new ia({}),{c(){e=m("div"),s=m("div"),r=m("div"),a=m("div"),n=m("div"),o=m("a"),c=m("img"),p=$(),g=m("div"),f=m("div"),E=m("div"),Ye(b.$$.fragment),S=$(),h=m("div"),k=m("div"),A=m("div"),I=x("sBTC \xA9 2023"),_=$(),U=m("div"),M=m("div"),z=x("For the \u2665 of crypto!"),this.h()},l(C){e=v(C,"DIV",{class:!0,id:!0});var j=w(e);s=v(j,"DIV",{class:!0});var K=w(s);r=v(K,"DIV",{class:!0});var R=w(r);a=v(R,"DIV",{class:!0});var B=w(a);n=v(B,"DIV",{class:!0});var q=w(n);o=v(q,"A",{class:!0,href:!0});var F=w(o);c=v(F,"IMG",{src:!0,alt:!0,width:!0,height:!0}),F.forEach(y),q.forEach(y),B.forEach(y),p=T(R),g=v(R,"DIV",{class:!0});var L=w(g);f=v(L,"DIV",{class:!0});var nt=w(f);E=v(nt,"DIV",{class:!0});var it=w(E);Qe(b.$$.fragment,it),it.forEach(y),nt.forEach(y),L.forEach(y),R.forEach(y),S=T(K),h=v(K,"DIV",{class:!0});var P=w(h);k=v(P,"DIV",{class:!0});var V=w(k);A=v(V,"DIV",{class:!0});var Q=w(A);I=N(Q,"sBTC \xA9 2023"),Q.forEach(y),V.forEach(y),_=T(P),U=v(P,"DIV",{class:!0});var Y=w(U);M=v(Y,"DIV",{class:!0});var G=w(M);z=N(G,"For the \u2665 of crypto!"),G.forEach(y),Y.forEach(y),P.forEach(y),K.forEach(y),j.forEach(y),this.h()},h(){ae(c.src,d=wt)||i(c,"src",d),i(c,"alt","stacks ecosystem dao logo"),i(c,"width","198"),i(c,"height","auto"),i(o,"class","navbar-brand"),i(o,"href","/"),i(n,"class",""),i(a,"class","px-0 col-4"),i(E,"class","col-12"),i(f,"class","row"),i(g,"class","col-8"),i(r,"class","row mx-5"),i(A,"class","copywright svelte-1rvwk6o"),i(k,"class","mb-4"),i(M,"class","copywright svelte-1rvwk6o"),i(U,"class","mb-4"),i(h,"class","mx-5 mt-5 d-flex justify-content-between copy svelte-1rvwk6o"),i(s,"class","pt-5"),i(e,"class","container-fluid footer svelte-1rvwk6o"),i(e,"id","footer-section")},m(C,j){ne(C,e,j),l(e,s),l(s,r),l(r,a),l(a,n),l(n,o),l(o,c),l(r,p),l(r,g),l(g,f),l(f,E),ts(b,E,null),l(s,S),l(s,h),l(h,k),l(k,A),l(A,I),l(h,_),l(h,U),l(U,M),l(M,z),O=!0},p:Rt,i(C){O||(yt(b.$$.fragment,C),O=!0)},o(C){_t(b.$$.fragment,C),O=!1},d(C){C&&y(e),es(b)}}}class ca extends de{constructor(e){super(),he(this,e,null,oa,re,{})}}var la="https://stacks-node-api.mainnet.stacks.co",ua="https://stacks-node-api.testnet.stacks.co",Ot=class{constructor(t={url:la}){u(this,"version",pe.Mainnet);u(this,"chainId",Yt.Mainnet);u(this,"broadcastEndpoint","/v2/transactions");u(this,"transferFeeEstimateEndpoint","/v2/fees/transfer");u(this,"accountEndpoint","/v2/accounts");u(this,"contractAbiEndpoint","/v2/contracts/interface");u(this,"readOnlyFunctionCallEndpoint","/v2/contracts/call-read");u(this,"bnsLookupUrl");u(this,"_coreApiUrl");u(this,"fetcher");u(this,"getCoreApiUrl",()=>this._coreApiUrl);u(this,"isMainnet",()=>this.version===pe.Mainnet);u(this,"getBroadcastApiUrl",()=>`${this.getCoreApiUrl()}${this.broadcastEndpoint}`);u(this,"getTransferFeeEstimateApiUrl",()=>`${this.getCoreApiUrl()}${this.transferFeeEstimateEndpoint}`);u(this,"getAccountApiUrl",t=>`${this.getCoreApiUrl()}${this.accountEndpoint}/${t}?proof=0`);u(this,"getAbiApiUrl",(t,e)=>`${this.getCoreApiUrl()}${this.contractAbiEndpoint}/${t}/${e}`);u(this,"getReadOnlyFunctionCallApiUrl",(t,e,s)=>`${this.getCoreApiUrl()}${this.readOnlyFunctionCallEndpoint}/${t}/${e}/${encodeURIComponent(s)}`);u(this,"getInfoUrl",()=>`${this.getCoreApiUrl()}/v2/info`);u(this,"getBlockTimeInfoUrl",()=>`${this.getCoreApiUrl()}/extended/v1/info/network_block_times`);u(this,"getPoxInfoUrl",()=>`${this.getCoreApiUrl()}/v2/pox`);u(this,"getRewardsUrl",(t,e)=>{let s=`${this.getCoreApiUrl()}/extended/v1/burnchain/rewards/${t}`;return e&&(s=`${s}?limit=${e.limit}&offset=${e.offset}`),s});u(this,"getRewardsTotalUrl",t=>`${this.getCoreApiUrl()}/extended/v1/burnchain/rewards/${t}/total`);u(this,"getRewardHoldersUrl",(t,e)=>{let s=`${this.getCoreApiUrl()}/extended/v1/burnchain/reward_slot_holders/${t}`;return e&&(s=`${s}?limit=${e.limit}&offset=${e.offset}`),s});u(this,"getStackerInfoUrl",(t,e)=>`${this.getCoreApiUrl()}${this.readOnlyFunctionCallEndpoint}
    ${t}/${e}/get-stacker-info`);if(!t.url&&!t.coreApiUrl)throw Error("[miro-stacks] Network initialized with no api url");this._coreApiUrl=t.url||t.coreApiUrl,this.bnsLookupUrl=t.bnsLookupUrl||t.url||t.coreApiUrl,this.fetcher=t.fetcher||Dt}get coreApiUrl(){return this._coreApiUrl}set coreApiUrl(t){throw new Error("Cannot modify property `coreApiUrl` after object initialization")}getNameInfo(t){let e=`${this.bnsLookupUrl}/v1/names/${t}`;return this.fetcher(e).then(s=>{if(s.status===404)throw new Error("Name not found");if(s.status!==200)throw new Error(`Bad response status: ${s.status}`);return s.json()}).then(s=>s.address?Object.assign({},s,{address:s.address}):s)}},oe=class extends Ot{constructor(e={url:ua,fetcher:Dt}){super(e);u(this,"version",pe.Testnet);u(this,"chainId",Yt.Testnet)}},da=(t=>(t[t.OnChainOnly=1]="OnChainOnly",t[t.OffChainOnly=2]="OffChainOnly",t[t.Any=3]="Any",t))(da||{});pe.Mainnet;var ha=(t=>(t[t.Allow=1]="Allow",t[t.Deny=2]="Deny",t))(ha||{}),pa=(t=>(t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible",t))(pa||{}),fa=(t=>(t[t.Standard=4]="Standard",t[t.Sponsored=5]="Sponsored",t))(fa||{}),ga=(t=>(t[t.SerializeP2PKH=0]="SerializeP2PKH",t[t.SerializeP2SH=1]="SerializeP2SH",t[t.SerializeP2WPKH=2]="SerializeP2WPKH",t[t.SerializeP2WSH=3]="SerializeP2WSH",t))(ga||{}),ma=(t=>(t[t.MainnetSingleSig=22]="MainnetSingleSig",t[t.MainnetMultiSig=20]="MainnetMultiSig",t[t.TestnetSingleSig=26]="TestnetSingleSig",t[t.TestnetMultiSig=21]="TestnetMultiSig",t))(ma||{}),va=(t=>(t[t.Compressed=0]="Compressed",t[t.Uncompressed=1]="Uncompressed",t))(va||{}),ya=(t=>(t[t.Equal=1]="Equal",t[t.Greater=2]="Greater",t[t.GreaterEqual=3]="GreaterEqual",t[t.Less=4]="Less",t[t.LessEqual=5]="LessEqual",t))(ya||{}),wa=(t=>(t[t.DoesNotOwn=16]="DoesNotOwn",t[t.Owns=17]="Owns",t))(wa||{}),ba=(t=>(t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible",t))(ba||{}),Sa=(t=>(t.Serialization="Serialization",t.Deserialization="Deserialization",t.SignatureValidation="SignatureValidation",t.FeeTooLow="FeeTooLow",t.BadNonce="BadNonce",t.NotEnoughFunds="NotEnoughFunds",t.NoSuchContract="NoSuchContract",t.NoSuchPublicFunction="NoSuchPublicFunction",t.BadFunctionArgument="BadFunctionArgument",t.ContractAlreadyExists="ContractAlreadyExists",t.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",t.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",t.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",t.BadAddressVersionByte="BadAddressVersionByte",t.NoCoinbaseViaMempool="NoCoinbaseViaMempool",t.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",t.ServerFailureDatabase="ServerFailureDatabase",t.ServerFailureOther="ServerFailureOther",t))(Sa||{}),ka=(t=>(t[t.TokenTransfer=0]="TokenTransfer",t[t.SmartContract=1]="SmartContract",t[t.ContractCall=2]="ContractCall",t[t.PoisonMicroblock=3]="PoisonMicroblock",t[t.Coinbase=4]="Coinbase",t))(ka||{});function Ia(t){let e=new rs;return e.appendByte(t.conditionType),e.push(Ea(t.principal)),(t.conditionType===1||t.conditionType===2)&&e.push(Aa(t.assetInfo)),t.conditionType===2&&e.push(Xi(t.assetName)),e.appendByte(t.conditionCode),(t.conditionType===0||t.conditionType===1)&&e.push(Zi(t.amount,!1,8)),e.concatBuffer()}function Ea(t){let e=new rs;return e.push(Uint8Array.from([t.prefix])),e.push(Hr(t.address)),t.prefix===Yi.Contract&&e.push(ss(t.contractName)),e.concatBuffer()}function Aa(t){let e=new rs;return e.push(Hr(t.address)),e.push(ss(t.contractName)),e.push(ss(t.assetName)),e.concatBuffer()}var $a=(t=>(t[t.PublicKeyCompressed=0]="PublicKeyCompressed",t[t.PublicKeyUncompressed=1]="PublicKeyUncompressed",t[t.SignatureCompressed=2]="SignatureCompressed",t[t.SignatureUncompressed=3]="SignatureUncompressed",t))($a||{}),me=typeof document<"u",Ta=(t=>(t.SessionStorageKey="stacks-session",t.NetworkStorageKey="stacks-network",t))(Ta||{}),st=Ft("localStorage",{returnEmptyObject:!0}),xa={setItem:(t,e)=>{if(me)return st==null?void 0:st.setItem(t,e)},getItem:t=>{if(me){let e=st==null?void 0:st.getItem(t);if(e===null)throw new Error("defaultStorageAdapter: no value stored");return e}},removeItem:t=>{if(me)return st==null?void 0:st.removeItem(t)}},te=t=>t?tt(Qt(t,!0)):null;function Na(t){return t==null?void 0:t.map(e=>typeof e!="string"?tt(Ia(e)):e)}var ve=(t,e)=>e?new ls("ES256k",e).sign(t):no(t),ye=async(t,e)=>{let s={...t,postConditions:Na(t.postConditions)};return ve(s,e)},_a=(t=>(t.ContractCall="contract_call",t.ContractDeploy="smart_contract",t.STXTransfer="token_transfer",t))(_a||{});async function Ca({functionArgs:t,privateKey:e,...s}){let r=te(e),a={...s,functionArgs:t.map(n=>as(typeof n=="string"?n:ns(n))),txType:"contract_call",publicKey:r};return ye(a,e)}async function Oa({privateKey:t,...e}){let s={...e,publicKey:te(t),txType:"smart_contract"};return ye(s,t)}async function Pa({privateKey:t,...e}){let s={...e,amount:typeof e.amount=="bigint"?Number(e.amount).toString(10):e.amount,publicKey:te(t),txType:"token_transfer"};return ye(s,t)}function Ua(t){let e=t.split(":");if(e.length!==3)throw new TypeError("Decentralized IDs must have 3 parts");if(e[0].toLowerCase()!=="did")throw new TypeError('Decentralized IDs must start with "did"');return e[1].toLowerCase()}function Ra(t){return t&&Ua(t)==="btc-addr"?t.split(":")[2]:void 0}async function Da(t,e){let s=os(t),r=s==null?void 0:s.payload,a;if(r.private_key)try{let n=Qi(r.private_key);a=await to({privateKey:e,cipherObject:n})}catch{console.error("[micro-stacks] failed to decrypt appPrivateKey")}return{addresses:r.profile.stxAddress,appPrivateKey:a,associationToken:r.associationToken,hubUrl:r.hubUrl,public_keys:r.public_keys,profile:r.profile,profile_url:r.profile_url,username:r.username,version:r.version,decentralizedID:r.iss,identityAddress:Ra(r.iss)}}function vs(){return Ft("StacksProvider",{returnEmptyObject:!1,usageDesc:"authenticate",throwIfUnavailable:!0})}async function Fa(t,e=xa,s=JSON.stringify){var r,a;if(!t.appDetails)throw Error("[micro-stacks] authenticate error: `authOptions.appDetails` are required for authentication");try{let n=tt(qr()),o=await za(t,n),c=await Da(o,n);return(r=t==null?void 0:t.onFinish)==null||r.call(t,c),e.setItem("stacks-session",s(c)),c}catch(n){(a=t==null?void 0:t.onCancel)==null||a.call(t,n.message)}}function Ka(t,e){if(!t.appDetails)throw Error("[micro-stacks] authenticate error: `authOptions.appDetails` are required for authentication");let s=t.scopes||[],r=Ft("location",{returnEmptyObject:!0}).origin;return{scopes:[...new Set(["store_write",...s])],redirect_uri:r,public_keys:[e],domain_name:r,appDetails:t.appDetails}}async function La(t,e){return new ls("ES256k",e).sign(t)}async function Ma(t,e){let s=tt(Qt(e)),r=Ka(t,s);return La(r,e)}async function za(t,e){let s=vs();if(!s)throw Error("This function can only be called on the client, and with the presence of StacksProvider");let r=await Ma(t,e);return s.authenticationRequest(r)}function we(t){return async function(e){let{token:s,onFinish:r,onCancel:a}=e;try{let n=vs();if(!n)throw new Error("[micro-stacks/connect] No Stacks provider");let o=n[t];if(typeof o!="function")throw new Error(`[micro-stacks/connect] StacksProvider method ${t} not found`);let c=await o(s);r==null||r(c)}catch(n){a==null||a(n==null?void 0:n.message)}}}var Ba=we("transactionRequest"),Va=we("signatureRequest"),Ha=we("structuredDataSignatureRequest"),qa=(t=>(t.Chrome="https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",t.Firefox="https://addons.mozilla.org/en-US/firefox/addon/hiro-wallet/",t.Mobile="https://www.xverse.app",t.Browser="https://www.hiro.so/wallet/install-web",t))(qa||{}),ja=async t=>{let e={stxAddress:t.stxAddress,message:t.message,appDetails:t.appDetails??null,publicKey:te(t.privateKey),network:t.network};return ve(e,t.privateKey)},Ga=async t=>{try{let e=await ja({message:t.message,network:t.network,privateKey:t.privateKey,stxAddress:t.stxAddress,authOrigin:t.authOrigin,appDetails:t.appDetails});return Va({token:e,onFinish:t.onFinish,onCancel:t.onCancel})}catch(e){console.error("[micro-stacks] handleSignMessageRequest failed"),console.error(e)}},Wa=(t,e,s)=>io({name:jr(t),version:jr(e),"chain-id":oo(s)}),Ja=t=>{var e;let s=typeof t.message!="string"?ns(t.message):t.message,r=Wa(t.domain.name,t.domain.version,t.domain.chainId??((e=t.network)==null?void 0:e.chainId)??Yt.Mainnet),a=ns(r),n={stxAddress:t.stxAddress,message:as(s),domain:as(a),appDetails:t.appDetails,publicKey:te(t.privateKey),network:t.network};return ve(n,t==null?void 0:t.privateKey)},Xa=async t=>{try{let e=await Ja({message:t.message,domain:t.domain,privateKey:t.privateKey,stxAddress:t.stxAddress,authOrigin:t.authOrigin,appDetails:t.appDetails,network:t.network});return Ha({token:e,onFinish:t.onFinish,onCancel:t.onCancel})}catch(e){console.error("[micro-stacks] handleSignStructuredDataRequest failed"),console.error(e)}},Za=9007199254740991;function ys(t){if(t<0||t>Za||t%1!==0)throw new RangeError("value out of range")}var ws=(t,e,s)=>{ys(t);let r;if(e||(e=new Uint8Array(Ya(t))),!co(e))throw new TypeError("uint8Array must be of Uint8Array type");return s||(s=0),t<253?(fe(e,t,s),r=1):t<=65535?(fe(e,253,s),lo(e,t,s+1),r=3):t<=4294967295?(fe(e,254,s),us(e,t,s+1),r=5):(fe(e,255,s),us(e,t>>>0,s+1),us(e,t/4294967296|0,s+5),r=9),ws.bytes=r,e};function Ya(t){return ys(t),t<253?1:t<=65535?3:t<=4294967295?5:9}var Qa=`Stacks Signed Message:
`,bs=is.utf8ToBytes(Qa),tn=`Stacks Message Signing:
`,en=is.utf8ToBytes(tn);function Ss(t,e=bs){return eo(sn(t,e))}function sn(t,e=bs){let s=typeof t=="string"?is.utf8ToBytes(t):t,r=ws(s.length);return so([e,r,s])}var be=32;function rn(t){if(t.length<be*2*2+1)throw new Error("Invalid signature");let e=t.slice(0,2),s=t.slice(2,2+be*2),r=t.slice(2+be*2);return{recoveryBytes:cs(e),r:s,s:r}}function an(t){return t.slice(-2)+t.slice(0,-2)}var ks=({hash:t,signature:e,recoveryBytes:s})=>ro(t,e,Number(s),!0),Is=t=>{let{signature:e,mode:s="rsv"}=t,{r,s:a,recoveryBytes:n}=rn(s==="rsv"?an(e):e);return{signature:new ao(cs(r),cs(a)),recoveryBytes:n}},Es=t=>{if(!t.publicKey&&!t.stxAddress)throw Error("[micro-stacks/connect[ verifyMessageSignature -- You must pass `stxAddress` if you are recovering the public key from the signature");let{message:e,mode:s="rsv"}=t,r=t.publicKey;try{let a=typeof e=="string"?Ss(e,t.prefix):e,{signature:n,recoveryBytes:o}=Is({signature:t.signature,mode:s});if(!r){let[c]=ge(t.stxAddress);r=tt(ks({hash:a,signature:n,recoveryBytes:o}));let d=ds(r,c);if(d!==t.stxAddress)return console.error(`[micro-stacks/connect] verifyMessageSignature Stacks address is not correct. expected: ${t.stxAddress}, received: ${d}`),!1}return uo(n,a,r,{strict:!1})}catch(a){return console.error("[micro-stacks/connect] verifyMessageSignature failed",a),!1}},nn=t=>Es(t)||Es({...t,prefix:en});const As=t=>{let e;const s=new Set,r=(o,c)=>{const d=typeof o=="function"?o(e):o;if(d!==e){const p=e;e=c??typeof d!="object"?d:Object.assign({},e,d),s.forEach(g=>g(e,p))}},a=()=>e,n={setState:r,getState:a,subscribe:o=>(s.add(o),()=>s.delete(o)),destroy:()=>s.clear()};return e=t(r,a,n),n},on=t=>t?As(t):As,cn=t=>(e,s,r)=>{const a=r.subscribe;return r.subscribe=(n,o,c)=>{let d=n;if(o){const p=(c==null?void 0:c.equalityFn)||Object.is;let g=n(r.getState());d=f=>{const E=n(f);if(!p(g,E)){const b=g;o(g=E,b)}},c!=null&&c.fireImmediately&&o(g,g)}return a(d)},t(e,s,r)},ln=cn,ce=t=>e=>{try{const s=t(e);return s instanceof Promise?s:{then(r){return ce(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return ce(r)(s)}}}},un=(t,e)=>(s,r,a)=>{let n={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,A)=>({...A,...k}),...e},o=!1;const c=new Set,d=new Set;let p;try{p=n.getStorage()}catch{}if(!p)return t((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),s(...k)},r,a);const g=ce(n.serialize),f=()=>{const k=n.partialize({...r()});let A;const I=g({state:k,version:n.version}).then(_=>p.setItem(n.name,_)).catch(_=>{A=_});if(A)throw A;return I},E=a.setState;a.setState=(k,A)=>{E(k,A),f()};const b=t((...k)=>{s(...k),f()},r,a);let S;const h=()=>{var k;if(!p)return;o=!1,c.forEach(I=>I(r()));const A=((k=n.onRehydrateStorage)==null?void 0:k.call(n,r()))||void 0;return ce(p.getItem.bind(p))(n.name).then(I=>{if(I)return n.deserialize(I)}).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==n.version){if(n.migrate)return n.migrate(I.state,I.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return I.state}).then(I=>{var _;return S=n.merge(I,(_=r())!=null?_:b),s(S,!0),f()}).then(()=>{A==null||A(S,void 0),o=!0,d.forEach(I=>I(S))}).catch(I=>{A==null||A(void 0,I)})};return a.persist={setOptions:k=>{n={...n,...k},k.getStorage&&(p=k.getStorage())},clearStorage:()=>{p==null||p.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:k=>(c.add(k),()=>{c.delete(k)}),onFinishHydration:k=>(d.add(k),()=>{d.delete(k)})},h(),S||b},dn=un;var hn=!0,Se="Invariant failed";function pn(t,e){if(!t){if(hn)throw new Error(Se);var s=typeof e=="function"?e():e,r=s?"".concat(Se,": ").concat(s):Se;throw new Error(r)}}function fn(t){return t=gn(t),t=mn(t),vn(t)}function gn(t){let e=/(^|[^\\]);.*/g;return t.replace(e,function(s,r){return r||""})}function mn(t){let e=[],s=/\([\s\S]*?\)/gim,r=s.exec(t);for(;r!==null;){let n=r[0].replace(/\s+/gm," ");e.push({match:r,replacement:n}),r=s.exec(t)}let a=t.split("");for(let n of e){let{match:o,replacement:c}=n;a.splice(o.index,o[0].length,c)}return a.join("").replace(/\(|\)/gim," ")}function vn(t){let e={},s=t.split(`
`);for(let r of s){if(!r||!r.trim())continue;let a=r.toUpperCase();/\s+TXT\s+/.test(a)?(e.txt=e.txt||[],e.txt.push(En(r))):a.indexOf("$ORIGIN")===0?e.$origin=r.split(/\s+/g)[1]:a.indexOf("$TTL")===0?e.$ttl=parseInt(r.split(/\s+/g)[1],10):/\s+SOA\s+/.test(a)?e.soa=yn(r):/\s+NS\s+/.test(a)?(e.ns=e.ns||[],e.ns.push(wn(r))):/\s+A\s+/.test(a)?(e.a=e.a||[],e.a.push(bn(r,e.a))):/\s+AAAA\s+/.test(a)?(e.aaaa=e.aaaa||[],e.aaaa.push(Sn(r))):/\s+CNAME\s+/.test(a)?(e.cname=e.cname||[],e.cname.push(kn(r))):/\s+MX\s+/.test(a)?(e.mx=e.mx||[],e.mx.push(In(r))):/\s+PTR\s+/.test(a)?(e.ptr=e.ptr||[],e.ptr.push(An(r,e.ptr,e.$origin))):/\s+SRV\s+/.test(a)?(e.srv=e.srv||[],e.srv.push($n(r))):/\s+SPF\s+/.test(a)?(e.spf=e.spf||[],e.spf.push(Tn(r))):/\s+URI\s+/.test(a)&&(e.uri=e.uri||[],e.uri.push(xn(r)))}return e}function yn(t){let e={},s=t.trim().split(/\s+/g),r=s.length;return e.name=s[0],e.minimum=parseInt(s[r-1],10),e.expire=parseInt(s[r-2],10),e.retry=parseInt(s[r-3],10),e.refresh=parseInt(s[r-4],10),e.serial=parseInt(s[r-5],10),e.rname=s[r-6],e.mname=s[r-7],isNaN(s[1])||(e.ttl=parseInt(s[1],10)),e}function wn(t){let e=t.trim().split(/\s+/g),s=e.length,r={name:e[0],host:e[s-1]};return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}function bn(t,e){let s=t.trim().split(/\s+/g),r=t.trim().toUpperCase().split(/\s+/g),a=s.length,n={name:s[0],ip:s[a-1]};return r.lastIndexOf("A")===0&&(e.length?n.name=e[e.length-1].name:n.name="@"),isNaN(s[1])||(n.ttl=parseInt(s[1],10)),n}function Sn(t){let e=t.trim().split(/\s+/g),s=e.length,r={name:e[0],ip:e[s-1]};return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}function kn(t){let e=t.trim().split(/\s+/g),s=e.length,r={name:e[0],alias:e[s-1]};return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}function In(t){let e=t.trim().split(/\s+/g),s=e.length,r={name:e[0],preference:parseInt(e[s-2],10),host:e[s-1]};return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}function En(t){let e=t.trim().match(/[^\s"']+|"[^"]*"|'[^']*'/g);if(!e)throw new Error("Failure to tokenize TXT record");let s=e.length,r=e.indexOf("TXT");function a(c){return c.indexOf('"')>-1&&(c=c.split('"')[1]),c}let n;s-r-1>1?n=[...e.slice(r+1).map(a)]:n=a(e[s-1]);let o={name:e[0],txt:n};return isNaN(e[1])||(o.ttl=parseInt(e[1],10)),o}function An(t,e,s){let r=t.trim().split(/\s+/g);t.trim().toUpperCase().split(/\s+/g).lastIndexOf("PTR")===0&&e[e.length-1]&&r.unshift(e[e.length-1].name);let a=r.length,n={name:r[0],fullname:`${r[0]}.${s}`,host:r[a-1]};return isNaN(r[1])||(n.ttl=parseInt(r[1],10)),n}function $n(t){let e=t.trim().split(/\s+/g),s=e.length,r={name:e[0],target:e[s-1],priority:parseInt(e[s-4],10),weight:parseInt(e[s-3],10),port:parseInt(e[s-2],10)};return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}function Tn(t){let e=t.trim().split(/\s+/g),s={name:e[0],data:""},r=e.length;for(;r-- >4;)s.data=e[r]+" "+s.data.trim();return isNaN(e[1])||(s.ttl=parseInt(e[1],10)),s}function xn(t){let e=t.trim().split(/\s+/g),s=e.length,r={name:e[0],target:e[s-1].replace(/"/g,""),priority:parseInt(e[s-3],10),weight:parseInt(e[s-2],10)};return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}var Nn=Object.defineProperty,_n=(t,e,s)=>e in t?Nn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Cn=(t,e,s)=>(_n(t,typeof e!="symbol"?e+"":e,s),s);function On(t){return(t==null?void 0:t.map(e=>({...e,domain:e.path})))??null}function Pn(t){let{hubInfo:e,privateKey:s,gaiaHubUrl:r,associationToken:a=null,scopes:n}=t,{challenge_text:o}=e,c=tt(Qt(s,!0)),d=qr(16).toString();return{gaiaChallenge:o,hubUrl:r,iss:c,salt:d,associationToken:a,scopes:On(n)}}function Un(t){let e=Pn(t);return`v1:${new ls("ES256K",t.privateKey).signSync(e)}`}var Rn={challenge_text:'["gaiahub","0","storage2.blockstack.org","blockstack_storage_please_sign"]',latest_auth_version:"v1",max_file_upload_size_megabytes:20,read_url_prefix:"https://gaia.blockstack.org/hub/"};function Dn(t){let{gaiaHubUrl:e,privateKey:s,associationToken:r,scopes:a}=t,n=Rn,{read_url_prefix:o,max_file_upload_size_megabytes:c}=n,d=Un({hubInfo:n,privateKey:s,gaiaHubUrl:e,associationToken:r,scopes:a});return{address:Gr(s),url_prefix:o,token:d,server:e,max_file_upload_size_megabytes:c??20}}var rt={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(rt);var $s=class extends Error{constructor(e){super();u(this,"message");u(this,"code");u(this,"parameter");let s=e.message,r=`Error Code: ${e.code}`,a=this.stack;if(a)r+=`Stack Trace:
${a}`;else try{throw new Error}catch(n){a=n.stack}s+=`
If you believe this exception is caused by a bug in blockstack.js,
      please file a bug report: https://github.com/blockstack/blockstack.js/issues

${r}`,this.message=s,this.code=e.code,this.parameter=e.parameter?e.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}},at=class extends $s{constructor(t){let e=`Failed to verify signature: ${t}`;super({code:rt.SIGNATURE_VERIFICATION_ERROR,message:e}),this.message=e,this.name="SignatureVerificationError"}},Pt=class extends $s{constructor(e,s){super(e);u(this,"hubError");s&&(this.hubError={statusCode:s.status,statusText:s.statusText},typeof s.body=="string"?this.hubError.message=s.body:typeof s.body=="object"&&Object.assign(this.hubError,s.body))}},Ts=class extends Pt{constructor(t,e){super({message:t,code:rt.DOES_NOT_EXIST},e),this.name="DoesNotExist"}},Fn=class extends Pt{constructor(t,e){super({message:t,code:rt.CONFLICT_ERROR},e),this.name="ConflictError"}},Kn=class extends Pt{constructor(t,e){super({message:t,code:rt.NOT_ENOUGH_PROOF_ERROR},e),this.name="NotEnoughProofError"}},Ln=class extends Pt{constructor(t,e){super({message:t,code:rt.BAD_PATH_ERROR},e),this.name="BadPathError"}},Mn=class extends Pt{constructor(t,e){super({message:t,code:rt.VALIDATION_ERROR},e),this.name="ValidationError"}},ke=class extends Pt{constructor(e,s,r){super({message:e,code:rt.PAYLOAD_TOO_LARGE_ERROR},s);u(this,"hubError");u(this,"maxUploadByteSize");this.name="PayloadTooLargeError",this.maxUploadByteSize=r}},zn=class extends Pt{constructor(t,e){super({message:t,code:rt.PRECONDITION_FAILED_ERROR},e),this.name="PreconditionFailedError"}};async function Bn(t){let e="",s;try{e=await t.text();try{s=JSON.parse(e)}catch{}}catch(n){console.debug(`Error getting bad http response text: ${n}`)}let r=t.status,a=t.statusText;return{status:r,statusText:a,body:s||e}}function xs(t){return Number.isFinite(t)?Math.floor(t*1024*1024):0}async function Ns(t,e,s){if(t.ok)throw new Error("Cannot get a Stacks from a valid response.");let r=await Bn(t);if(r.status===401)throw new Mn(e,r);if(r.status===402)throw new Kn(e,r);if(r.status===403)throw new Ln(e,r);if(r.status===404)throw new Ts(e,r);if(r.status===409)throw new Fn(e,r);if(r.status===412)throw new zn(e,r);if(r.status===413){let a=s&&s.max_file_upload_size_megabytes?xs(s.max_file_upload_size_megabytes):0;throw new ke(e,r,a)}else throw new Error(e)}function Vn(t){if(!t||!t.hubError||!t.hubError.statusCode)return!1;let e=t.hubError.statusCode;return e===401||e===409||e>=500&&e<=599}async function Ie(t){let{filename:e,contents:s,hubConfig:r,contentType:a="application/octet-stream"}=t,n={"Content-Type":a,Authorization:`bearer ${r.token}`},o=await Dt(`${r.server}/store/${r.address}/${e}`,{method:"POST",headers:n,body:s});if(!o.ok)throw await Ns(o,"Error when uploading to Gaia hub.",r);let c=await o.text();return JSON.parse(c)}function _s(t,e){return Promise.resolve(`${e.url_prefix}${e.address}/${t}`)}var Kt=".sig",Cs="https://stacks-node-api.stacks.co/v1/names",Os=class{constructor(t,e){u(this,"content");u(this,"wasString");u(this,"contentType");u(this,"contentByteLength");u(this,"loadedData");this.wasString=typeof t=="string",this.content=Os.normalizeContentDataType(t,e),this.contentType=e||this.detectContentType(),this.contentByteLength=this.detectContentLength()}static normalizeContentDataType(t,e){try{if(typeof t=="string"){let s=(e||"").toLowerCase().replace("-","");if(s.includes("charset")&&!s.includes("charset=utf8")&&!s.includes("charset=ascii"))throw new Error(`Unable to determine byte length with charset: ${e}`);return new TextEncoder().encode(t)}else{if(t instanceof Uint8Array)return t;if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);if(typeof Blob<"u"&&t instanceof Blob)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(Array.isArray(t)){if(t.length>0&&(!Number.isInteger(t[0])||t[0]<0||t[0]>255))throw new Error(`Unexpected array values provided as file data: value "${t[0]}" at index 0 is not an octet number. ${this.supportedTypesMsg}`);return new Uint8Array(t)}else{let s=Object.prototype.toString.call(t);throw new Error(`Unexpected type provided as file data: ${s}. ${this.supportedTypesMsg}`)}}}catch(s){throw console.error(s),new Error(`Error processing data: ${s}`)}}detectContentType(){return this.wasString?"text/plain; charset=utf-8":typeof Blob<"u"&&this.content instanceof Blob&&this.content.type?this.content.type:"application/octet-stream"}detectContentLength(){if(ArrayBuffer.isView(this.content)||this.content instanceof Uint8Array)return this.content.byteLength;if(typeof Blob<"u"&&this.content instanceof Blob)return this.content.size;let t=Object.prototype.toString.call(this.content),e=new Error(`Unexpected type "${t}" while detecting content length`);throw console.error(e),e}async loadContent(){try{if(this.content instanceof Uint8Array)return this.content;if(ArrayBuffer.isView(this.content))return new Uint8Array(this.content.buffer,this.content.byteOffset,this.content.byteLength);if(typeof Blob<"u"&&this.content instanceof Blob){let t=new FileReader;return await new Promise((e,s)=>{t.onerror=r=>{s(r)},t.onload=()=>{let r=t.result;e(new Uint8Array(r))},t.readAsArrayBuffer(this.content)})}else{let t=Object.prototype.toString.call(this.content);throw new Error(`Unexpected type ${t}`)}}catch(t){console.error(t);let e=new Error(`Error loading content: ${t}`);throw console.error(e),e}}load(){return this.loadedData===void 0&&(this.loadedData=this.loadContent()),this.loadedData}},Ps=Os;Cn(Ps,"supportedTypesMsg","Supported types are: `string` (to be UTF8 encoded), `Uint8Array`, `Blob`, `File`, `ArrayBuffer`, `UInt8Array` or any other typed array buffer. ");async function Hn(t,e,s){let{privateKey:r}=s,{encrypt:a,sign:n,gaiaHubConfig:o,cipherTextEncoding:c}=s,{contentType:d=""}=s,p=xs(o.max_file_upload_size_megabytes),g=p>0,f=new Ps(e,d);if(d=f.contentType,!a&&g&&f.contentByteLength>p){let b=`The max file upload size for this hub is ${p} bytes, the given content is ${f.contentByteLength} bytes`,S=new ke(b,null,p);throw console.error(S),S}if(a&&g&&c){let b=ho({contentLength:f.contentByteLength,wasString:f.wasString,sign:!!n,cipherTextEncoding:c});if(b>p){let S=`The max file upload size for this hub is ${p} bytes, the given content is ${b} bytes after encryption`,h=new ke(S,null,p);throw console.error(h),h}}let E;if(!a&&n){let b=await f.load();if(typeof n=="string")r=n;else if(!r)throw Error("Need to pass private key");let S=await Wr({contents:b,privateKey:r});E=async h=>(await Promise.all([Ie({filename:t,contents:b,hubConfig:h,contentType:d}),Ie({filename:`${t}${Kt}`,contents:JSON.stringify(S),hubConfig:h,contentType:"application/json"})]))[0].publicURL}else{let b;if(!a&&!n)b=f.content;else{let S;if(typeof a=="string")S=a;else if(typeof n=="string")S=tt(Qt(n,!0));else if(r)S=tt(Qt(r,!0));else throw new Error("No private key passed");let h=await f.load(),k=await Jr(h,{publicKey:S,wasString:f.wasString,cipherTextEncoding:c,privateKey:r});if(b=JSON.stringify(k),r){let{signature:A,publicKey:I}=await Wr({contents:k,privateKey:r});b=JSON.stringify({signature:A,publicKey:I,cipherText:k})}d="application/json"}E=async S=>(await Ie({filename:t,contents:b,hubConfig:S,contentType:d})).publicURL}try{return await E(o)}catch(b){if(Vn(b))return console.error(b),console.error("Possible recoverable error during Gaia upload, retrying..."),await E(o);throw b}}function qn(t){if(!t.hasOwnProperty("uri")||!Array.isArray(t.uri)||t.uri.length<1)return null;let e=t.uri[0];if(!e.hasOwnProperty("target"))return null;let s=e.target;return s.startsWith("https")||s.startsWith("http")||(s=`https://${s}`),s}function Ee(t,e){let s;return e.proof&&e.proof.url&&(s=e.proof.url),{"@type":"Account",service:t,identifier:e.username,proofType:"http",proofUrl:s}}function jn(t){let e={"@type":"Person"};if(t){t.name&&t.name.formatted&&(e.name=t.name.formatted),t.bio&&(e.description=t.bio),t.location&&t.location.formatted&&(e.address={"@type":"PostalAddress",addressLocality:t.location.formatted});let s=[];t.avatar&&t.avatar.url&&s.push({"@type":"ImageObject",name:"avatar",contentUrl:t.avatar.url}),t.cover&&t.cover.url&&s.push({"@type":"ImageObject",name:"cover",contentUrl:t.cover.url}),s.length&&(e.image=s),t.website&&(e.website=[{"@type":"WebSite",url:t.website}]);let r=[];t.bitcoin&&t.bitcoin.address&&r.push({"@type":"Account",role:"payment",service:"bitcoin",identifier:t.bitcoin.address}),t.twitter&&t.twitter.username&&r.push(Ee("twitter",t.twitter)),t.facebook&&t.facebook.username&&r.push(Ee("facebook",t.facebook)),t.github&&t.github.username&&r.push(Ee("github",t.github)),t.auth&&t.auth.length>0&&t.auth[0]&&t.auth[0].publicKeychain&&r.push({"@type":"Account",role:"key",service:"bip32",identifier:t.auth[0].publicKeychain}),t.pgp&&t.pgp.url&&r.push({"@type":"Account",role:"key",service:"pgp",identifier:t.pgp.fingerprint,contentUrl:t.pgp.url}),e.account=r}return e}function Gn(t,e){let s=os(t);if(!s)throw Error("no decoded token");let r=s.payload;if(typeof r=="string")throw new Error("Unexpected token payload type of string");if(r.hasOwnProperty("subject")&&r.subject){if(!r.subject.hasOwnProperty("publicKey"))throw new Error("Token doesn't have a subject public key")}else throw new Error("Token doesn't have a subject");if(r.hasOwnProperty("issuer")&&r.issuer){if(!r.issuer.hasOwnProperty("publicKey"))throw new Error("Token doesn't have an issuer public key")}else throw new Error("Token doesn't have an issuer");if(!r.hasOwnProperty("claim"))throw new Error("Token doesn't have a claim");let a=r.issuer.publicKey,n=ds(a);if(e!==a&&e!==n)throw new Error("Token issuer public key does not match the verifying value");let o=new go(s.header.alg,a);if(!o)throw new Error("Invalid token verifier");if(!o.verify(t))throw new Error("Token verification failed");return s}function Wn(t,e){let s=e?Gn(t,e):os(t);if(s&&s.hasOwnProperty("payload")){let r=s.payload;if(typeof r=="string")throw new Error("[micro-stacks] extractProfile: Unexpected token payload type of string");if(r.hasOwnProperty("claim"))return r.claim}return{}}async function Jn(t,e){let s=fn(t);if(s.hasOwnProperty("$origin")||(s=null),!(s&&Object.keys(s).length>0))return jn(JSON.parse(t));let r=qn(s);if(r)try{let a=await(await Dt(r)).json();return Wn(a[0].token,e)}catch(a){throw console.error(`[micro-stacks] resolveZoneFileToProfile: error fetching token file ${r}: ${a}`),a}return console.debug("[micro-stacks] Token file url not found. Resolving to blank profile."),{}}async function Xn(t){let{username:e,zoneFileLookupURL:s=Cs}=t;if(!e)return Promise.reject();let r=`${s.replace(/\/$/,"")}/${t.username}`,a=await(await Dt(r)).json();if(a.hasOwnProperty("zonefile")&&a.hasOwnProperty("address"))return await Jn(a.zonefile,t.verify?a.address:void 0);throw new Error("Invalid zonefile lookup response: did not contain `address` or `zonefile` field")}async function Us(t,e,s,r){let a=await Xn({username:e,zoneFileLookupURL:r}),n;if(a)return a.hasOwnProperty("apps")?a.apps.hasOwnProperty(s)&&(n=`${a.apps[s].replace(/\/?(\?|#|$)/,"/$1")}${t}`):a.hasOwnProperty("appsMeta")&&a.appsMeta.hasOwnProperty(s)&&(n=`${a.appsMeta[s].replace(/\/?(\?|#|$)/,"/$1")}${t}`),n}async function Zn(t,e){let s;if(e.username?s=await Us(t,e.username,e.app,e.zoneFileLookupURL):s=await _s(t,e.gaiaHubConfig),s)return s;throw new Error("Missing readURL")}async function Rs(t){let{app:e,username:s,zoneFileLookupURL:r,gaiaHubConfig:a}=t,n;s?n=await Us("/",s,e,r):a&&(n=await _s("/",a));let o=/([13][a-km-zA-HJ-NP-Z0-9]{26,35})/.exec(n);if(!o)throw new Error("Failed to parse gaia address");return o[o.length-1]}async function Ae(t){let{path:e,forceText:s,app:r,username:a,zoneFileLookupURL:n,gaiaHubConfig:o}=t,c=await Zn(e,{app:r,username:a,zoneFileLookupURL:n,gaiaHubConfig:o}),d=await Dt(c);if(!d.ok)throw await Ns(d,`getFile ${e} failed.`,null);let p=d.headers.get("Content-Type");if(typeof p=="string"&&(p=p.toLowerCase()),s||p===null||p.startsWith("text")||p.startsWith("application/json"))return d.text();{let g=await d.arrayBuffer();return po(g)}}async function Yn(t,e){let{app:s,username:r,zoneFileLookupURL:a,gaiaHubConfig:n}=e,o=`${t}${Kt}`;try{let[c,d,p]=await Promise.all([Ae({path:t,app:s,username:r,zoneFileLookupURL:a,forceText:!1,gaiaHubConfig:n}),Ae({path:o,app:s,username:r,zoneFileLookupURL:a,forceText:!0,gaiaHubConfig:n}),Rs({app:s,username:r,zoneFileLookupURL:a,gaiaHubConfig:n})]);if(!c)return c;if(!p)throw new at(`Failed to get gaia address for verification of: ${t}`);if(!d||typeof d!="string")throw new at(`Failed to obtain signature for file: ${t} -- looked in ${t}${Kt}`);let g,f;try{let h=JSON.parse(d);g=h.signature,f=h.publicKey}catch(h){throw h instanceof SyntaxError?new Error(`Failed to parse signature content JSON (path: ${t}${Kt}) The content may be corrupted.`):h}let E=ps(f),b=typeof c=="string"?fo(c):c,S=Xr({signature:g,contents:b,publicKey:f});if(p!==E)throw new at(`Signer pubkey address (${E}) doesn't match gaia address (${p})`);if(S)return c;throw new at(`Contents do not match ECDSA signature: path: ${t}, signature: ${t}${Kt}`)}catch(c){throw c instanceof Ts&&c.message.indexOf(o)>=0?new at(`Failed to obtain signature for file: ${t} -- looked in ${t}${Kt}`):c}}async function Qn(t){let{path:e,storedContents:s,app:r,privateKey:a,username:n,zoneFileLookupURL:o,gaiaHubConfig:c}=t,d=a,p=d?Qt(d,!0):null,g=null;if(n||c?g=await Rs({app:r,username:n,zoneFileLookupURL:o,gaiaHubConfig:c}):p&&(g=ps(p)),!g)throw new at(`Failed to get gaia address for verification of: ${e}`);let f;try{f=JSON.parse(s)}catch(k){throw k instanceof SyntaxError?new Error("Failed to parse encrypted, signed content JSON. The content may not be encrypted. If using getFile, try passing { verify: false, decrypt: false }."):k}let E=f.signature,b=f.publicKey,S=f.cipherText,h=ps(b);if(!b||!S||!E)throw new at(`Failed to get signature verification data from file: ${e}`);if(h!==g)throw new at(`Signer pubkey address (${h}) doesn't match gaia address (${g})`);if(!Xr({signature:E,contents:S,publicKey:b}))throw new at(`Contents do not match ECDSA signature in file: ${e}`);if(!a)throw Error("Private key needs to be passed in order to decrypt content");return hs(S,{privateKey:a})}async function ti(t,e){let s={decrypt:!0,verify:!1,app:Ft("location",{returnEmptyObject:!0}).origin,zoneFileLookupURL:Cs,...e};if(s.verify&&!s.decrypt)return Yn(t,s);let r=await Ae({path:t,app:s.app,username:s.username,zoneFileLookupURL:s.zoneFileLookupURL,forceText:!!s.decrypt,gaiaHubConfig:s.gaiaHubConfig});if(r===null)return r;if(typeof r!="string")throw new Error("[micro-stacks/storage] Expected to get back a string for the cipherText");let a=!!s.verify,n=!!s.decrypt,o=typeof s.decrypt=="string"?s.decrypt:s.privateKey;if(r.includes("signature")&&r.includes("publicKey")&&(a=!0),r.includes("cipherText")&&r.includes("ephemeralPK")&&(n=!0),!a&&!n)return r;let c=!r.includes("cipherText");if(n&&c)throw new Error(`[micro-stacks/storage] Expected to get back a string that includes cipherText, is it encrypted? got back: ${JSON.stringify(r)}`);if(!o)throw new Error("[micro-stacks/storage] No private key was passed to getFile, a private key needs to be passed if decrypt is set to true");if(!a)return hs(r,{privateKey:o});if(n&&a)return Qn({path:t,storedContents:r,app:s.app,privateKey:o,username:s.username,zoneFileLookupURL:s.zoneFileLookupURL,gaiaHubConfig:s.gaiaHubConfig});throw new Error("[micro-stacks/storage] Should be unreachable.")}var ei="micro-stacks",Ds={getItem:t=>null,setItem:(t,e)=>{},removeItem:t=>{}},Fs=si({storage:typeof window<"u"?window.localStorage:Ds,serialize:JSON.stringify,deserialize:JSON.parse});function si({storage:t,key:e=ei,serialize:s,deserialize:r}){return{...t,getItem:(a,n=null)=>{let o=`${e}.${a.replace(`${e}.`,"")}`,c=t.getItem(o);if(!r)return c??n;try{return c?r(c):n}catch(d){return console.warn(d),n}},setItem:(a,n)=>{let o=`${e}.${a.replace(`${e}.`,"")}`;if(n===null)t.removeItem(o);else try{let c=s?s(n):n;t.setItem(o,c)}catch(c){console.error(c)}},removeItem:a=>t.removeItem(`${e}.${a}`)}}function Ks(t){return`[@micro-stacks/client] ${t}`}function D(t,e){pn(t,Ks(e))}var ri=(t=>(t.ContractCall="contract_call",t.TokenTransfer="token_transfer",t.ContractDeploy="contract_deploy",t))(ri||{}),ai=(t=>(t.Authentication="status/Authentication",t.TransactionSigning="status/TransactionSigning",t.MessageSigning="status/MessageSigning",t.StructuredMessageSigning="status/StructuredMessageSigning",t))(ai||{}),ni=(t=>(t.IsLoading="status/IsLoading",t.IsIdle="status/IsIdle",t))(ni||{}),Ls="store",ii=typeof document>"u",oi=function(t){var e=t.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return e};function $e(t){if(t&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(t)&&!/%[^0-9a-f]/i.test(t)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(t)){var e=[],s="",r="",a="",n="",o="",c="";if(e=oi(t),s=e[1],r=e[2],a=e[3],n=e[4],o=e[5],!!(s&&s.length&&a.length>=0)){if(r&&r.length){if(!(a.length===0||/^\//.test(a)))return}else if(/^\/\//.test(a))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(s.toLowerCase()))return c+=s+":",r&&r.length&&(c+="//"+r),c+=a,n&&n.length&&(c+="?"+n),o&&o.length&&(c+="#"+o),c}}}var ci="(?<domain>([^?#]*)) wants you to sign in with your Stacks account:",li="\\n(?<address>S[A-Z0-9]{40})\\n\\n",ui="((?<statement>[^\\n]+)\\n)?",Ms="(([^:?#]+):)?(([^?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?",di=`\\nURI: (?<uri>${Ms}?)`,hi="\\nVersion: (?<version>1)",pi="\\nChain ID: (?<chainId>[0-9]+)",fi="\\nNonce: (?<nonce>[a-zA-Z0-9]{8,})",Te="([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(.[0-9]+)?(([Zz])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))",gi=`\\nIssued At: (?<issuedAt>${Te})`,mi=`(\\nExpiration Time: (?<expirationTime>${Te}))?`,vi=`(\\nNot Before: (?<notBefore>${Te}))?`,yi="(\\nRequest ID: (?<requestId>[-._~!$&'()*+,;=:@%a-zA-Z0-9]*))?",wi=`(\\nResources:(?<resources>(\\n- ${Ms}?)+))?`,bi=`^${ci}${li}${ui}${di}${hi}${pi}${fi}${gi}${mi}${vi}${yi}${wi}$`,Si=class{constructor(t){u(this,"domain");u(this,"address");u(this,"statement");u(this,"uri");u(this,"version");u(this,"chainId");u(this,"nonce");u(this,"issuedAt");u(this,"expirationTime");u(this,"notBefore");u(this,"requestId");u(this,"resources");u(this,"match");var e,s,r,a,n,o,c,d,p,g,f,E,b,S;let h=new RegExp(bi,"g").exec(t);if(!h)throw new Error("Message did not match the regular expression.");if(this.match=h,this.domain=(e=h==null?void 0:h.groups)==null?void 0:e.domain,this.domain.length===0||!/[^#?]*/.test(this.domain))throw new Error("Domain cannot be empty.");if(this.address=(s=h==null?void 0:h.groups)==null?void 0:s.address,!Zr(this.address))throw new Error("Invalid address.");if(this.statement=(r=h==null?void 0:h.groups)==null?void 0:r.statement,this.uri=(a=h==null?void 0:h.groups)==null?void 0:a.uri,!$e(this.uri))throw new Error("Invalid URI.");this.version=(n=h==null?void 0:h.groups)==null?void 0:n.version,this.nonce=(o=h==null?void 0:h.groups)==null?void 0:o.nonce,this.chainId=parseInt((c=h==null?void 0:h.groups)==null?void 0:c.chainId),this.issuedAt=(d=h==null?void 0:h.groups)==null?void 0:d.issuedAt,this.expirationTime=(p=h==null?void 0:h.groups)==null?void 0:p.expirationTime,this.notBefore=(g=h==null?void 0:h.groups)==null?void 0:g.notBefore,this.requestId=(f=h==null?void 0:h.groups)==null?void 0:f.requestId,this.resources=(b=(E=h==null?void 0:h.groups)==null?void 0:E.resources)==null?void 0:b.split(`
- `).slice(1),((S=this.resources)==null?void 0:S.length)>0&&this.resources.forEach(k=>{if(!$e(k))throw new Error(`${k} is not a valid resource.`)})}},ki=["signature","domain","nonce","time"],Z=class{constructor(t,e,s){u(this,"type");u(this,"expected");u(this,"received");this.type=t,this.expected=e,this.received=s}},Ii=class{constructor(t){u(this,"domain");u(this,"address");u(this,"statement");u(this,"uri");u(this,"version");u(this,"chainId");u(this,"nonce");u(this,"issuedAt");u(this,"expirationTime");u(this,"notBefore");u(this,"requestId");u(this,"resources");typeof t=="string"&&(t=new Si(t)),this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources,typeof this.chainId=="string"&&(this.chainId=parseInt(this.chainId)),this.validateMessage()}toMessage(){this.validateMessage();let t=`${this.domain} wants you to sign in with your Stacks account:`,e=`URI: ${this.uri}`,s=[t,this.address].join(`
`),r=`Version: ${this.version}`,a="Chain ID: "+this.chainId||"1",n=`Nonce: ${this.nonce}`,o=[e,r,a,n];if(this.issuedAt&&Date.parse(this.issuedAt),this.issuedAt=this.issuedAt?this.issuedAt:new Date().toISOString(),o.push(`Issued At: ${this.issuedAt}`),this.expirationTime){let d=`Expiration Time: ${this.expirationTime}`;o.push(d)}this.notBefore&&o.push(`Not Before: ${this.notBefore}`),this.requestId&&o.push(`Request ID: ${this.requestId}`),this.resources&&o.push(["Resources:",...this.resources.map(d=>`- ${d}`)].join(`
`));let c=o.join(`
`);return s=[s,this.statement].join(`

`),this.statement&&(s+=`
`),[s,c].join(`
`)}prepareMessage(){let t;switch(this.version){case"1":{t=this.toMessage();break}default:{t=this.toMessage();break}}return t}async verify(t){return new Promise(async(e,s)=>{Object.keys(t).forEach(f=>{ki.includes(f)||s({success:!1,data:this,error:new Error(`${f} is not a valid key for VerifyParams.`)})});let r=f=>{s(f)},{signature:a,domain:n,nonce:o,time:c}=t;n&&n!==this.domain&&r({success:!1,data:this,error:new Z("Domain do not match provided domain for verification.",n,this.domain)}),o&&o!==this.nonce&&r({success:!1,data:this,error:new Z("Nonce do not match provided nonce for verification.",o,this.nonce)});let d=new Date(c||new Date);if(this.expirationTime){let f=new Date(this.expirationTime);d.getTime()>=f.getTime()&&r({success:!1,data:this,error:new Z("Expired message.",`${d.toISOString()} < ${f.toISOString()}`,`${d.toISOString()} >= ${f.toISOString()}`)})}if(this.notBefore){let f=new Date(this.notBefore);d.getTime()<f.getTime()&&r({success:!1,data:this,error:new Z("Message is not valid yet.",`${d.toISOString()} >= ${f.toISOString()}`,`${d.toISOString()} < ${f.toISOString()}`)})}let p;try{p=this.prepareMessage()}catch(f){r({success:!1,data:this,error:f});return}let g;try{let f=Ss(p),E=Is({signature:a}),b=ks({hash:f,signature:E.signature,recoveryBytes:E.recoveryBytes});nn({signature:a,message:f})&&(g=ds(b,ge(this.address)[0]))}catch{}finally{g!==this.address&&r({success:!1,data:this,error:new Z("Signature do not match address of the message.",g,`Resolved address to be ${this.address}`)})}e({success:!0,data:this})})}validateMessage(...t){var e;if(t.length>0)throw new Z("Unable to parse the message.","Unexpected argument in the validateMessage function.");if(!this.domain||this.domain.length===0||!/[^#?]*/.test(this.domain))throw new Z("Invalid domain.",`${this.domain} to be a valid domain.`);if(!Zr(this.address))throw new Z("Invalid address.",`${this.address} to be a valid address.`);if(!$e(this.uri))throw new Z("URI does not conform to RFC 3986.",`${this.uri} to be a valid uri.`);if(this.version!=="1")throw new Z("Invalid message version.","1",this.version);let s=(e=this==null?void 0:this.nonce)==null?void 0:e.match(/[a-zA-Z0-9]{8,}/);if(!s||this.nonce.length<8||s[0]!==this.nonce)throw new Z("Nonce size smaller then 8 characters or is not alphanumeric.",`Length > 8 (${s==null?void 0:s.length}). Alphanumeric.`,this.nonce);let r=/([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(([Zz])|([+|\-]([01][0-9]|2[0-3]):[0-5][0-9]))/;if(this.issuedAt&&!r.test(this.issuedAt))throw new Error("Invalid time format.");if(this.expirationTime&&!r.test(this.expirationTime))throw new Error("Invalid time format.");if(this.notBefore&&!r.test(this.notBefore))throw new Error("Invalid time format.")}},ee=1;function zs({state:t,version:e}){var s,r,a;return JSON.stringify([[(s=t.network)==null?void 0:s.chainId,(a=(r=t.network)==null?void 0:r.getCoreApiUrl)==null?void 0:a.call(r)],[t.currentAccountIndex,t.accounts.map(n=>({appPrivateKey:n.appPrivateKey,address:fs(n.address[0],gs(n.address[1])),profile_url:n.profile_url}))],e])}function Ei(t){let e=JSON.parse(t),[s,r]=e[0],[a,n]=e[1],o=e[2]??ee;return{network:s===Yt.Mainnet?new Ot({url:r}):new oe({url:r}),currentAccountIndex:a,accounts:n.map(c=>{let[d,p]=ge(c.address);return{appPrivateKey:c.appPrivateKey,address:[d,tt(p)],profile_url:c.profile_url}}),version:o}}var Bs=t=>{if(t){if(typeof t!="string")return t;if(t==="testnet")return new oe}return new Ot},xe=({network:t=new Ot,...e})=>({statuses:{["status/Authentication"]:"status/IsIdle",["status/TransactionSigning"]:"status/IsIdle",["status/MessageSigning"]:"status/IsIdle",["status/StructuredMessageSigning"]:"status/IsIdle"},network:Bs(t),appName:e.appName,appIconUrl:e.appIconUrl,accounts:[],currentAccountIndex:0,onPersistState:e.onPersistState,onAuthentication:e.onAuthentication,onNoWalletFound:e.onNoWalletFound,onSignOut:e.onSignOut}),Ne=(t,e)=>{try{let{version:s,...r}=Ei(t);return{state:{...xe(e),...r},version:s}}catch{return{state:xe(e),version:ee}}},Ai=()=>{if(!Ft("localStorage",{throwIfUnavailable:!1}))return;let t=localStorage.getItem("MICRO_STACKS_DEBUG");if(t)return JSON.parse(t)},$i=class{constructor(t={}){u(this,"config");u(this,"storage");u(this,"store");u(this,"debug");u(this,"fetcher");u(this,"getState",()=>this.store.getState());u(this,"onStorageUpdate",t=>{if(typeof document<"u"){let e=window.location.host,s=new URL(t.url).host,r=e===s,a=t.key==="micro-stacks.store";if(r&&a){let n=t.newValue;this.hydrate(JSON.parse(n))}}});u(this,"tabSyncSubscription",t=>{let e=typeof document<"u";return e&&t&&window.addEventListener("storage",this.onStorageUpdate),()=>{e&&t&&window.removeEventListener("storage",this.onStorageUpdate)}});u(this,"onPersistState",t=>{var e,s;return(s=(e=this.store.getState())==null?void 0:e.onPersistState)==null?void 0:s.call(e,t)});u(this,"setOnPersistState",t=>{this.setState(e=>({...e,onPersistState:t})),this.config.onPersistState=t});u(this,"setOnNoWalletFound",t=>{this.setState(e=>({...e,onNoWalletFound:t})),this.config.onPersistState=t});u(this,"setOnSignOut",t=>{this.setState(e=>({...e,onSignOut:t})),this.config.onSignOut=t});u(this,"setOnAuthentication",t=>{this.setState(e=>({...e,onAuthentication:t})),this.config.onAuthentication=t});u(this,"persist",async()=>{if(this.onPersistState){let t=this.dehydrate(this.store.getState());await this.onPersistState(t)}});u(this,"selectHasSession",t=>Boolean(t.accounts.length));u(this,"selectAccounts",t=>t.accounts);u(this,"selectAccount",t=>this.selectHasSession(t)?t.accounts[t.currentAccountIndex]:void 0);u(this,"selectNetwork",t=>this.config.enableNetworkSwitching?t.network:Bs(this.config.network));u(this,"selectNetworkChain",t=>this.selectNetwork(t).chainId===Yt.Mainnet?"mainnet":"testnet");u(this,"selectTestnetStxAddress",t=>{let e=this.selectAccount(t);return e?fs(e.address[0]===ms.mainnetP2SH?ms.testnetP2SH:ms.testnetP2PKH,gs(e.address[1])):void 0});u(this,"selectMainnetStxAddress",t=>{let e=this.selectAccount(t);return e?fs(e.address[0],gs(e.address[1])):void 0});u(this,"selectStxAddress",t=>this.selectNetworkChain(t)==="mainnet"?this.selectMainnetStxAddress(t):this.selectTestnetStxAddress(t));u(this,"selectAppDetails",t=>t.appName&&t.appIconUrl?{name:t.appName,icon:t.appIconUrl}:void 0);u(this,"selectIdentityAddress",t=>{let e=this.selectAccount(t);return e!=null&&e.appPrivateKey?Gr(e.appPrivateKey):void 0});u(this,"selectDecentralizedID",t=>{let e=this.selectIdentityAddress(t);return e?`did:btc-addr:${e}`:void 0});u(this,"selectStatuses",t=>t.statuses);u(this,"statuses",()=>this.selectStatuses(this.getState()));u(this,"isSignMessageRequestPending",()=>this.statuses()["status/MessageSigning"]);u(this,"isSignStructuredMessageRequestPending",()=>this.statuses()["status/StructuredMessageSigning"]);u(this,"authenticate",async t=>{if(!this.handleNoStacksProviderFound())return;let e=this.selectAppDetails(this.getState());D(e,"App details are not defined for you app. Most functionality (authentication, signing requests) require details be passed to the wallet. Add them to your MicroStacksClient config.");let s=this.selectAccounts(this.getState());this.setIsRequestPending("status/Authentication"),await Fa({appDetails:e,onFinish:async({profile:r,...a})=>{var n,o;let[c,d]=ge(a.addresses.mainnet),p=[c,tt(d)];s.find(g=>g.address===p)?this.setState(g=>({...g,currentAccountIndex:s.findIndex(f=>f.address===p)})):this.setState(g=>{var f;return{...g,accounts:g.accounts.concat({address:p,appPrivateKey:(f=this.debug)!=null&&f.disableAppPrivateKey?void 0:a.appPrivateKey,decentralizedID:a.decentralizedID,profile_url:a.profile_url}),currentAccountIndex:g.accounts.length}}),(n=t==null?void 0:t.onFinish)==null||n.call(t,a),(o=this.onAuthentication)==null||o.call(this,{profile:r,...a}),await this.persist(),this.setIsIdle("status/Authentication")},onCancel:r=>{var a;this.setIsIdle("status/Authentication"),(a=t==null?void 0:t.onCancel)==null||a.call(t,r)}},Ds)});u(this,"signOut",async t=>{var e,s,r,a;return(r=(s=(e=this.store)==null?void 0:e.persist)==null?void 0:s.clearStorage)==null||r.call(s),(a=this.onSignOut)==null||a.call(this),this.resetState(),t==null?void 0:t()});u(this,"getSignInMessage",({domain:t,nonce:e,version:s="1.0.0"})=>{if(!this.handleNoStacksProviderFound())return;let r=this.getState(),a=this.selectAppDetails(r),n=this.selectStxAddress(r);D(a,"App details are not defined for you app. Most functionality (authentication, signing requests) require details be passed to the wallet. Add them to your MicroStacksClient config."),D(n,"No current Stacks address can be found. This could be because a session has been invalidated, or the user is not signed in.");let o=Ft("document",{throwIfUnavailable:!1})?window.location.origin:"";return new Ii({domain:a.name,address:n,statement:"Sign in with Stacks",uri:t??o,version:s,chainId:Yt.Mainnet,nonce:e})});u(this,"signTransaction",async(t,e)=>{if(!this.handleNoStacksProviderFound())return;let s=this.getState(),r=this.selectAppDetails(s),a=this.selectStxAddress(s),n=this.selectAccount(s),o=this.selectNetwork(s);D(r,"App details are not defined for you app. Most functionality (authentication, signing requests) require details be passed to the wallet. Add them to your MicroStacksClient config."),D(a,"No current Stacks address can be found. This could be because a session has been invalidated, or the user is not signed in."),D(n,"There is not current user session available. Please make sure the user has signed in before attempting this action."),this.setIsRequestPending("status/TransactionSigning");let c,d={privateKey:n.appPrivateKey,appDetails:r,stxAddress:a,network:o,postConditionMode:e.postConditionMode,postConditions:e.postConditions,attachment:e.attachment,sponsored:e.sponsored},p=await(t==="token_transfer"?Pa:t==="contract_call"?Ca:Oa)({...d,...e});return D(p,"Transaction JWT could not be created"),await Ba({token:p,onFinish:g=>{var f;c=g,(f=e==null?void 0:e.onFinish)==null||f.call(e,g),this.setIsIdle("status/TransactionSigning")},onCancel:g=>{var f;(f=e==null?void 0:e.onCancel)==null||f.call(e,g),this.setIsIdle("status/TransactionSigning")}}),c});u(this,"signMessage",async t=>{if(!this.handleNoStacksProviderFound())return;let e=this.getState(),s=this.selectAppDetails(e),r=this.selectStxAddress(e),a=this.selectAccount(e),n=this.selectNetwork(e);D(s,"App details are not defined for you app. Most functionality (authentication, signing requests) require details be passed to the wallet. Add them to your MicroStacksClient config."),D(r,"No current Stacks address can be found. This could be because a session has been invalidated, or the user is not signed in."),D(a,"There is not current user session available. Please make sure the user has signed in before attempting this action."),D(t.message,"No message found -- a message is required when requesting a message signature."),this.setIsRequestPending("status/MessageSigning");let o;return await Ga({appDetails:s,privateKey:a.appPrivateKey,stxAddress:r,network:n,message:t.message,onFinish:c=>{var d;o=c,(d=t==null?void 0:t.onFinish)==null||d.call(t,c),this.setIsIdle("status/MessageSigning")},onCancel:c=>{var d;(d=t==null?void 0:t.onCancel)==null||d.call(t,c),this.setIsIdle("status/MessageSigning")}}),o});u(this,"signStructuredMessage",async t=>{var e,s,r;if(!this.handleNoStacksProviderFound())return;let a=this.getState(),n=this.selectAppDetails(a),o=this.selectStxAddress(a),c=this.selectAccount(a),d=this.selectNetwork(a);D(n,"App details are not defined for you app. Most functionality (authentication, signing requests) require details be passed to the wallet. Add them to your MicroStacksClient config."),D(o,"No current Stacks address can be found. This could be because a session has been invalidated, or the user is not signed in."),D(c,"There is not current user session available. Please make sure the user has signed in before attempting this action."),D(t.message,"No message found -- a message is required when requesting a message signature."),this.setIsRequestPending("status/StructuredMessageSigning");let p;return await Xa({appDetails:n,privateKey:c.appPrivateKey,stxAddress:o,network:d,domain:{name:((e=t.domain)==null?void 0:e.name)??n.name,version:((s=t.domain)==null?void 0:s.version)??"1.0.0",chainId:((r=t.domain)==null?void 0:r.chainId)??d.chainId},message:t.message,onFinish:g=>{var f;p=g,(f=t==null?void 0:t.onFinish)==null||f.call(t,g),this.setIsIdle("status/StructuredMessageSigning")},onCancel:g=>{var f;(f=t==null?void 0:t.onCancel)==null||f.call(t,g),this.setIsIdle("status/StructuredMessageSigning")}}),p});u(this,"setNetwork",t=>{if(!this.config.enableNetworkSwitching)throw new Error(Ks("Network switching is currently disabled. Set `enableNetworkSwitching` to `true` to enable."));typeof t=="string"?this.setState(e=>({...e,network:t==="mainnet"?new Ot:new oe})):this.setState(e=>({...e,network:t})),this.persist()});u(this,"putFile",(t,e,{encrypt:s=!0,sign:r})=>{let a=this.selectHasSession(this.getState()),n=this.selectGaiaHubConfig(this.getState()),o=this.selectAccount(this.getState());if(!a){console.warn("There is not current user session available. Please make sure the user has signed in before attempting this action.");return}if(!(o!=null&&o.appPrivateKey)||!n){console.warn("The current user session has no `appPrivateKey` defined. Certain actions require an `appPrivateKey`, such as using gaia or encryption.");return}return Hn(t,e,{privateKey:o.appPrivateKey,gaiaHubConfig:n,encrypt:s,sign:r,wasString:typeof e=="string"})});u(this,"getFile",(t,{decrypt:e=!0,verify:s})=>{let r=this.selectHasSession(this.getState()),a=this.selectGaiaHubConfig(this.getState()),n=this.selectAccount(this.getState());if(!r){console.warn("There is not current user session available. Please make sure the user has signed in before attempting this action.");return}if(!(n!=null&&n.appPrivateKey)||!a){console.warn("The current user session has no `appPrivateKey` defined. Certain actions require an `appPrivateKey`, such as using gaia or encryption.");return}return ti(t,{privateKey:n.appPrivateKey,gaiaHubConfig:a,decrypt:e,verify:s})});let e={storage:(t==null?void 0:t.storage)??Fs,network:(t==null?void 0:t.network)??new Ot,...t},s=typeof e.dehydratedState=="function"?e.dehydratedState(this.storeKey):e.dehydratedState,r=s?Ne(s,e):{state:xe(e),version:ee};this.store=on(ln(dn(()=>r.state,{name:Ls,getStorage:()=>e.storage,version:r.version,serialize:({state:a,version:n})=>zs({state:a,version:n??ee}),deserialize:a=>Ne(a,e)}))),this.debug=Ai(),this.config=e,this.storage=e.storage,this.fetcher=e.fetcher||Dt}setState(t){let e=typeof t=="function"?t(this.store.getState()):t;this.store.setState(e,!0)}resetState(){this.setState(t=>({...t,accounts:[],currentAccountIndex:0}))}get subscribe(){return this.store.subscribe}getStacksProvider(){return Ft("StacksProvider",{throwIfUnavailable:!1})}subscribeToStacksProvider(t,e=100){if(this.getStacksProvider())return t(),()=>{};{let s=setInterval(()=>{this.getStacksProvider()&&(t(),clearInterval(s))},e);return()=>{typeof s<"u"&&clearInterval(s)}}}get storeKey(){return Ls}get onAuthentication(){var t;return(t=this.store.getState())==null?void 0:t.onAuthentication}get onNoWalletFound(){var t;return(t=this.store.getState())==null?void 0:t.onNoWalletFound}get onSignOut(){var t;return(t=this.store.getState())==null?void 0:t.onSignOut}dehydrate(t){return zs({state:t??this.store.getState(),version:ee})}hydrate(t){let e=Ne(t,this.config);this.setState(e.state)}setStatus(t,e){this.setState(s=>({...s,statuses:{...s.statuses,[t]:e}}))}setIsRequestPending(t){this.setStatus(t,"status/IsLoading")}setIsIdle(t){this.setStatus(t,"status/IsIdle")}handleNoStacksProviderFound(){return typeof this.getStacksProvider()>"u"?typeof this.onNoWalletFound<"u"?(this.onNoWalletFound(),!1):(D(this.getStacksProvider(),"The injected `StacksProvider` cannot be found. This is typically because there is no Stacks wallet available, such as the Hiro web wallet extension or the iOS/Android wallet Xverse."),!1):!0}selectGaiaHubConfig(t){let e=this.selectHasSession(t),s=this.selectAccount(t);if(!(!e||!(s!=null&&s.appPrivateKey)))return Dn({gaiaHubUrl:"https://hub.blockstack.org",privateKey:s.appPrivateKey})}async fetchBNSName(){var t;let e=this.selectStxAddress(this.getState()),s=this.selectNetwork(this.getState());if(!e){console.warn("No Stacks address found while trying to fetch BNS name");return}let r=s.getCoreApiUrl()+`/v1/addresses/stacks/${e}`;try{let a=await(await this.fetcher(r)).json();return(t=a==null?void 0:a.names)==null?void 0:t[0]}catch(a){console.log("[@micro-stacks/client] fetchBNSName failed",a)}}async fetchZoneFile(){try{let t=this.selectStxAddress(this.getState()),e=this.selectNetwork(this.getState());if(!t){console.warn("No Stacks address found while trying to fetch zonefile name");return}let s=e.getCoreApiUrl()+`/v1/names/${t}/zonefile`;return await(await this.fetcher(s)).json()}catch(t){console.log("[@micro-stacks/client] fetchZoneFile failed",t)}}async fetchProfile(){let t=this.selectAccount(this.getState());if(t!=null&&t.profile_url)try{return await(await this.fetcher(t.profile_url)).json()}catch(e){console.log("[@micro-stacks/client] fetchProfile failed",e)}}encrypt(t,e={}){var s;if(e!=null&&e.publicKey&&(e!=null&&e.privateKey))throw Error("Error: do not pass both `publicKey` and `privateKey` to client.encrypt");return Jr(t,{...e,privateKey:e.privateKey??((s=this.selectAccount(this.getState()))==null?void 0:s.appPrivateKey)})}decrypt(t,e){var s;let r=e.privateKey??((s=this.selectAccount(this.getState()))==null?void 0:s.appPrivateKey);if(!r)throw Error("You must pass a `privateKey` value to client.decrypt");return hs(t,{privateKey:r})}},Vs;function Ti(t){let e=(t==null?void 0:t.client)??new $i(t==null?void 0:t.config);return ii?e:(Vs=e,Vs)}var Hs="micro-stacks-client-context",xi=({appName:t,appIconUrl:e,storage:s=Fs,network:r,dehydratedState:a,onPersistState:n,onSignOut:o,onAuthentication:c,onNoWalletFound:d,fetcher:p})=>{Mi(Hs,Ti({config:{appName:t,appIconUrl:e,storage:s,network:r,dehydratedState:a,onPersistState:n,onSignOut:o,onAuthentication:c,onNoWalletFound:d,fetcher:p}}))},Ni="No MicroStacksClient set, mount the client in your app by wrapping your app in `ClientProvider` or using `mountClient`",_i=()=>{let t=zi(Hs);if(!t)throw new Error(Ni);return t};const Ci=Bi({});function qs(t){let e,s,r,a=t[0],n,o,c;s=new Qr({}),s.$on("network_change",t[2]);let d=js(t);return o=new ca({}),{c(){e=m("div"),Ye(s.$$.fragment),r=$(),d.c(),n=$(),Ye(o.$$.fragment),this.h()},l(p){e=v(p,"DIV",{class:!0});var g=w(e);Qe(s.$$.fragment,g),r=T(g),d.l(g),n=T(g),Qe(o.$$.fragment,g),g.forEach(y),this.h()},h(){i(e,"class","app svelte-210wo4")},m(p,g){ne(p,e,g),ts(s,e,null),l(e,r),d.m(e,null),l(e,n),ts(o,e,null),c=!0},p(p,g){g&1&&re(a,a=p[0])?(Br(),_t(d,1,1,Rt),zr(),d=js(p),d.c(),yt(d,1),d.m(e,n)):d.p(p,g)},i(p){c||(yt(s.$$.fragment,p),yt(d),yt(o.$$.fragment,p),c=!0)},o(p){_t(s.$$.fragment,p),_t(d),_t(o.$$.fragment,p),c=!1},d(p){p&&y(e),es(s),d.d(p),es(o)}}}function js(t){let e;const s=t[4].default,r=ji(s,t,t[3],null);return{c(){r&&r.c()},l(a){r&&r.l(a)},m(a,n){r&&r.m(a,n),e=!0},p(a,n){r&&r.p&&(!e||n&8)&&Gi(r,s,a,a[3],e?Ji(s,a[3],n,null):Wi(a[3]),null)},i(a){e||(yt(r,a),e=!0)},o(a){_t(r,a),e=!1},d(a){r&&r.d(a)}}}function Oi(t){let e,s,r=t[1]&&qs(t);return{c(){r&&r.c(),e=Mr()},l(a){r&&r.l(a),e=Mr()},m(a,n){r&&r.m(a,n),ne(a,e,n),s=!0},p(a,[n]){a[1]?r?(r.p(a,n),n&2&&yt(r,1)):(r=qs(a),r.c(),yt(r,1),r.m(e.parentNode,e)):r&&(Br(),_t(r,1,1,()=>{r=null}),zr())},i(a){s||(yt(r),s=!0)},o(a){_t(r),s=!1},d(a){r&&r.d(a),a&&y(e)}}}function Pi(t,e,s){let r;Kr(t,ie,S=>s(7,r=S));let{$$slots:a={},$$scope:n}=e,o=0;const c=ie.subscribe(()=>{});Vi(c);const d=()=>{s(0,o++,o)};let p=!1,g="";typeof window<"u"&&(g=window.location.origin);const f={appName:"sBTC Client",appIconUrl:g+"/img/logo.png",network:r.network==="mainnet"?new Ot:new oe};xi(f),Ci.set(_i());const E=async()=>{const S=await Vr(r.network),h=r;h.sbtcWalletAddress=S,ie.update(()=>h)};let b;return Hi(async()=>{b=await Di(()=>import("../../chunks/bootstrap.esm-4edc9f9d.js"),[],import.meta.url);try{await E()}catch(S){console.log(S)}s(1,p=!0),await qi(),setTimeout(function(){const S=window.document.querySelectorAll('[data-bs-toggle="tooltip"]');S&&[...S].map(k=>new b.Tooltip(k));const h=window.document.querySelectorAll('[data-bs-toggle="dropdown"]');h&&[...h].map(k=>new b.Dropdown(k))},500)}),t.$$set=S=>{"$$scope"in S&&s(3,n=S.$$scope)},[o,p,d,n,a]}Yr=class extends de{constructor(e){super(),he(this,e,Pi,Oi,re,{})}}})();export{mo as __tla,Yr as default};
